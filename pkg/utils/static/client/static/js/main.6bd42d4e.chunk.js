(this["webpackJsonpnervatura-client"]=this["webpackJsonpnervatura-client"]||[]).push([[0],{10:function(e,t,r){e.exports={sidebar:"SideBar_sidebar__UWUHS",animateleft:"SideBar_animateleft__3dW2J",selectButton:"SideBar_selectButton__3AqBV",groupButton:"SideBar_groupButton__X8Dcr",itemButton:"SideBar_itemButton__1cTHM",panelGroup:"SideBar_panelGroup__2ELL6",panelButton:"SideBar_panelButton__AmPy_",selected:"SideBar_selected___6dYE",separator:"SideBar_separator__1JGpa",separatorSmall:"SideBar_separatorSmall__1wvCb",stateLabel:"SideBar_stateLabel__1Inmr",upper:"SideBar_upper__1E10j",previewLabel:"SideBar_previewLabel__7D3ef"}},130:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(18),a=function(){var e=Object(n.e)();return{quick:{customer:function(){return{sql:{select:["{CCS}'customer'{SEP}'//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as id","c.custname as label","c.custname as custname","c.custnumber as custnumber","addr.city as city","addr.street as street"],from:"customer c",left_join:[[[{select:["*"],from:"address",where:["id","in",[{select:["min(id) fid"],from:"address a",where:[["a.deleted","=","0"],["and","a.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]],group_by:["a.ref_id"]}]]}],"addr"],"on",["c.id","=","addr.ref_id"]],where:[["c.deleted","=","0"],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]},columns:[["custname","c.custname"],["custnumber","c.custnumber"],["city","addr.city"],["street","addr.street"]]}},employee:function(){return{sql:{select:["{CCS}'employee'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.empnumber as label","e.empnumber as empnumber","pt.groupvalue as usergroup","c.firstname as firstname","c.surname as surname"],from:"employee e",inner_join:["groups pt","on",["e.usergroup","=","pt.id"]],left_join:["contact c","on",[["e.id","=","c.ref_id"],["and","c.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]],where:[["e.deleted","=","0"]]},columns:[["empnumber","e.empnumber"],["usergroup","pt.groupvalue"],["firstname","c.firstname"],["surname","c.surname"]]}},payment:function(){return{sql:{select:["{CCS}'payment'{SEP}'/'{SEP} tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","{CCS}t.transnumber{SEP} case when tg.groupvalue='bank' then {CCS}' ~ '{SEP} {CAS_TEXT}p.id {CAE_TEXT} {CCE} else '' end {CCE} as label","{CCS}t.transnumber{SEP} case when tg.groupvalue='bank' then {CCS}' ~ '{SEP} {CAS_TEXT}p.id {CAE_TEXT} {CCE} else '' end {CCE} as paidnumber","{FMS_DATE}p.paiddate {FME_DATE} as paiddate","tg.groupvalue as transtype","dg.groupvalue as direction","pl.curr as curr","p.amount as amount","t.id as trans_id"],from:"payment p",inner_join:[["trans t","on",[["p.trans_id","=","t.id"],["and","t.deleted","=","0"]]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["place pl","on",["t.place_id","=","pl.id"]]],where:[["p.deleted","=","0"]]},columns:[["paidnumber","{CCS}t.transnumber{SEP} case when tg.groupvalue='bank' then {CCS}' ~ '{SEP} {CAS_TEXT}p.id {CAE_TEXT} {CCE} else '' end {CCE}"],["paiddate","p.paiddate"],["curr","pl.curr"],["amount","p.amount"]]}},place:function(){return{sql:{select:["{CCS}'place'{SEP}'/'{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","{CCS}p.planumber{SEP} case when p.curr is null then '' else {CCS}' | ' {SEP}p.curr {CCE} end{CCE} as label","p.planumber as planumber","p.description as description","pt.groupvalue as placetype"],from:"place p",inner_join:["groups pt","on",["p.placetype","=","pt.id"]],where:[["p.deleted","=","0"]]},columns:[["planumber","p.planumber"],["description","p.description"],["placetype","pt.groupvalue"]]}},place_bank:function(){return{sql:{select:["{CCS}'place'{SEP}'/'{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","{CCS}p.planumber{SEP} case when p.curr is null then '' else {CCS}' | ' {SEP}p.curr {CCE} end{CCE} as label","p.planumber as planumber","p.description as description","p.curr as curr"],from:"place p",inner_join:["groups pt","on",[["p.placetype","=","pt.id"],["and","pt.groupvalue","=","'bank'"]]],where:[["p.deleted","=","0"]]},columns:[["planumber","p.planumber"],["description","p.description"],["curr","p.curr"]]}},place_cash:function(){return{sql:{select:["{CCS}'place'{SEP}'/'{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","{CCS}p.planumber{SEP} case when p.curr is null then '' else {CCS}' | ' {SEP}p.curr {CCE} end{CCE} as label","p.planumber as planumber","p.description as description","p.curr as curr"],from:"place p",inner_join:["groups pt","on",[["p.placetype","=","pt.id"],["and","pt.groupvalue","=","'cash'"]]],where:[["p.deleted","=","0"]]},columns:[["planumber","p.planumber"],["description","p.description"],["curr","p.curr"]]}},place_warehouse:function(){return{sql:{select:["{CCS}'place'{SEP}'/'{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","p.planumber as label","p.planumber as planumber","p.description as description"],from:"place p",inner_join:["groups pt","on",[["p.placetype","=","pt.id"],["and","pt.groupvalue","=","'warehouse'"]]],where:[["p.deleted","=","0"]]},columns:[["planumber","p.planumber"],["description","p.description"]]}},product:function(){return{sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","p.partnumber as label","p.partnumber as partnumber","p.description as description","pt.groupvalue as protype","p.unit","p.tax_id"],from:"product p",inner_join:["groups pt","on",["p.protype","=","pt.id"]],where:[["p.deleted","=","0"]]},columns:[["partnumber","p.partnumber"],["description","p.description"],["protype","pt.groupvalue"]]}},product_item:function(){return{sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as label","p.partnumber as partnumber","p.description as description","pt.groupvalue as protype","p.unit","p.tax_id","tx.taxcode as tax"],from:"product p",inner_join:["groups pt","on",[["p.protype","=","pt.id"],["and","pt.groupvalue","=","'item'"]]],left_join:["tax tx","on",["p.tax_id","=","tx.id"]],where:[["p.deleted","=","0"]]},columns:[["partnumber","p.partnumber"],["description","p.description"],["protype","pt.groupvalue"],["tax","tx.taxcode"]]}},project:function(){return{sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","p.pronumber as label","p.pronumber as pronumber","p.description as description","p.startdate as startdate"],from:"project p",where:[["p.deleted","=","0"]]},columns:[["pronumber","p.pronumber"],["description","p.description"],["startdate","p.startdate"]]}},report:function(e){return{sql:{select:["{CCS}'report'{SEP}'//'{SEP} {CAS_TEXT}r.id {CAE_TEXT}{CCE} as id","r.repname as label","r.repname as repname","r.label as rlabel","r.description as description","ft.groupvalue as ftype"],from:"ui_report r",inner_join:[["groups tg","on",["r.nervatype","=","tg.id"]],["groups ft","on",["r.filetype","=","ft.id"]]],where:[["tg.groupvalue","=","'report'"],["and","ft.groupvalue","in",[[],"'pdf'","'csv'"]],["and","r.id","not in",[{select:["ur.id"],from:"ui_audit a",inner_join:[["ui_report ur","on",["a.subtype","=","ur.id"]],["groups inf","on",["a.inputfilter","=","inf.id"]]],where:[["inf.groupvalue","=","'disabled'"],["and","a.usergroup","=",e]]}]]]},columns:[["repname","r.repname"],["rlabel","r.label"],["description","r.description"]]}},servercmd:function(e){return{sql:{select:["{CCS}'servercmd'{SEP}'//'{SEP} {CAS_TEXT}m.id {CAE_TEXT}{CCE} as id","m.description as label","m.description as description"],from:"ui_menu m",inner_join:["groups st","on",["m.method","=","st.id"]],where:[["st.groupvalue","<>","'printer'"],["and","m.id","not in",[{select:["um.id"],from:"ui_audit a",inner_join:[["ui_menu um","on",["a.subtype","=","um.id"]],["groups inf","on",["a.inputfilter","=","inf.id"]]],where:[["inf.groupvalue","=","'disabled'"],["and","a.usergroup","=",e]]}]]]},columns:[["description","m.description"]]}},tool:function(){return{sql:{select:["{CCS}'tool'{SEP}'//'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.serial as label","t.serial as serial","t.description as description","p.description as product"],from:"tool t",inner_join:["product p","on",["t.product_id","=","p.id"]],where:[["t.deleted","=","0"]]},columns:[["serial","t.serial"],["description","t.description"],["product","p.description"]]}},transitem:function(){return{sql:{select:["{CCS}'trans'{SEP}'/'{SEP} tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.transnumber as label","t.transnumber as transnumber","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as transtype","c.custname as custname","t.deleted as deleted"],from:"trans t",inner_join:[["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'invoice'","'receipt'","'order'","'offer'","'worksheet'","'rent'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:["customer c","on",["t.customer_id","=","c.id"]],where:[[[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and","dg.groupvalue","=","'out'"]]]]]]},columns:[["transnumber","t.transnumber"],["transtype","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE}"],["custname","c.custname"]]}},transitem_invoice:function(){return{sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.transnumber as label","t.transnumber as transnumber","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as transtype","c.custname as custname","t.deleted as deleted","t.curr","t.id as trans_id"],from:"trans t",inner_join:[[["groups tg","on",["t.transtype","=","tg.id"]],["and","tg.groupvalue","in",[[],"'invoice'","'receipt'"]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:["customer c","on",["t.customer_id","=","c.id"]],where:[[[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]]]]]},columns:[["transnumber","t.transnumber"],["transtype","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE}"],["custname","c.custname"],["curr","t.curr"]]}},transitem_delivery:function(){return{sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.transnumber as label","t.transnumber as transnumber","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as transtype","c.custname as custname","t.deleted as deleted"],from:"trans t",inner_join:[["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'order'","'worksheet'","'rent'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:["customer c","on",["t.customer_id","=","c.id"]],where:[["t.deleted","=","0"]]},columns:[["transnumber","t.transnumber"],["transtype","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE}"],["custname","c.custname"]]}},transmovement:function(){return{sql:{select:["{CCS}'trans'{SEP}'/'{SEP} tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.transnumber as label","t.transnumber as transnumber","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as transtype","{FMS_DATE}t.transdate {FME_DATE} as transdate"],from:"trans t",inner_join:[["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'delivery'","'inventory'","'waybill'","'production'","'formula'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],where:[["t.deleted","=","0"]]},columns:[["transnumber","t.transnumber"],["transtype","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE}"],["transdate","{FMS_DATE}t.transdate {FME_DATE}"]]}},transpayment:function(){return{sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.transnumber as label","t.transnumber as transnumber","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as transtype","p.description as place","p.curr as curr"],from:"trans t",inner_join:[["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'bank'","'cash'"]]]],["groups dg","on",["t.direction","=","dg.id"]],["place p","on",["t.place_id","=","p.id"]]],where:[[[["t.deleted","=","0"],["or",["tg.groupvalue","=","'cash'"]]]]]},columns:[["transnumber","t.transnumber"],["transtype","{CCS}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE}"],["place","p.description"],["curr","p.curr"]]}}},customer:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]]}},CustomerView:{columns:{custnumber:!0,custname:!0,address:!0},label:e.getText("customer_view"),fields:{custnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("customer_custnumber"),sqlstr:"c.custnumber "},custname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("customer_custname"),sqlstr:"c.custname "},taxnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("customer_taxnumber"),sqlstr:"c.taxnumber "},custtype:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("customer_custtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},account:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("customer_account"),sqlstr:"c.account "},notax:{fieldtype:"bool",wheretype:"where",orderby:5,label:e.getText("customer_notax"),sqlstr:"c.notax "},terms:{fieldtype:"float",wheretype:"where",orderby:6,label:e.getText("customer_terms"),sqlstr:"c.terms "},creditlimit:{fieldtype:"float",wheretype:"where",aggretype:"sum",orderby:7,label:e.getText("customer_creditlimit"),sqlstr:"c.creditlimit "},discount:{fieldtype:"float",wheretype:"where",orderby:8,label:e.getText("customer_discount"),sqlstr:"c.discount "},notes:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("customer_notes"),sqlstr:"c.notes "},inactive:{fieldtype:"bool",wheretype:"where",orderby:10,label:e.getText("customer_inactive"),sqlstr:"c.inactive "},address:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("customer_address"),sqlstr:"{CCS}case when addr.city is null then '' else addr.city end {SEP} ' ' {SEP} case when addr.street is null then '' else addr.street end{CCE} "}},sql:{select:["{CCS}'customer'{SEP}'//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as id","c.id as row_id","c.custnumber","c.custname","case when mst.msg is null then tg.groupvalue else mst.msg end as custtype","c.taxnumber","c.account","c.notax","{FMS_FLOAT}c.terms{FME_FLOAT} as terms","c.terms as export_terms","{FMS_FLOAT}c.creditlimit{FME_FLOAT} as creditlimit","c.creditlimit as export_creditlimit","c.discount","c.notes","c.inactive","{CCS}case when addr.city is null then '' else addr.city end {SEP} ' ' {SEP} case when addr.street is null then '' else addr.street end{CCE} as address"],from:"customer c",inner_join:["groups tg","on",["c.custtype","=","tg.id"]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'custtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],[[[{select:["*"],from:"address",where:["id","in",[{select:["min(id) fid"],from:"address a",where:[["a.deleted","=","0"],["and","a.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]],group_by:["a.ref_id"]}]]}],"addr"],"on",["c.id","=","addr.ref_id"]]],where:[["c.deleted","=","0"],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]}},CustomerFieldsView:{columns:{custname:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),fields:{custnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("customer_custnumber"),sqlstr:"c.custnumber"},custname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("customer_custname"),sqlstr:"c.custname "},fielddef:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'customer'{SEP}'//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as id","fv.id as row_id","fv.fieldname","c.custnumber","c.custname","df.description as fielddef","'fieldvalue' as form","fg.groupvalue as fieldtype","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","df.visible","=","1"],["and","df.deleted","=","0"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["customer c","on",["fv.ref_id","=","c.id"]]],left_join:[[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and","c.deleted","=","0"],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]}},CustomerContactView:{columns:{custname:!0,firstname:!0,surname:!0,phone:!0},label:e.getText("contact_view"),fields:{custnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("customer_custnumber"),sqlstr:"c.custnumber "},custname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("customer_custname"),sqlstr:"c.custname "},firstname:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("contact_firstname"),sqlstr:"co.firstname"},surname:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("contact_surname"),sqlstr:" co.surname"},status:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("contact_status"),sqlstr:" co.status"},phone:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("contact_phone"),sqlstr:" co.phone"},fax:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("contact_fax"),sqlstr:" co.fax"},mobil:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("contact_mobil"),sqlstr:" co.mobil"},email:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("contact_email"),sqlstr:" co.email"},notes:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("contact_notes"),sqlstr:" co.notes"}},sql:{select:["{CCS}'customer'{SEP}'//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as id","co.id as row_id","c.custnumber","c.custname","co.firstname","co.surname","co.status","co.phone","co.fax","co.mobil","co.email","co.notes","'contact' as form","co.id as form_id"],from:"contact co",inner_join:["customer c","on",["co.ref_id","=","c.id"]],where:[["co.deleted","=","0"],["and","c.deleted","=","0"],["and","co.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]}},CustomerAddressView:{columns:{custname:!0,city:!0,street:!0},label:e.getText("address_view"),fields:{custnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("customer_custnumber"),sqlstr:"c.custnumber "},custname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("customer_custname"),sqlstr:"c.custname "},country:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("address_country"),sqlstr:"a.country"},state:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("address_state"),sqlstr:"a.state"},zipcode:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("address_zipcode"),sqlstr:"a.zipcode "},city:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("address_city"),sqlstr:"a.city"},street:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("address_street"),sqlstr:"a.street"},notes:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("address_notes"),sqlstr:"a.notes"}},sql:{select:["{CCS}'customer'{SEP}'//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as id","a.id as row_id","c.custnumber","c.custname","a.country","a.state","a.zipcode","a.city","a.street","a.notes","'address' as form","a.id as form_id"],from:"address a",inner_join:["customer c","on",["a.ref_id","=","c.id"]],where:[["a.deleted","=","0"],["and","c.deleted","=","0"],["and","a.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]}},CustomerEvents:{columns:{custname:!0,fromdate:!0,subject:!0},label:e.getText("event_view"),edit:"event",fields:{custnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("customer_custnumber"),sqlstr:"c.custnumber "},custname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("customer_custname"),sqlstr:"c.custname "},calnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("event_calnumber"),sqlstr:"e.calnumber"},eventgroup:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("event_group"),sqlstr:"eg.groupvalue"},fromdate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("event_fromdate"),sqlstr:"{FMS_DATE}e.fromdate {FME_DATE}"},fromtime:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("event_fromtime"),sqlstr:"{FMS_TIME}e.fromdate {FME_TIME}"},todate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("event_todate"),sqlstr:"{FMS_DATE}e.todate {FME_DATE}"},totime:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("event_totime"),sqlstr:"{FMS_TIME}e.todate {FME_TIME}"},subject:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("event_subject"),sqlstr:"e.subject"},place:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("event_place"),sqlstr:"e.place"},description:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("event_description"),sqlstr:"e.description"}},sql:{select:["{CCS}'event'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","c.custnumber","c.custname","e.calnumber","eg.groupvalue as eventgroup","{FMS_DATE}e.fromdate {FME_DATE} as fromdate","{FMS_TIME}e.fromdate {FME_TIME} as fromtime","{FMS_DATE}e.todate {FME_DATE} as todate","{FMS_TIME}e.todate {FME_TIME} as totime","e.subject","e.place","e.description"],from:"event e",inner_join:["customer c","on",["e.ref_id","=","c.id"]],left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","c.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","c.id","not in",[{select:["customer.id"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]]}}}},employee:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]}},EmployeeView:{columns:{empnumber:!0,firstname:!0,surname:!0,username:!0},label:e.getText("employee_view"),fields:{empnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("employee_empnumber"),sqlstr:"e.empnumber "},firstname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("contact_firstname"),sqlstr:"c.firstname "},surname:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("contact_surname"),sqlstr:"c.surname "},username:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("employee_username"),sqlstr:"e.username "},startdate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("employee_startdate"),sqlstr:"e.startdate "},enddate:{fieldtype:"date",wheretype:"where",orderby:5,label:e.getText("employee_enddate"),sqlstr:"e.enddate "},status:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("contact_status"),sqlstr:"c.status "},phone:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("contact_phone"),sqlstr:"c.phone "},mobil:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("contact_mobil"),sqlstr:"c.mobil "},email:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("contact_email"),sqlstr:"c.email "},zipcode:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("address_zipcode"),sqlstr:"a.zipcode "},city:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("address_city"),sqlstr:"a.city "},street:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("address_street"),sqlstr:"a.street "},usergroup:{fieldtype:"string",wheretype:"where",orderby:13,label:e.getText("employee_usergroup"),sqlstr:"ug.groupvalue "},department:{fieldtype:"string",wheretype:"where",orderby:14,label:e.getText("employee_department"),sqlstr:"dg.groupvalue "},inactive:{fieldtype:"bool",wheretype:"where",orderby:15,label:e.getText("employee_inactive"),sqlstr:"e.inactive "},notes:{fieldtype:"string",wheretype:"where",orderby:16,label:e.getText("contact_notes"),sqlstr:"c.notes "}},sql:{select:["{CCS}'employee'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","e.empnumber","c.firstname","c.surname","e.username","{FMS_DATE}e.startdate {FME_DATE} as startdate","{FMS_DATE}e.enddate {FME_DATE} as enddate","c.status","c.phone","c.mobil","c.email","a.zipcode","a.city","a.street","ug.groupvalue as usergroup","dg.groupvalue as department","c.notes","e.inactive"],from:"employee e",inner_join:["groups ug","on",["e.usergroup","=","ug.id"]],left_join:[["contact c","on",[["e.id","=","c.ref_id"],["and","c.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]],["address a","on",[["e.id","=","a.ref_id"],["and","a.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]],["groups dg","on",["e.department","=","dg.id"]]],where:[["e.deleted","=","0"]]}},EmployeeFieldsView:{columns:{empnumber:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),fields:{empnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("employee_empnumber"),sqlstr:"e.empnumber "},firstname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("contact_firstname"),sqlstr:"c.firstname "},surname:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("contact_surname"),sqlstr:"c.surname "},username:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("employee_username"),sqlstr:"e.username "},fielddef:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'employee'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","fv.id as row_id","e.empnumber","c.firstname","c.surname","e.username","df.description as fielddef","'fieldvalue' as form","fg.groupvalue as fieldtype","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]],["and","df.visible","=","1"],["and","df.deleted","=","0"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["employee e","on",["fv.ref_id","=","e.id"]]],left_join:[["contact c","on",[["e.id","=","c.ref_id"],["and","c.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and","e.deleted","=","0"]]}},EmployeeEvents:{columns:{empnumber:!0,fromdate:!0,subject:!0},label:e.getText("event_view"),edit:"event",fields:{empnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("employee_empnumber"),sqlstr:"em.empnumber "},firstname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("contact_firstname"),sqlstr:"c.firstname "},surname:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("contact_surname"),sqlstr:"c.surname "},username:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("employee_username"),sqlstr:"em.username "},calnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("event_calnumber"),sqlstr:"e.calnumber"},eventgroup:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("event_group"),sqlstr:"eg.groupvalue"},fromdate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("event_fromdate"),sqlstr:"{FMS_DATE}e.fromdate {FME_DATE}"},fromtime:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("event_fromtime"),sqlstr:"{FMS_TIME}e.fromdate {FME_TIME}"},todate:{fieldtype:"date",wheretype:"where",orderby:8,label:e.getText("event_todate"),sqlstr:"{FMS_DATE}e.todate {FME_DATE}"},totime:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("event_totime"),sqlstr:"{FMS_TIME}e.todate {FME_TIME}"},subject:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("event_subject"),sqlstr:"e.subject"},place:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("event_place"),sqlstr:"e.place"},description:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("event_description"),sqlstr:"e.description"}},sql:{select:["{CCS}'event'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","em.empnumber","c.firstname","c.surname","em.username","e.calnumber","eg.groupvalue as eventgroup","{FMS_DATE}e.fromdate {FME_DATE} as fromdate","{FMS_TIME}e.fromdate {FME_TIME} as fromtime","{FMS_DATE}e.todate {FME_DATE} as todate","{FMS_TIME}e.todate {FME_TIME} as totime","e.subject","e.place","e.description"],from:"event e",inner_join:["employee em","on",["e.ref_id","=","em.id"]],left_join:[["contact c","on",[["em.id","=","c.ref_id"],["and","c.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]],["groups eg","on",["e.eventgroup","=","eg.id"]]],where:[["e.deleted","=","0"],["and","em.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]]}}}},product:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]]]}},ProductView:{columns:{partnumber:!0,protype:!0,description:!0},label:e.getText("product_view"),fields:{partnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},protype:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_protype"),sqlstr:"case when ms.msg is null then g.groupvalue else ms.msg end "},description:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("product_description"),sqlstr:"p.description "},unit:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("product_unit"),sqlstr:"p.unit "},tax:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("product_tax"),sqlstr:"t.taxcode "},webitem:{fieldtype:"bool",wheretype:"where",orderby:5,label:e.getText("product_webitem"),sqlstr:"p.webitem  "},inactive:{fieldtype:"bool",wheretype:"where",orderby:6,label:e.getText("product_inactive"),sqlstr:"p.inactive  "},notes:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("product_notes"),sqlstr:"p.notes "}},sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","p.id as row_id","p.partnumber","case when ms.msg is null then g.groupvalue else ms.msg end as protype","p.description","p.unit","t.taxcode as tax","p.notes","p.webitem as webitem","p.inactive"],from:"product p",inner_join:[["groups g","on",["p.protype","=","g.id"]],["tax t","on",["p.tax_id","=","t.id"]]],left_join:["ui_message ms","on",[["ms.fieldname","=","g.groupvalue"],["and","ms.secname","=","'protype'"],["and","ms.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],where:[["p.deleted","=","0"]]}},ProductFieldsView:{columns:{custname:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),fields:{partnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("product_partnumber"),sqlstr:"p.partnumber"},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_description"),sqlstr:"p.description "},fielddef:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","fv.id as row_id","p.partnumber","p.description","df.description as fielddef","'fieldvalue' as form","fg.groupvalue as fieldtype","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]],["and","df.visible","=","1"],["and","df.deleted","=","0"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["product p","on",["fv.ref_id","=","p.id"]]],left_join:[[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and","p.deleted","=","0"]]}},ProductBarcodeView:{columns:{partnumber:!0,description:!0,barcode:!0},label:e.getText("barcode_view"),fields:{partnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},partname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_description"),sqlstr:"p.description "},unit:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("product_unit"),sqlstr:"p.unit "},description:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("barcode_description"),sqlstr:"b.description "},barcodetype:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("barcode_barcodetype"),sqlstr:"g.description "},qty:{fieldtype:"float",wheretype:"where",orderby:5,label:e.getText("barcode_qty"),sqlstr:"b.qty "},defcode:{fieldtype:"bool",wheretype:"where",orderby:6,label:e.getText("barcode_defcode"),sqlstr:"b.defcode "},barcode:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("barcode_code"),sqlstr:"b.id "}},sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","b.id as row_id","p.partnumber","p.description as partname","p.unit","b.code as barcode","b.description","g.description as barcodetype","{FMS_FLOAT}b.qty{FME_FLOAT} as qty","b.qty as export_qty","b.defcode as defcode","'barcode' as form","b.id as form_id"],from:"barcode b",inner_join:[["product p","on",["b.product_id","=","p.id"]],["groups g","on",["b.barcodetype","=","g.id"]]],where:[["p.deleted","=","0"]]}},ProductPriceView:{columns:{partnumber:!0,validfrom:!0,curr:!0,pricevalue:!0},label:e.getText("price_view"),fields:{partnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_description"),sqlstr:"p.description "},unit:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("product_unit"),sqlstr:"p.unit "},vendor:{fieldtype:"bool",wheretype:"where",orderby:3,label:e.getText("price_vendor"),sqlstr:"pr.vendorprice "},custname:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("price_custname"),sqlstr:"c.custname "},validfrom:{fieldtype:"date",wheretype:"where",orderby:5,label:e.getText("price_validfrom"),sqlstr:"pr.validfrom "},validto:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("price_validto"),sqlstr:"pr.validto "},curr:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("price_curr"),sqlstr:"pr.curr "},qty:{fieldtype:"float",wheretype:"where",orderby:8,label:e.getText("price_qty"),sqlstr:"pr.qty "},pricevalue:{fieldtype:"float",wheretype:"where",orderby:9,label:e.getText("price_pricevalue"),sqlstr:"pr.pricevalue "}},sql:{select:["{CCS}'product'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","pr.id as row_id","p.partnumber","p.description","p.unit","pr.vendorprice as vendor","c.custname","{FMS_DATE}pr.validfrom {FME_DATE} as validfrom","{FMS_DATE}pr.validto {FME_DATE} as validto","pr.curr","{FMS_FLOAT}pr.qty{FME_FLOAT} as qty","pr.qty as export_qty","pr.pricevalue","'price' as form","pr.id as form_id"],from:"price pr",inner_join:["product p","on",["pr.product_id","=","p.id"]],left_join:[["link ln0","on",[["ln0.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'price'"]]}]],["and","ln0.ref_id_1","=","pr.id"],["and","ln0.deleted","=","0"],["and","ln0.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]]],["customer c","on",[["ln0.ref_id_2","=","c.id"],["and","c.deleted","=","0"]]]],where:[["p.deleted","=","0"],["and","pr.deleted","=","0"],["and","pr.discount","is null"]]}},ProductEvents:{columns:{partname:!0,fromdate:!0,subject:!0},label:e.getText("event_view"),edit:"event",fields:{partnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},partname:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_description"),sqlstr:"p.description "},calnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("event_calnumber"),sqlstr:"e.calnumber"},eventgroup:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("event_group"),sqlstr:"eg.groupvalue"},fromdate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("event_fromdate"),sqlstr:"{FMS_DATE}e.fromdate {FME_DATE}"},fromtime:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("event_fromtime"),sqlstr:"{FMS_TIME}e.fromdate {FME_TIME}"},todate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("event_todate"),sqlstr:"{FMS_DATE}e.todate {FME_DATE}"},totime:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("event_totime"),sqlstr:"{FMS_TIME}e.todate {FME_TIME}"},subject:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("event_subject"),sqlstr:"e.subject"},place:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("event_place"),sqlstr:"e.place"},description:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("event_description"),sqlstr:"e.description"}},sql:{select:["{CCS}'event'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","p.partnumber","p.description as partname","e.calnumber","eg.groupvalue as eventgroup","{FMS_DATE}e.fromdate {FME_DATE} as fromdate","{FMS_TIME}e.fromdate {FME_TIME} as fromtime","{FMS_DATE}e.todate {FME_DATE} as todate","{FMS_TIME}e.todate {FME_TIME} as totime","e.subject","e.place","e.description"],from:"event e",inner_join:["product p","on",["e.ref_id","=","p.id"]],left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","p.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]]]}}}},project:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]]}},ProjectView:{columns:{pronumber:!0,description:!0,startdate:!0},label:e.getText("project_view"),fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},customer:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("project_customer"),sqlstr:"c.custname "},startdate:{fieldtype:"date",wheretype:"where",orderby:3,label:e.getText("project_startdate"),sqlstr:"cast(p.startdate as date) "},enddate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("project_enddate"),sqlstr:"cast(p.enddate as date) "},inactive:{fieldtype:"bool",wheretype:"where",orderby:5,label:e.getText("project_inactive"),sqlstr:"p.inactive"},notes:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("project_notes"),sqlstr:"p.notes "}},sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","p.id as row_id","p.pronumber","p.description","c.custname as export_customer","{CCS}'customer//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as customer","{FMS_DATE}p.startdate {FME_DATE} as startdate","{FMS_DATE}p.enddate {FME_DATE} as enddate","p.inactive","p.notes"],from:"project p",left_join:["customer c","on",["p.customer_id","=","c.id"]],where:[["p.deleted","=","0"]]}},ProjectFieldsView:{columns:{pronumber:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber"},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},fielddef:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","fv.id as row_id","p.pronumber","p.description","fv.fieldname","df.description as fielddef","'fieldvalue' as form","fg.groupvalue as fieldtype","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]],["and","df.visible","=","1"],["and","df.deleted","=","0"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["project p","on",["fv.ref_id","=","p.id"]]],left_join:[[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and","p.deleted","=","0"]]}},ProjectContactView:{columns:{pronumber:!0,firstname:!0,surname:!0,phone:!0},label:e.getText("contact_view"),fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},firstname:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("contact_firstname"),sqlstr:"co.firstname"},surname:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("contact_surname"),sqlstr:" co.surname"},status:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("contact_status"),sqlstr:" co.status"},phone:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("contact_phone"),sqlstr:" co.phone"},fax:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("contact_fax"),sqlstr:" co.fax"},mobil:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("contact_mobil"),sqlstr:" co.mobil"},email:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("contact_email"),sqlstr:" co.email"},notes:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("contact_notes"),sqlstr:" co.notes"}},sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","co.id as row_id","p.pronumber","p.description","co.firstname","co.surname","co.status","co.phone","co.fax","co.mobil","co.email","co.notes"],from:"contact co",inner_join:["project p","on",["co.ref_id","=","p.id"]],where:[["co.deleted","=","0"],["and","p.deleted","=","0"],["and","co.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]]}},ProjectAddressView:{columns:{pronumber:!0,city:!0,street:!0},label:e.getText("address_view"),fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},country:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("address_country"),sqlstr:"a.country"},state:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("address_state"),sqlstr:"a.state"},zipcode:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("address_zipcode"),sqlstr:"a.zipcode "},city:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("address_city"),sqlstr:"a.city"},street:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("address_street"),sqlstr:"a.street"},notes:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("address_notes"),sqlstr:"a.notes"}},sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","a.id as row_id","p.pronumber","p.description","a.country","a.state","a.zipcode","a.city","a.street","a.notes"],from:"address a",inner_join:["project p","on",["a.ref_id","=","p.id"]],where:[["a.deleted","=","0"],["and","p.deleted","=","0"],["and","a.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]]}},ProjectEvents:{columns:{pronumber:!0,fromdate:!0,subject:!0},label:e.getText("event_view"),edit:"event",fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},pdescription:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},calnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("event_calnumber"),sqlstr:"e.calnumber"},eventgroup:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("event_group"),sqlstr:"eg.groupvalue"},fromdate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("event_fromdate"),sqlstr:"{FMS_DATE}e.fromdate {FME_DATE}"},fromtime:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("event_fromtime"),sqlstr:"{FMS_TIME}e.fromdate {FME_TIME}"},todate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("event_todate"),sqlstr:"{FMS_DATE}e.todate {FME_DATE}"},totime:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("event_totime"),sqlstr:"{FMS_TIME}e.todate {FME_TIME}"},subject:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("event_subject"),sqlstr:"e.subject"},place:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("event_place"),sqlstr:"e.place"},description:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("event_description"),sqlstr:"e.description"}},sql:{select:["{CCS}'event'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","p.pronumber","p.description as pdescription","e.calnumber","eg.groupvalue as eventgroup","{FMS_DATE}e.fromdate {FME_DATE} as fromdate","{FMS_TIME}e.fromdate {FME_TIME} as fromtime","{FMS_DATE}e.todate {FME_DATE} as todate","{FMS_TIME}e.todate {FME_TIME} as totime","e.subject","e.place","e.description"],from:"event e",inner_join:["project p","on",["e.ref_id","=","p.id"]],left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","p.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]]}},ProjectTrans:{columns:{pronumber:!0,transtype:!0,transnumber:!0,transdate:!0},label:e.getText("document_view"),fields:{pronumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("project_description"),sqlstr:"p.description "},transtype:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},transdate:{fieldtype:"date",wheretype:"where",orderby:5,label:e.getText("document_transdate2"),sqlstr:"t.transdate "},curr:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("document_curr"),sqlstr:"t.curr "},amount:{fieldtype:"float",wheretype:"having",orderby:7,label:e.getText("item_amount"),sqlstr:"sum(i.amount) "},custname:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("customer_custnumber"),sqlstr:"c.custname "}},sql:{select:["{CCS}'project'{SEP}'//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as id","t.id as row_id","p.pronumber","p.description","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","t.transnumber as export_transnumber","t.transdate","t.curr","{FMS_FLOAT}sum(i.amount){FME_FLOAT} as amount","sum(i.amount) as export_amount","c.custname","{CCS}'trans/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as transnumber"],from:"project p",inner_join:[["trans t","on",["p.id","=","t.project_id"]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["item i","on",[["t.id","=","i.trans_id"],["and","i.deleted","=","0"]]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["customer c","on",["t.customer_id","=","c.id"]]],where:[["p.deleted","=","0"],["and",[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and","dg.groupvalue","=","'out'"]]]]]],group_by:["p.id","p.pronumber","p.description","tg.groupvalue","dg.groupvalue","mst.msg, msd.msg","t.id","t.transnumber","t.transdate","c.custname","t.curr"],having:[["sum(i.amount)","<>","0"]]}}}},rate:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'rate'"]]}]]]}},RateView:{columns:{ratetype:!0,ratedate:!0,curr:!0,ratevalue:!0},label:e.getText("rate_view"),actions_new:{action:"loadEditor",ntype:"rate",ttype:null},fields:{ratetype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("rate_ratetype"),sqlstr:"rtype.groupvalue "},ratedate:{fieldtype:"date",wheretype:"where",orderby:1,label:e.getText("rate_ratedate"),sqlstr:"r.ratedate "},curr:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("rate_curr"),sqlstr:"r.curr "},ratevalue:{fieldtype:"float",wheretype:"where",orderby:3,label:e.getText("rate_ratevalue"),sqlstr:"r.ratevalue "},rategroup:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("rate_rategroup"),sqlstr:"rgroup.groupvalue "},planumber:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("rate_planumber"),sqlstr:"p.planumber"}},sql:{select:["{CCS}'rate'{SEP}'//'{SEP} {CAS_TEXT}r.id {CAE_TEXT}{CCE} as id","r.id as row_id","rtype.groupvalue as ratetype","{FMS_DATE}r.ratedate {FME_DATE} as ratedate","r.curr","{FMS_FLOAT}r.ratevalue{FME_FLOAT} as ratevalue","r.ratevalue as export_ratevalue","rgroup.groupvalue as rategroup","p.planumber as export_planumber","{CCS}'place//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as planumber"],from:"rate r",inner_join:["groups as rtype","on",["r.ratetype","=","rtype.id"]],left_join:[["groups as rgroup","on",["r.rategroup","=","rgroup.id"]],["place p","on",["r.place_id","=","p.id"]]],where:[["r.deleted","=","0"]]}}}},tool:function(){return{options:{usergroup_filter:null,employee_filter:null,deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]]]}},ToolView:{columns:{serial:!0,description:!0,product:!0},label:e.getText("tool_view"),fields:{serial:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("tool_serial"),sqlstr:"t.serial "},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("tool_description"),sqlstr:"t.description "},product:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("tool_product"),sqlstr:"p.description "},toolgroup:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("tool_toolgroup"),sqlstr:"tg.groupvalue "},inactive:{fieldtype:"bool",wheretype:"where",orderby:5,label:e.getText("tool_inactive"),sqlstr:"t.inactive"},notes:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("tool_notes"),sqlstr:"t.notes "}},sql:{select:["{CCS}'tool'{SEP}'//'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.id as row_id","t.serial","t.description","p.description as export_product","{CCS}'product//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as product","tg.groupvalue as toolgroup","t.inactive","t.notes"],from:"tool t",inner_join:["product p","on",["t.product_id","=","p.id"]],left_join:[["groups tg","on",["t.toolgroup","=","tg.id"]],[[[{select:["mv.tool_id"],from:["movement mv"],inner_join:["trans t","on",["mv.trans_id","=","t.id"]],left_join:[["customer c","on",["t.customer_id","=","c.id"]],["employee e","on",["t.employee_id","=","e.id"]],["link lnk","on",[["t.id","=","lnk.ref_id_1"],["and","lnk.deleted","=","0"],["and","lnk.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","lnk.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]],["trans lt","on",["lnk.ref_id_2","=","lt.id"]],["customer ltc","on",["lt.customer_id","=","ltc.id"]]],where:["mv.id","in",[{select:["max(id)"],from:"movement mv",inner_join:[[[{select:["tool_id","max(shippingdate) as ldate"],from:"movement mv",inner_join:["trans t","on",["mv.trans_id","=","t.id"]],where:[["mv.deleted","=","0"],["and","tool_id","is not","null"],["and","t.deleted","=","0"],["and","{CAS_DATE}shippingdate {CAE_DATE}","<=","{CUR_DATE}"]],group_by:["tool_id"]}],"lst_date"],"on",[["mv.tool_id","=","lst_date.tool_id"],["and","mv.shippingdate","=","lst_date.ldate"]]],group_by:["mv.tool_id"]}]]}],"ssel"],"on",["t.id","=","ssel.tool_id"]]],where:[["t.deleted","=","0"],["and",["t.toolgroup","not in",[{select:["id"],from:"groups",where:[["groupname","=","'toolgroup'"],["and","groupvalue","=","'printer'"]]}],["or","t.toolgroup","is null"]]]]}},ToolFieldsView:{columns:{serial:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),fields:{serial:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("tool_serial"),sqlstr:"t.serial"},description:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("tool_description"),sqlstr:"t.description "},fielddef:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'tool'{SEP}'//'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","fv.id as row_id","fv.fieldname","t.serial","t.description","df.description as fielddef","'fieldvalue' as form","fg.groupvalue as fieldtype","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]],["and","df.visible","=","1"],["and","df.deleted","=","0"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["tool t","on",["fv.ref_id","=","t.id"]]],left_join:[[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and","t.deleted","=","0"]]}},ToolEvents:{columns:{serial:!0,fromdate:!0,subject:!0},label:e.getText("event_view"),edit:"event",fields:{serial:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("tool_serial"),sqlstr:"t.serial"},pdescription:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("tool_description"),sqlstr:"t.description "},calnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("event_calnumber"),sqlstr:"e.calnumber"},eventgroup:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("event_group"),sqlstr:"eg.groupvalue"},fromdate:{fieldtype:"date",wheretype:"where",orderby:4,label:e.getText("event_fromdate"),sqlstr:"{FMS_DATE}e.fromdate {FME_DATE}"},fromtime:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("event_fromtime"),sqlstr:"{FMS_TIME}e.fromdate {FME_TIME}"},todate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("event_todate"),sqlstr:"{FMS_DATE}e.todate {FME_DATE}"},totime:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("event_totime"),sqlstr:"{FMS_TIME}e.todate {FME_TIME}"},subject:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("event_subject"),sqlstr:"e.subject"},place:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("event_place"),sqlstr:"e.place"},description:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("event_description"),sqlstr:"e.description"}},sql:{select:["{CCS}'event'{SEP}'//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as id","e.id as row_id","t.serial","t.description as pdescription","e.calnumber","eg.groupvalue as eventgroup","{FMS_DATE}e.fromdate {FME_DATE} as fromdate","{FMS_TIME}e.fromdate {FME_TIME} as fromtime","{FMS_DATE}e.todate {FME_DATE} as todate","{FMS_TIME}e.todate {FME_TIME} as totime","e.subject","e.place","e.description"],from:"event e",inner_join:["tool t","on",["e.ref_id","=","t.id"]],left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","t.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]]]}}}},transitem:function(){return{options:{usergroup_filter:["t.cruser_id","in",[{select:["id"],from:"employee",where:["usergroup","=","?"]}]],employee_filter:["t.cruser_id","=","?"],deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and",[["df.visible","=","1"],["or","df.fieldname","in",[[],"'trans_wsdistance'","'trans_wsrepair'","'trans_wstotal'","'trans_wsnote'","'trans_reholiday'","'trans_rebadtool'","'trans_reother'","'trans_rentnote'"]]]],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]}},TransItemHeadView:{columns:{transtype:!0,transnumber:!0,transdate:!0,custname:!0},label:e.getText("document_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},transcast:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transcast"),sqlstr:"case when msc.msg is null then fv.value else msc.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},ref_transnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("document_ref_transnumber"),sqlstr:"t.ref_transnumber "},crdate:{fieldtype:"date",wheretype:"where",orderby:5,label:e.getText("document_crdate"),sqlstr:"t.crdate "},transdate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("document_transdate"),sqlstr:"t.transdate "},duedate:{fieldtype:"date",wheretype:"where",orderby:7,label:e.getText("document_duedate"),sqlstr:"{FMS_DATE}t.duedate {FME_DATE} "},custname:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("customer_custname"),sqlstr:"c.custname "},empnumber:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("employee_empnumber"),sqlstr:"e.empnumber "},department:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("document_department"),sqlstr:"deg.groupvalue "},pronumber:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("project_pronumber"),sqlstr:"p.pronumber "},paidtype:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("document_paidtype"),sqlstr:"case when msp.msg is null then ptg.groupvalue else msp.msg end "},curr:{fieldtype:"string",wheretype:"where",orderby:13,label:e.getText("document_curr"),sqlstr:"t.curr "},netamount:{fieldtype:"float",wheretype:"where",orderby:14,label:e.getText("item_netamount"),sqlstr:"irow.netamount "},vatamount:{fieldtype:"float",wheretype:"where",orderby:15,label:e.getText("item_vatamount"),sqlstr:"irow.vatamount "},amount:{fieldtype:"float",wheretype:"where",orderby:16,label:e.getText("item_amount"),sqlstr:"irow.amount "},paid:{fieldtype:"bool",wheretype:"where",orderby:17,label:e.getText("document_paid"),sqlstr:"t.paid "},acrate:{fieldtype:"float",wheretype:"where",orderby:18,label:e.getText("document_acrate"),sqlstr:"t.acrate "},notes:{fieldtype:"string",wheretype:"where",orderby:19,label:e.getText("document_notes"),sqlstr:"t.notes "},intnotes:{fieldtype:"string",wheretype:"where",orderby:20,label:e.getText("document_intnotes"),sqlstr:"t.intnotes "},transtate:{fieldtype:"string",wheretype:"where",orderby:21,label:e.getText("document_transtate"),sqlstr:"case when mss.msg is null then sg.groupvalue else mss.msg end "},closed:{fieldtype:"bool",wheretype:"where",orderby:22,label:e.getText("document_closed"),sqlstr:"t.closed "},deleted:{fieldtype:"bool",wheretype:"where",orderby:23,label:e.getText("document_deleted"),sqlstr:"t.deleted "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","t.id as row_id","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","case when msc.msg is null then fv.value else msc.msg end as transcast","t.transnumber","t.ref_transnumber","{FMS_DATE}t.crdate {FME_DATE} as crdate","{FMS_DATE}t.transdate {FME_DATE} as transdate","{FMS_DATE}t.duedate {FME_DATE} as duedate","{CCS}'customer//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as custname","c.custname as export_custname","{CCS}'employee//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as empnumber","e.empnumber as export_empnumber","deg.groupvalue as department","{CCS}'project//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as pronumber","p.pronumber as export_pronumber","case when msp.msg is null then ptg.groupvalue else msp.msg end as paidtype","t.curr","case when irow.netamount is null then '0' else {FMS_FLOAT}irow.netamount{FME_FLOAT} end as netamount","case when irow.netamount is null then 0 else irow.netamount end as export_netamount","case when irow.vatamount is null then '0' else {FMS_FLOAT}irow.vatamount{FME_FLOAT} end as vatamount","case when irow.vatamount is null then 0 else irow.vatamount end as export_vatamount","case when irow.amount is null then '0' else {FMS_FLOAT}irow.amount{FME_FLOAT} end as amount","case when irow.amount is null then 0 else irow.amount end as export_amount","t.paid","t.acrate","t.notes","t.intnotes","case when mss.msg is null then sg.groupvalue else mss.msg end as transtate","t.closed","t.deleted"],from:"trans t",inner_join:[["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'invoice'","'receipt'","'order'","'offer'","'worksheet'","'rent'"]]]],["groups dg","on",["t.direction","=","dg.id"]],["groups ptg","on",["t.paidtype","=","ptg.id"]],["groups sg","on",["t.transtate","=","sg.id"]]],left_join:[["customer c","on",["t.customer_id","=","c.id"]],["employee e","on",["t.employee_id","=","e.id"]],["groups deg","on",["t.department","=","deg.id"]],["project p","on",["t.project_id","=","p.id"]],["fieldvalue fv","on",[["t.id","=","fv.ref_id"],["and","fv.fieldname","=","'trans_transcast'"]]],["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msp","on",[["msp.fieldname","=","ptg.groupvalue"],["and","msp.secname","=","'paidtype'"],["and","msp.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message mss","on",[["mss.fieldname","=","sg.groupvalue"],["and","mss.secname","=","'transtate'"],["and","mss.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msc","on",[["msc.fieldname","=","fv.value"],["and","msc.secname","=","'trans_transcast'"],["and","msc.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],[[[{select:["trans_id","sum(netamount) as netamount","sum(vatamount) as vatamount","sum(amount) as amount"],from:"item",where:["deleted","=","0"],group_by:["trans_id"]}],"irow"],"on",["t.id","=","irow.trans_id"]]],where:[[[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and","dg.groupvalue","=","'out'"]]]]]]}},TransItemFieldsView:{columns:{transtype:!0,transnumber:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},fielddef:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","fv.id as row_id","'fieldvalue' as form","fv.fieldname","fg.groupvalue as fieldtype","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","t.transnumber","df.description as fielddef","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","df.deleted","=","0"],["and",[["df.visible","=","1"],["or","df.fieldname","in",[[],"'trans_reholiday'","'trans_rebadtool'","'trans_reother'","'trans_rentnote'","'trans_wsdistance'","'trans_wsrepair'","'trans_wstotal'","'trans_wsnote'"]]]]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["trans t","on",["fv.ref_id","=","t.id"]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'invoice'","'receipt'","'order'","'offer'","'worksheet'","'rent'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and",[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and",["dg.groupvalue","=","'out'"]]]]]]]}},TransItemRowView:{columns:{transnumber:!0,curr:!0,description:!0,amount:!0},label:e.getText("item_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},transdate:{fieldtype:"date",wheretype:"where",orderby:3,label:e.getText("item_transdate"),sqlstr:"t.transdate "},partnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},description:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("item_description"),sqlstr:"i.description "},unit:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("item_unit"),sqlstr:"i.unit "},curr:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("document_curr"),sqlstr:"t.curr "},qty:{fieldtype:"float",wheretype:"where",orderby:8,label:e.getText("item_qty"),sqlstr:"i.qty "},fxprice:{fieldtype:"float",wheretype:"where",orderby:9,label:e.getText("item_fxprice"),sqlstr:"i.fxprice "},netamount:{fieldtype:"float",wheretype:"where",orderby:10,label:e.getText("item_netamount"),sqlstr:"i.netamount "},discount:{fieldtype:"float",wheretype:"where",orderby:11,label:e.getText("item_discount"),sqlstr:"i.discount "},taxcode:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("item_taxcode"),sqlstr:"tax.taxcode "},vatamount:{fieldtype:"float",wheretype:"where",orderby:13,label:e.getText("item_vatamount"),sqlstr:"i.vatamount "},amount:{fieldtype:"float",wheretype:"where",orderby:14,label:e.getText("item_amount"),sqlstr:"i.amount "},deposit:{fieldtype:"bool",wheretype:"where",orderby:15,label:e.getText("item_deposit"),sqlstr:"i.deposit "},actionprice:{fieldtype:"bool",wheretype:"where",orderby:16,label:e.getText("item_actionprice"),sqlstr:"i.actionprice "},ownstock:{fieldtype:"float",wheretype:"where",orderby:17,label:e.getText("item_ownstock"),sqlstr:"i.ownstock "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","i.id as row_id","'item' as form","i.id as form_id","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","t.transnumber","{FMS_DATE}t.transdate {FME_DATE} as transdate","t.curr","{CCS}'product//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as partnumber","p.partnumber as export_partnumber","i.description","i.unit","{FMS_FLOAT}i.qty{FME_FLOAT} as qty","i.qty as export_qty","{FMS_FLOAT}i.fxprice{FME_FLOAT} as fxprice","i.fxprice as export_fxprice","{FMS_FLOAT}i.netamount{FME_FLOAT} as netamount","i.netamount as export_netamount","i.discount as discount","tax.taxcode","{FMS_FLOAT}i.vatamount{FME_FLOAT} as vatamount","i.vatamount as export_vatamount","{FMS_FLOAT}i.amount{FME_FLOAT} as amount","i.amount as export_amount","i.deposit","i.actionprice","{FMS_FLOAT}i.ownstock{FME_FLOAT} as ownstock","i.ownstock as export_ownstock"],from:"item i",inner_join:[["trans t","on",["i.trans_id","=","t.id"]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["product p","on",["i.product_id","=","p.id"]],["tax","on",["i.tax_id","=","tax.id"]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]]],where:[["i.deleted","=","0"],["and",[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and","dg.groupvalue","=","'out'"]]]]]]}}}},transmovement:function(){return{options:{usergroup_filter:["t.cruser_id","in",[{select:["id"],from:"employee",where:["usergroup","=","?"]}]],employee_filter:["t.cruser_id","=","?"],deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]}},InventoryView:{columns:{warehouse:!0,partnumber:!0,unit:!0,sqty:!0},label:e.getText("inventory_view"),readonly:!0,fields:{warehouse:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("inventory_warehouse"),sqlstr:"pl.description "},partnumber:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},unit:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("product_unit"),sqlstr:"p.unit "},sqty:{fieldtype:"float",wheretype:"having",orderby:3,label:e.getText("inventory_sqty"),sqlstr:"sum(mv.qty) "},posdate:{fieldtype:"date",wheretype:"having",orderby:4,label:e.getText("inventory_posdate"),sqlstr:"{CAS_DATE}max(mv.shippingdate){CAE_DATE} "},description:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("product_description"),sqlstr:"p.description "}},sql:{select:["{CCS} {CAS_TEXT}pl.id {CAE_TEXT}{SEP}'/'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{SEP}'/'{SEP} mv.notes{CCE} as row_id","pl.description as warehouse","p.partnumber as export_partnumber","{CCS}'product//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as partnumber","p.description","p.unit","mv.notes as pgroup","{FMS_FLOAT}sum(mv.qty){FME_FLOAT} as sqty","sum(mv.qty) as export_sqty","{FMS_DATE}max(mv.shippingdate) {FME_DATE} as posdate"],from:"movement mv",inner_join:[["groups g","on",[["mv.movetype","=","g.id"],["and","g.groupvalue","=","'inventory'"]]],["place pl","on",["mv.place_id","=","pl.id"]],["product p","on",["mv.product_id","=","p.id"]],["trans t","on",[["mv.trans_id","=","t.id"],["and","t.deleted","=","0"]]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]]],where:[["mv.deleted","=","0"],["and","t.deleted","=","0"]],group_by:["pl.id","pl.description","p.id","p.partnumber","p.description","p.unit","mv.notes"],having:[["sum(mv.qty)","<>","0"]]}},MovementView:{columns:{transtype:!0,shippingdate:!0,partnumber:!0,qty:!0},label:e.getText("movement_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},shippingdate:{fieldtype:"date",wheretype:"where",orderby:3,label:e.getText("movement_shippingdate"),sqlstr:"{CAS_DATE}mt.shippingdate{CAE_DATE} "},warehouse:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("inventory_warehouse"),sqlstr:"pt.description  "},partnumber:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("product_partnumber"),sqlstr:"p.partnumber  "},description:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("product_description"),sqlstr:"p.description  "},unit:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("product_unit"),sqlstr:"p.unit  "},pgroup:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("movement_batchnumber"),sqlstr:"mt.notes "},qty:{fieldtype:"float",wheretype:"where",orderby:9,label:e.getText("movement_qty"),sqlstr:"mt.qty "},refnumber:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("movement_refnumber"),sqlstr:"case when it.transnumber is null then case when vt1.transnumber is null then case when vt2.transnumber is null then tl.transnumber end     else vt1.transnumber end else it.transnumber end "},refcustomer:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("movement_refcustomer"),sqlstr:"case when c1.custname is null then c2.custname else c1.custname end "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP}case when it.id is null then {CAS_TEXT}t.id {CAE_TEXT} else {CAS_TEXT}it.id {CAE_TEXT} end{CCE} as id","mt.id as row_id","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","t.transnumber","{FMS_DATE}mt.shippingdate {FME_DATE} as shippingdate","pt.description as warehouse","{CCS}'product//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as partnumber","p.partnumber as export_partnumber","p.description","p.unit","mt.notes as pgroup","mt.qty","{FMS_FLOAT}mt.qty{FME_FLOAT} as qty","mt.qty as export_qty","case when it.transnumber is null then case when vt1.transnumber is null then case when vt2.transnumber is null then tl.transnumber end else vt1.transnumber end else it.transnumber end as refnumber","case when c1.custname is null then c2.custname else c1.custname end as refcustomer"],from:"movement mt",inner_join:[["trans t","on",["mt.trans_id","=","t.id"]],["groups gm","on",[["mt.movetype","=","gm.id"],["and","gm.groupvalue","=","'inventory'"]]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["product p","on",["mt.product_id","=","p.id"]],["place pt","on",["mt.place_id","=","pt.id"]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["link iln","on",[["iln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","iln.ref_id_1","=","mt.id"],["and","iln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'item'"]]}]]]],["item i","on",["iln.ref_id_2","=","i.id"]],["trans it","on",["i.trans_id","=","it.id"]],["customer c1","on",["it.customer_id","=","c1.id"]],["link tln","on",["tln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}],["and","tln.ref_id_1","=","mt.trans_id"],["and","tln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","tln.deleted","=","0"]]],["trans tl","on",["tln.ref_id_2","=","tl.id"]],["customer c2","on",["tl.customer_id","=","c2.id"]],["link pln1","on",[["pln1.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","pln1.ref_id_1","=","mt.id"],["and","pln1.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]]]],["movement mv1","on",["pln1.ref_id_2","=","mv1.id"]],["trans vt1","on",["mv1.trans_id","=","vt1.id"]],["link pln2","on",["pln2.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}],["and","pln2.ref_id_2","=","mt.id"],["and","pln2.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]]]],["movement mv2","on",["pln2.ref_id_1","=","mv2.id"]],["trans vt2","on",["mv2.trans_id","=","vt2.id"]]],where:[["mt.deleted","=","0"],["and","t.deleted","=","0"]]}},ToolMovement:{columns:{transnumber:!0,direction:!0,shippingdate:!0,serial:!0},label:e.getText("toolmovement_view"),edit:"trans",fields:{transnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},crdate:{fieldtype:"date",wheretype:"where",orderby:1,label:e.getText("document_crdate"),sqlstr:"t.crdate "},direction:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_direction"),sqlstr:"case when msd.msg is null then dg.groupvalue else msd.msg end "},refnumber:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("movement_refnumber"),sqlstr:"lt.transnumber "},empnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("employee_empnumber"),sqlstr:"e.empnumber "},custname:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("customer_custname"),sqlstr:"c.custname "},shippingdate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("movement_shippingdate"),sqlstr:"{CAS_DATE}mv.shippingdate {CAE_DATE} "},serial:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("tool_serial"),sqlstr:"tl.serial "},description:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("tool_description"),sqlstr:"tl.description "},mvnotes:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("movement_mvnotes"),sqlstr:"mv.notes "},closed:{fieldtype:"bool",wheretype:"where",orderby:10,label:e.getText("document_closed"),sqlstr:"t.closed "},transtate:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("document_transtate"),sqlstr:"case when mss.msg is null then sg.groupvalue else mss.msg end "},notes:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("document_notes"),sqlstr:"t.notes "},intnotes:{fieldtype:"string",wheretype:"where",orderby:13,label:e.getText("document_intnotes"),sqlstr:"t.intnotes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","mv.id as row_id","t.transnumber","{FMS_DATE}t.crdate{FME_DATE} as crdate","t.crdate as export_crdate","case when msd.msg is null then dg.groupvalue else msd.msg end as direction","lt.transnumber as export_refnumber","e.empnumber as export_empnumber","c.custname as export_custname","{CCS}'trans/'{SEP}ltg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}lt.id {CAE_TEXT}{CCE} as refnumber","{CCS}'employee//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as empnumber","{CCS}'customer//'{SEP} {CAS_TEXT}c.id {CAE_TEXT}{CCE} as custname","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate","{CCS}'tool//'{SEP} {CAS_TEXT}tl.id {CAE_TEXT}{CCE} as serial","tl.serial as export_serial","tl.description","mv.notes as mvnotes","case when mss.msg is null then sg.groupvalue else mss.msg end as transtate","t.notes","t.intnotes","t.closed"],from:"trans t",inner_join:[["movement mv","on",["t.id","=","mv.trans_id"]],["tool tl","on",["mv.tool_id","=","tl.id"]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","=","'waybill'"]]],["groups dg","on",["t.direction","=","dg.id"]],["groups sg","on",["t.transtate","=","sg.id"]]],left_join:[["employee e","on",["t.employee_id","=","e.id"]],["customer c","on",["t.customer_id","=","c.id"]],["ui_message mss","on",[["mss.fieldname","=","sg.groupvalue"],["and","mss.secname","=","'transtate'"],["and","mss.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["link lnk","on",[["t.id","=","lnk.ref_id_1"],["and","lnk.deleted","=","0"],["and","lnk.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","lnk.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]],["trans lt","on",["lnk.ref_id_2","=","lt.id"]],["groups ltg","on",["lt.transtype","=","ltg.id"]]],where:[["t.deleted","=","0"],["and","mv.deleted","=","0"]]}},FormulaView:{columns:{transnumber:!0,type:!0,partnumber:!0,qty:!0},label:e.getText("formula_view"),edit:"trans",fields:{transnumber:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},type:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("formula_type"),sqlstr:"case when mt.groupvalue = 'head' then 'in' else 'out' end "},partnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("product_partnumber"),sqlstr:"p.partnumber "},description:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("product_description"),sqlstr:"p.description "},unit:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("product_unit"),sqlstr:"p.unit "},qty:{fieldtype:"float",wheretype:"where",orderby:5,label:e.getText("movement_qty"),sqlstr:"mv.qty "},batch_no:{fieldtype:"string",wheretype:"where",orderby:6,label:e.getText("movement_batchnumber"),sqlstr:"mv.notes "},planumber:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("inventory_warehouse"),sqlstr:"pl.planumber "},shared:{fieldtype:"bool",wheretype:"where",orderby:8,label:e.getText("formula_shared"),sqlstr:"mv.shared "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","mv.id as row_id","t.transnumber","case when mt.groupvalue = 'head' then 'in' else 'out' end as type","{CCS}'product//'{SEP} {CAS_TEXT}p.id {CAE_TEXT}{CCE} as partnumber","p.partnumber as export_partnumber","p.description","p.unit","{FMS_FLOAT}mv.qty{FME_FLOAT} as qty","mv.qty as export_qty","mv.notes as batch_no","pl.planumber","mv.shared"],from:"trans t",inner_join:[["movement mv","on",[["t.id","=","mv.trans_id"],["and","mv.deleted","=","0"]]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","=","'formula'"]]],["groups mt","on",["mv.movetype","=","mt.id"]],["product p","on",["mv.product_id","=","p.id"]]],left_join:["place pl","on",["mv.place_id","=","pl.id"]],where:[["t.deleted","=","0"]]}},MovementFieldsView:{columns:{transtype:!0,transnumber:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},fielddef:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP} tg.groupvalue{SEP}'/'{SEP} case when delt.ref_id is null then {CAS_TEXT}t.id {CAE_TEXT} else {CAS_TEXT}delt.ref_id {CAE_TEXT} end{CCE} as id","fv.id as row_id","fv.fieldname","'fieldvalue' as form","fg.groupvalue as fieldtype","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end as direction","t.transnumber","df.description as fielddef","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","df.deleted","=","0"],["and","df.visible","=","1"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["trans t","on",["fv.ref_id","=","t.id"]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'delivery'","'inventory'","'waybill'","'production'","'formula'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]],[[[{select:["mt.trans_id","min(it.id) as ref_id"],from:"movement mt",inner_join:[["link iln","on",["iln.nervatype_1","=",[[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}],["and","iln.ref_id_1","=","mt.id"],["and","iln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'item'"]]}]]]]],["item i","on",["iln.ref_id_2","=","i.id"]]],left_join:["trans it","on",["i.trans_id","=","it.id"]],group_by:["mt.trans_id"]}],"delt"],"on",["fv.ref_id","=","delt.trans_id"]]],where:[["fv.deleted","=","0"],["and","t.deleted","=","0"]]}}}},transpayment:function(){return{options:{usergroup_filter:["t.cruser_id","in",[{select:["id"],from:"employee",where:["usergroup","=","?"]}]],employee_filter:["t.cruser_id","=","?"],deffield_sql:{select:["df.id","df.fieldname","g.groupvalue as fieldtype","df.description"],from:"deffield df",inner_join:["groups g","on",["g.id","=","df.fieldtype"]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]}},PaymentView:{columns:{transnumber:!0,paiddate:!0,place:!0,curr:!0,amount:!0},label:e.getText("payment_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end "},transcast:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transcast"),sqlstr:"case when msc.msg is null then fv.value else msc.msg end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},ref_transnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("document_ref_transnumber"),sqlstr:"t.ref_transnumber "},crdate:{fieldtype:"date",wheretype:"where",orderby:5,label:e.getText("document_crdate"),sqlstr:"t.crdate "},paiddate:{fieldtype:"date",wheretype:"where",orderby:6,label:e.getText("payment_paiddate"),sqlstr:"pm.paiddate "},place:{fieldtype:"string",wheretype:"where",orderby:7,label:e.getText("payment_place"),sqlstr:"pc.description "},curr:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("payment_curr"),sqlstr:"pc.curr "},amount:{fieldtype:"float",wheretype:"where",orderby:9,label:e.getText("payment_amount"),sqlstr:"case when dg.groupvalue='out' then -pm.amount else pm.amount end "},description:{fieldtype:"string",wheretype:"where",orderby:10,label:e.getText("payment_description"),sqlstr:"pm.notes "},empnumber:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("employee_empnumber"),sqlstr:"e.empnumber "},transtate:{fieldtype:"string",wheretype:"where",orderby:12,label:e.getText("document_transtate"),sqlstr:"case when mss.msg is null then sg.groupvalue else mss.msg end "},closed:{fieldtype:"bool",wheretype:"where",orderby:13,label:e.getText("document_closed"),sqlstr:"t.closed "},deleted:{fieldtype:"bool",wheretype:"where",orderby:14,label:e.getText("document_deleted"),sqlstr:"t.deleted "},notes:{fieldtype:"string",wheretype:"where",orderby:15,label:e.getText("document_notes"),sqlstr:"t.notes "},intnotes:{fieldtype:"string",wheretype:"where",orderby:16,label:e.getText("document_intnotes"),sqlstr:"t.intnotes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","pm.id as row_id","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end as direction","case when msc.msg is null then fv.value else msc.msg end as transcast","t.transnumber","t.ref_transnumber","{FMS_DATE}t.crdate {FME_DATE} as crdate","{FMS_DATE}pm.paiddate {FME_DATE} as paiddate","{CCS}'place//'{SEP} {CAS_TEXT}pc.id {CAE_TEXT}{CCE} as place, pc.description as export_place","pc.curr","{FMS_FLOAT}case when dg.groupvalue='out' then -pm.amount else pm.amount end{FME_FLOAT} as amount","case when dg.groupvalue='out' then -pm.amount else pm.amount end as export_amount","pm.notes as description","{CCS}'employee//'{SEP} {CAS_TEXT}e.id {CAE_TEXT}{CCE} as empnumber","e.empnumber as export_empnumber","case when mss.msg is null then sg.groupvalue else mss.msg end as transtate","t.notes","t.intnotes","t.closed","t.deleted as deleted"],from:"trans t",inner_join:[["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["place pc","on",["t.place_id","=","pc.id"]],["groups sg","on",["t.transtate","=","sg.id"]],["payment pm","on",[["t.id","=","pm.trans_id"],["and","pm.deleted","=","0"]]]],left_join:[["employee e","on",["t.employee_id","=","e.id"]],["fieldvalue fv","on",[["t.id","=","fv.ref_id"],["and","fv.fieldname","=","'trans_transcast'"]]],["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message mss","on",[["mss.fieldname","=","sg.groupvalue"],["and","mss.secname","=","'transtate'"],["and","mss.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msc","on",[["msc.fieldname","=","fv.value"],["and","msc.secname","=","'trans_transcast'"],["and","msc.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]]],where:[[[["t.deleted","=","0"],["or",["tg.groupvalue","=","'cash'"]]]]]}},PaymentFieldsView:{columns:{transtype:!0,direction:!0,transnumber:!0,fielddef:!0,deffield_value:!0},label:e.getText("fields_view"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end "},transnumber:{fieldtype:"string",wheretype:"where",orderby:2,label:e.getText("document_transnumber"),sqlstr:"t.transnumber "},fielddef:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("fields_fielddef"),sqlstr:"df.description "},deffield_value:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("fields_value"),sqlstr:"fv.value "},notes:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("fields_notes"),sqlstr:"fv.notes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","fv.id as row_id","fv.fieldname","'fieldvalue' as form","fg.groupvalue as fieldtype","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end as direction","t.transnumber","df.description as fielddef","case when fg.groupvalue in ('bool') then fv.value when fg.groupvalue in ('integer') then {CCS}{FMS_INT}fv.value{FME_INT}{CCE} when fg.groupvalue in ('float') then {CCS}{FMS_FLOAT}fv.value{FME_FLOAT}{CCE} when fg.groupvalue in ('customer') then {CCS}'customer//'{SEP} {CAS_TEXT}rf_customer.id {CAE_TEXT}{CCE} when fg.groupvalue in ('tool') then {CCS}'tool//'{SEP} {CAS_TEXT}rf_tool.id {CAE_TEXT}{CCE} when fg.groupvalue in ('product') then {CCS}'product//'{SEP} {CAS_TEXT}rf_product.id {CAE_TEXT}{CCE} when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then {CCS}'trans//'{SEP} {CAS_TEXT}rf_trans.id {CAE_TEXT}{CCE} when fg.groupvalue in ('project') then {CCS}'project//'{SEP} {CAS_TEXT}rf_project.id {CAE_TEXT}{CCE} when fg.groupvalue in ('employee') then {CCS}'employee//'{SEP} {CAS_TEXT}rf_employee.id {CAE_TEXT}{CCE} when fg.groupvalue in ('place') then {CCS}'place//'{SEP} {CAS_TEXT}rf_place.id {CAE_TEXT}{CCE} when fg.groupvalue in ('urlink') then {CCS}'url/'{SEP}fv.value{CCE} when fg.groupvalue in ('password') then '**********' when fg.groupvalue in ('notes', 'string', 'valuelist','date','time') then fv.value else null end as deffield_value, case when fg.groupvalue in ('bool','float','integer','date','time','urlink','notes', 'string', 'valuelist') then fv.value when fg.groupvalue in ('customer') then rf_customer.custname when fg.groupvalue in ('tool') then rf_tool.serial when fg.groupvalue in ('product') then rf_product.partnumber when fg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when fg.groupvalue in ('project') then rf_project.pronumber when fg.groupvalue in ('employee') then rf_employee.empnumber when fg.groupvalue in ('place') then rf_place.planumber when fg.groupvalue in ('password') then '**********' else null end as export_deffield_value, fv.notes"],from:"fieldvalue fv",inner_join:[["deffield df","on",[["fv.fieldname","=","df.fieldname"],["and","df.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","df.deleted","=","0"],["and","df.visible","=","1"]]],["groups fg","on",["df.fieldtype","=","fg.id"]],["trans t","on",["fv.ref_id","=","t.id"]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","in",[[],"'bank'","'cash'"]]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","in",[[],"'integer'","'float'"]]]]}],"rf_number"],"on",["fv.fieldname","=","rf_number.fieldname"]],[[[{select:["fieldname"],from:"deffield df",inner_join:["groups fg","on",[["df.fieldtype","=","fg.id"],["and","fg.groupvalue","=","'date'"]]]}],"rf_date"],"on",["fv.fieldname","=","rf_date.fieldname"]],["customer rf_customer","on",["fv.value","=","{CAS_TEXT}rf_customer.id {CAE_TEXT}"]],["tool rf_tool","on",["fv.value","=","{CAS_TEXT}rf_tool.id {CAE_TEXT}"]],["trans rf_trans","on",["fv.value","=","{CAS_TEXT}rf_trans.id {CAE_TEXT}"]],["product rf_product","on",["fv.value","=","{CAS_TEXT}rf_product.id {CAE_TEXT}"]],["project rf_project","on",["fv.value","=","{CAS_TEXT}rf_project.id {CAE_TEXT}"]],["employee rf_employee","on",["fv.value","=","{CAS_TEXT}rf_employee.id {CAE_TEXT}"]],["place rf_place","on",["fv.value","=","{CAS_TEXT}rf_place.id {CAE_TEXT}"]]],where:[["fv.deleted","=","0"],["and",[["t.deleted","=","0"],["or",["tg.groupvalue","=","'cash'"]]]],["and","fv.ref_id","in",[{select:["trans_id"],from:"payment"}]]]}},PaymentInvoiceView:{columns:{paidnumber:!0,paiddate:!0,pcurr:!0,paidamount:!0,invnumber:!0},label:e.getText("payment_invoices"),edit:"trans",fields:{transtype:{fieldtype:"string",wheretype:"where",orderby:0,label:e.getText("document_transtype"),sqlstr:"case when mst.msg is null then tg.groupvalue else mst.msg end "},direction:{fieldtype:"string",wheretype:"where",orderby:1,label:e.getText("document_direction"),sqlstr:"case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end "},paiddate:{fieldtype:"date",wheretype:"where",orderby:2,label:e.getText("payment_paiddate"),sqlstr:"p.paiddate "},place:{fieldtype:"string",wheretype:"where",orderby:3,label:e.getText("payment_place"),sqlstr:"pa.description "},paidnumber:{fieldtype:"string",wheretype:"where",orderby:4,label:e.getText("payment_paidnumber"),sqlstr:"tp.transnumber "},pcurr:{fieldtype:"string",wheretype:"where",orderby:5,label:e.getText("payment_pcurr"),sqlstr:"pa.curr "},paidamount:{fieldtype:"float",wheretype:"where",orderby:6,label:e.getText("payment_amount"),sqlstr:"{CAS_FLOAT}af.value {CAE_FLOAT} "},prate:{fieldtype:"float",wheretype:"where",calc:"avg",orderby:7,label:e.getText("payment_rate"),sqlstr:"{CAS_FLOAT}rf.value {CAE_FLOAT} "},invnumber:{fieldtype:"string",wheretype:"where",orderby:8,label:e.getText("payment_invnumber"),sqlstr:"inv.transnumber "},icurr:{fieldtype:"string",wheretype:"where",orderby:9,label:e.getText("payment_icurr"),sqlstr:"inv.curr "},invamount:{fieldtype:"float",wheretype:"where",orderby:10,label:e.getText("payment_iamount"),sqlstr:"irow.amount "},pnotes:{fieldtype:"string",wheretype:"where",orderby:11,label:e.getText("payment_description"),sqlstr:"p.notes "}},sql:{select:["{CCS}'trans'{SEP}'/'{SEP}tg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}t.id {CAE_TEXT}{CCE} as id","ln.id as row_id","case when mst.msg is null then tg.groupvalue else mst.msg end as transtype","case when tg.groupvalue='bank' then '' else case when msd.msg is null then dg.groupvalue else msd.msg end end as direction","{FMS_DATE}p.paiddate {FME_DATE} as paiddate","pa.description as place","t.transnumber as paidnumber","pa.curr as pcurr","{FMS_FLOAT}{CAS_FLOAT}af.value {CAE_FLOAT}{FME_FLOAT} as paidamount","{CAS_FLOAT}af.value {CAE_FLOAT} as export_paidamount","{FMS_FLOAT}{CAS_FLOAT}rf.value {CAE_FLOAT}{FME_FLOAT} as prate","{CAS_FLOAT}rf.value {CAE_FLOAT} as export_prate","{CCS}'trans/'{SEP}itg.groupvalue{SEP}'/'{SEP} {CAS_TEXT}inv.id {CAE_TEXT}{CCE} as invnumber","inv.transnumber as export_invnumber","inv.curr as icurr","{FMS_FLOAT}irow.amount{FME_FLOAT} as invamount","irow.amount as export_invamount","p.notes as pnotes"],from:"link ln",inner_join:[["payment p","on",[["ln.ref_id_1","=","p.id"],["and","p.deleted","=","0"]]],["trans t","on",["p.trans_id","=","t.id"]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["place pa","on",["t.place_id","=","pa.id"]],["trans inv","on",["ln.ref_id_2","=","inv.id"]],["groups itg","on",["inv.transtype","=","itg.id"]],[[[{select:["trans_id","sum(amount) as amount"],from:"item",where:["deleted","=","0"],group_by:["trans_id"]}],"irow"],"on",["inv.id","=","irow.trans_id"]],["fieldvalue af","on",[["ln.id","=","af.ref_id"],["and","af.fieldname","=","'link_qty'"]]],["fieldvalue rf","on",[["ln.id","=","rf.ref_id"],["and","rf.fieldname","=","'link_rate'"]]]],left_join:[["ui_message mst","on",[["mst.fieldname","=","tg.groupvalue"],["and","mst.secname","=","'transtype'"],["and","mst.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]],["ui_message msd","on",[["msd.fieldname","=","dg.groupvalue"],["and","msd.secname","=","'direction'"],["and","msd.lang","=",[{select:["value"],from:"fieldvalue",where:["fieldname","=","'default_lang'"]}]]]]],where:[["ln.deleted","=","0"],["and","ln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'payment'"]]}]],["and","ln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]}}}}}}},131:function(e,t,r){"use strict";r.d(t,"a",(function(){return x}));var n=r(14),a=r(13),l=r(11),i=r.n(l),o=r(17),s=r(6),d=r(1),c=r.n(d),u=r(148),p=r(24),m=r(18),f=r(62),g=r(25),_=r(79),b=r(86),y=r(80),v=r(81),h=r(132),x=function(){var e=Object(s.useContext)(p.b),t=e.data,r=e.setData,l=Object(m.e)(),d=Object(f.a)(),x=Object(_.a)(),w=Object(y.a)(),j=Object(v.b)(),T=Object(v.a)(),E=Object(h.a)(),C=Object(g.e)(),O=Object(g.a)(),k=Object(g.f)(),S=function(e,r){var n={},a=T({tablename:e,dataset:t.setting.dataset,current:t.setting.current});for(var l in r)a.hasOwnProperty(l)&&(n[l]=r[l]);return n},N=function(e,n){var a=c()(n||t.setting,{$merge:{current:{}}});if(null!==e){var l=a.dataset[a.type+"_view"].filter((function(t){return t.id===parseInt(e,10)}))[0];"fieldvalue"===(a=c()(a,{$merge:{dirty:!1,current:{form:l}}})).ntype&&(a=c()(a,{current:{$merge:{fieldvalue:{rowtype:"fieldvalue",id:l.id,fieldname:l.fieldname,fieldvalue_value:l.value,fieldvalue_notes:l.notes||"",label:l.lslabel,description:"valuelist"===l.fieldtype?l.valuelist.split("|"):l.value,disabled:"false",fieldtype:l.fieldtype,datatype:"urlink"===l.fieldtype?"text":l.fieldtype}}}}))}else a=c()(a,{$merge:{dirty:"all"===a.audit||"update"===a.audit,current:{form:T({tablename:a.type,dataset:a.dataset,current:a.current})}}});"usergroup"===a.type&&null===a.current.form.transfilter&&(a.current.form.transfilter=a.dataset.transfilter.filter((function(e){return"all"===e.groupvalue}))[0].id),a=c()(a,{current:{$merge:{template:w[a.type](a.current.form,a)}}}),"readonly"===(a=c()(a,{$merge:{panel:a.current.template.options.panel}})).audit&&(a.panel.save=!1),"all"!==a.audit&&(a.panel.delete=!1,a.panel.new=!1),r("setting",a)},A=function(){var e=Object(o.a)(i.a.mark((function e(){var r,n,a,o,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.setting.current.form,n=r.username,a=r.password_1,o=r.password_2,""!==n&&null!==n){e.next=3;break}return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("ms_password_username")}));case 3:if(a===o){e.next=5;break}return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("ms_password_pswerr")}));case 5:return s={method:"POST",data:{username:n,password:a,confirm:o}},e.next=8,l.requestData("/auth/password",s);case 8:if(!(d=e.sent)||!d.error){e.next=11;break}return e.abrupt("return",l.resultError(d));case 11:l.showToast({type:"success",title:l.getText("msg_warning"),message:l.getText("msg_password_ok")});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=w[e.type](),n=l.getAuditFilter(e.type)[0],a=c()(e,{$merge:{current:"log"===e.type?{form:T({tablename:"log"}),template:t}:null,panel:null,filter:"",result:[],ntype:t.options.data,caption:t.options.title,icon:t.options.icon,view:{type:t.view.setting.type,result:e.dataset[e.type+"_view"],fields:t.view.setting.fields?t.view.setting.fields:null},actions:{new:"all"!==n?null:t.view.setting.actions.new,edit:t.view.setting.actions.edit,delete:"all"!==n?null:t.view.setting.actions.delete},audit:n,template:null}});r("setting",a),r("current",{module:"setting"}),"usergroup"!==e.type&&"ui_menu"!==e.type||!e.id?"undefined"!==typeof e.id&&N(e.id,a):$({action:"editItem",setting:a},{id:e.id})},P=function(){var e=Object(o.a)(i.a.mark((function e(r){var n,o,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c()(r,{$merge:{dataset:{},dirty:!1}}),!b.a[n.type]){e.next=13;break}return o=[],b.a[n.type]().forEach((function(e){var r={};"table"===e.infoType?(r={select:["*"],from:e.classAlias},e.where&&(r.where=e.where),e.order&&(r.order_by=e.order)):r="undefined"!==typeof x[n.type][e.sqlKey]?x[n.type][e.sqlKey](n.type):"undefined"!==typeof x[n.type][e.infoName]?x[n.type][e.infoName](n.type):x.all[e.infoName](n.type);var l=Object(m.a)(t.login.data.engine,r);null!==n.id||0===l.prmCount?o=c()(o,{$push:[{key:e.infoName,text:l.sql,values:l.prmCount>0&&null!==n.id?Array(l.prmCount).fill(n.id):[]}]}):n=c()(n,{dataset:{$merge:Object(a.a)({},e.infoName,[])}})})),s={method:"POST",data:o},e.next=7,l.requestData("/view",s);case 7:if(!(d=e.sent).error){e.next=10;break}return e.abrupt("return",l.resultError(d));case 10:if("template"!==(n=c()(n,{dataset:{$merge:d}})).type||"undefined"===typeof n.id){e.next=13;break}return e.abrupt("return",E.setTemplate(n));case 13:q(n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(i.a.mark((function e(){var r,n,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c()(t.setting,{}),n=S(r.ntype,r.current.form),e.next=4,j(r.ntype,n);case 4:if(!(n=e.sent).error){e.next=7;break}return e.abrupt("return",l.resultError(n));case 7:return e.next=9,l.requestData("/"+r.ntype,{method:"POST",data:[n]});case 9:if(!(a=e.sent).error){e.next=13;break}return l.resultError(a),e.abrupt("return",null);case 13:if(null===r.current.form.id&&(r=c()(r,{current:{form:{$merge:{id:a[0]}}}})),"usergroup"!==(r=c()(r,{$merge:{dirty:!1}})).type){e.next=25;break}if(o=t.login.data.groups.filter((function(e){return e.id===r.current.form.transfilter}))[0].groupvalue,null===r.current.form.translink&&"all"===o){e.next=25;break}return s=c()(T({tablename:"link",dataset:r.dataset,current:r.current}),{$merge:{id:r.current.form.translink,nervatype_1:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"groups"===e.groupvalue}))[0].id,ref_id_1:r.current.form.id,nervatype_2:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"groups"===e.groupvalue}))[0].id,ref_id_2:r.current.form.transfilter}}),e.next=21,l.requestData("/link",{method:"POST",data:[s]});case 21:if(!(a=e.sent).error){e.next=25;break}return l.resultError(a),e.abrupt("return",null);case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){var n=function(){var r=Object(o.a)(i.a.mark((function r(){var n,a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="usergroup"===t.setting.type?"/groups":"/"+t.setting.type,r.next=3,l.requestData(n,{method:"DELETE",query:{id:e.id}});case 3:if(!(a=r.sent)||!a.error){r.next=6;break}return r.abrupt("return",l.resultError(a));case 6:P({type:t.setting.type});case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();C({title:l.getText("msg_warning"),message:l.getText("msg_delete_text"),infoText:l.getText("msg_delete_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(a){r("current",{modalForm:null},Object(o.a)(i.a.mark((function r(){var a,o,s;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"===typeof x[t.setting.type].delete_state){r.next=11;break}return a=Object(m.a)(t.login.data.engine,x[t.setting.type].delete_state()),o={method:"POST",data:[{key:"state",text:a.sql,values:Array(a.prmCount).fill(e.id)}]},r.next=5,l.requestData("/view",o);case 5:if(!(s=r.sent).error){r.next=8;break}return r.abrupt("return",l.resultError(s));case 8:s.state[0].sco>0?l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("msg_integrity_err")}):n(),r.next=12;break;case 11:n();case 12:case"end":return r.stop()}}),r)}))))}})},D=function(){var e=Object(o.a)(i.a.mark((function e(){var n,a,o,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c()(t.setting,{view:{$merge:{result:[]}}}),a=x.log.result(),o=[],["login","logout"].includes(n.current.form.logstate)){e.next=35;break}a.inner_join.push(["groups nt","on",[["l.nervatype","=","nt.id"],["and","nt.groupvalue","=","?"]]]),o.push(n.current.form.nervatype),e.t0=n.current.form.nervatype,e.next=""===e.t0?9:"customer"===e.t0?10:"employee"===e.t0?13:"event"===e.t0?16:"place"===e.t0?19:"product"===e.t0?22:"project"===e.t0?25:"tool"===e.t0?28:"trans"===e.t0?31:34;break;case 9:return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("msg_required")+" "+l.getText("log_nervatype")}));case 10:return a.inner_join.push(["customer c","on",["l.ref_id","=","c.id"]]),a.select[4]="c.custnumber as refnumber",e.abrupt("break",35);case 13:return a.inner_join.push(["employee em","on",["l.ref_id","=","em.id"]]),a.select[4]="em.empnumber as refnumber",e.abrupt("break",35);case 16:return a.inner_join.push(["event ev","on",["l.ref_id","=","ev.id"]]),a.select[4]="ev.calnumber as refnumber",e.abrupt("break",35);case 19:return a.inner_join.push(["place p","on",["l.ref_id","=","p.id"]]),a.select[4]="p.planumber as refnumber",e.abrupt("break",35);case 22:return a.inner_join.push(["product p","on",["l.ref_id","=","p.id"]]),a.select[4]="p.partnumber as refnumber",e.abrupt("break",35);case 25:return a.inner_join.push(["project p","on",["l.ref_id","=","p.id"]]),a.select[4]="p.pronumber as refnumber",e.abrupt("break",35);case 28:return a.inner_join.push(["tool t","on",["l.ref_id","=","t.id"]]),a.select[4]="t.serial as refnumber",e.abrupt("break",35);case 31:return a.inner_join.push(["trans t","on",["l.ref_id","=","t.id"]]),a.select[4]="t.transnumber as refnumber",e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:return a.where.push(["ls.groupvalue","=","?"]),o.push(n.current.form.logstate),n.current.form.empnumber&&""!==n.current.form.empnumber&&a.where.push(["and","lower(e.empnumber)","like","{CCS}{JOKER}{SEP}lower('"+n.current.form.empnumber+"'){SEP}{JOKER}{CCE}"]),n.current.form.fromdate&&""!==n.current.form.fromdate&&(a.where.push(["and","{FMS_DATE}l.crdate{FME_DATE}",">=","?"]),o.push(n.current.form.fromdate)),n.current.form.todate&&""!==n.current.form.todate&&(a.where.push(["and","{FMS_DATE}l.crdate{FME_DATE}","<=","?"]),o.push(n.current.form.todate)),s={method:"POST",data:[{key:"log",text:Object(m.a)(t.login.data.engine,a).sql,values:o}]},e.next=43,l.requestData("/view",s);case 43:if(!(d=e.sent).error){e.next=46;break}return e.abrupt("return",l.resultError(d));case 46:n=c()(n,{view:{$merge:{result:d.log}}}),r("setting",n);case 48:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e,n,a){var s=function(t){switch(t){case"LOAD_SETTING":P(e);break;case"SETTING_FORM":N(e.id);break;case"NEW_BLANK":E.newBlank();break;case"NEW_SAMPLE":E.newSample()}};!0===t.setting.dirty?C({title:l.getText("msg_warning"),message:l.getText("msg_dirty_text"),infoText:l.getText("msg_dirty_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null},(function(){a?r("edit",{dirty:!1},(function(){s(a)})):s(n)}))},cbOK:function(e){r("current",{modalForm:null},Object(o.a)(i.a.mark((function e(){var l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("template_editor"!==t.setting.type){e.next=8;break}return e.next=3,E.saveTemplate();case 3:if(!(l=e.sent)){e.next=6;break}return e.abrupt("return",r("setting",l,(function(){s(n)})));case 6:e.next=13;break;case 8:return e.next=10,F();case 10:if(!(o=e.sent)){e.next=13;break}return e.abrupt("return",r("setting",o,(function(){s(n)})));case 13:return e.abrupt("return",s(a));case 14:case"end":return e.stop()}}),e)}))))}}):s(a||n)},$=function(){var e=Object(o.a)(i.a.mark((function e(a,s){var u,p,f,g,_,b,y,v,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=s||{},e.t0=a.action,e.next="newItem"===e.t0?4:"editItem"===e.t0?6:"deleteItem"===e.t0?34:"deleteTemplate"===e.t0?36:"editAudit"===e.t0?38:"editMenuField"===e.t0?42:"deleteItemRow"===e.t0?46:48;break;case 4:return I({type:t.setting.type,id:null},"LOAD_SETTING"),e.abrupt("break",49);case 6:e.t1=t.setting.type,e.next="template"===e.t1?9:"place"===e.t1?11:"usergroup"===e.t1?13:"ui_menu"===e.t1?22:31;break;case 9:return I({type:t.setting.type,id:u.id},"LOAD_SETTING"),e.abrupt("break",33);case 11:return d.checkEditor({ntype:t.setting.type,ttype:null,id:u.id||null},"LOAD_EDITOR"),e.abrupt("break",33);case 13:return p={method:"POST",data:[{key:"audit",text:Object(m.a)(t.login.data.engine,x.usergroup.audit()).sql,values:[u.id]}]},e.next=16,l.requestData("/view",p);case 16:if(!(f=e.sent).error){e.next=19;break}return e.abrupt("return",l.resultError(f));case 19:return g=c()(a.setting||t.setting,{dataset:{$merge:{audit:f.audit}}}),N(u.id,g),e.abrupt("break",33);case 22:return _={method:"POST",data:[{key:"menufields",text:Object(m.a)(t.login.data.engine,x.ui_menu.ui_menufields()).sql,values:[u.id]}]},e.next=25,l.requestData("/view",_);case 25:if(!(b=e.sent).error){e.next=28;break}return e.abrupt("return",l.resultError(b));case 28:return y=c()(a.setting||t.setting,{dataset:{$merge:{ui_menufields:b.menufields}}}),N(u.id,y),e.abrupt("break",33);case 31:return N(u.id),e.abrupt("break",33);case 33:return e.abrupt("break",49);case 34:return M(u),e.abrupt("break",49);case 36:return C({title:l.getText("msg_warning"),message:l.getText("msg_delete_text"),infoText:l.getText("msg_delete_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(e){r("current",{modalForm:null},Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.deleteTemplate(u.id);case 2:e.sent&&P({type:"template"});case 4:case"end":return e.stop()}}),e)}))))}}),e.abrupt("break",49);case 38:return(v=u).id||(v=c()(T({tablename:"link",dataset:t.setting.dataset,current:t.setting.current}),{$merge:{usergroup:t.setting.current.form.id,nervatype:t.setting.dataset.nervatype.filter((function(e){return"customer"===e.groupvalue}))[0].id,inputfilter:t.setting.dataset.inputfilter.filter((function(e){return"all"===e.groupvalue}))[0].id}})),O(Object(n.a)(Object(n.a)({},v),{},{onChange:function(e){r("current",{modalForm:e})},updateAudit:function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["trans","report","menu"].includes(n.nervatype_name)||null!==n.subtype){e.next=2;break}return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("msg_input_invalid")+" "+n.nervatype_name}));case 2:return e.next=4,l.requestData("/ui_audit",{method:"POST",data:[S("audit",n)]});case 4:if(!(a=e.sent).error){e.next=7;break}return e.abrupt("return",l.resultError(a));case 7:r("current",{modalForm:null},(function(){$({action:"editItem"},t.setting.current.form)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),e.abrupt("break",49);case 42:return(h=u).id||(h=c()(T({tablename:"ui_menufields",dataset:t.setting.dataset,current:t.setting.current}),{$merge:{menu_id:t.setting.current.form.id,fieldtype:t.setting.dataset.fieldtype.filter((function(e){return"string"===e.groupvalue}))[0].id,orderby:t.setting.dataset.ui_menufields.length}})),k(Object(n.a)(Object(n.a)({},h),{},{onChange:function(e){r("current",{modalForm:e})},updateMenu:function(){var e=Object(o.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.fieldname&&""!==n.fieldname){e.next=4;break}return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("msg_input_invalid")+" "+l.getText("menufields_fieldname")}));case 4:if(null!==n.description&&""!==n.description){e.next=6;break}return e.abrupt("return",l.showToast({type:"error",title:l.getText("msg_warning"),message:l.getText("msg_input_invalid")+" "+l.getText("menufields_description")}));case 6:return e.next=8,l.requestData("/ui_menufields",{method:"POST",data:[S("ui_menufields",n)]});case 8:if(!(a=e.sent).error){e.next=11;break}return e.abrupt("return",l.resultError(a));case 11:r("current",{modalForm:null},(function(){$({action:"editItem"},t.setting.current.form)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),e.abrupt("break",49);case 46:return C({title:l.getText("msg_warning"),message:l.getText("msg_delete_text"),infoText:l.getText("msg_delete_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(e){r("current",{modalForm:null},Object(o.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.requestData("/"+a.table,{method:"DELETE",query:{id:u.id}});case 2:if(!(r=e.sent)||!r.error){e.next=5;break}return e.abrupt("return",l.resultError(r));case 5:$({action:"editItem"},t.setting.current.form);case 6:case"end":return e.stop()}}),e)}))))}}),e.abrupt("break",49);case 48:return e.abrupt("break",49);case 49:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return{checkSetting:I,loadSetting:P,saveSetting:F,setPasswordForm:function(e){var t={username:e,password_1:"",password_2:""},n=w.password(t),a={type:"password",dataset:{},current:{form:t,template:n},panel:n.options.panel,caption:n.options.title,icon:n.options.icon,filter:"",result:[],dirty:!1,view:{type:"password",result:[]}};r("setting",a),r("current",{module:"setting"})},setViewActions:$,changePassword:A,setProgramForm:function(){var e=w.program(),t=c()({},{$set:{type:"program",dataset:{},current:{form:{paginationPage:l.getSetting("paginationPage"),history:l.getSetting("history"),page_size:l.getSetting("page_size"),export_sep:l.getSetting("export_sep"),dateFormat:l.getSetting("dateFormat"),calendar:l.getSetting("calendar")},template:e},filter:"",result:[],dirty:!1,panel:null,caption:e.options.title,icon:e.options.icon,view:{type:"program",result:[]}}});r("setting",t),r("current",{module:"setting"})},deleteSetting:M,loadLog:D,createTemplate:function(e){var t=e.dataset.template[0].ntype;"trans"===t&&(t=e.dataset.template[0].ttype+"_"+e.dataset.template[0].dirtype),t+="_"+Object(u.default)(new Date,"yyyyMMddHHmm"),C({title:l.getText("template_label_new"),message:t,value:e.dataset.template[0].repname,onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(n){r("current",{modalForm:null},Object(o.a)(i.a.mark((function r(){var a,o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=c()(S("report",e.dataset.template[0]),{$merge:{id:null,reportkey:t,repname:n,report:e.template.template}}),a=c()(a,{$unset:["orientation","size"]}),r.next=4,l.requestData("/ui_report",{method:"POST",data:[a]});case 4:if(!(o=r.sent).error){r.next=7;break}return r.abrupt("return",l.resultError(o));case 7:I({type:"template",id:o[0]},"LOAD_SETTING");case 8:case"end":return r.stop()}}),r)}))))}})}}}},132:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r(14),a=r(11),l=r.n(a),i=r(17),o=r(13),s=r(6),d=r(1),c=r.n(d),u=r(105),p=r.n(u),m=r(24),f=r(18),g=r(25),_=r(5),b=function(){var e=Object(s.useContext)(m.b),t=e.data,a=e.setData,d=Object(f.e)(),u=Object(g.e)(),b=Object(g.c)(),y={report:{options:{title:"REPORT"},rows:[{rowtype:"flip",name:"title",datatype:"string",default:"Nervatura Report"},{rowtype:"flip",name:"author",datatype:"string"},{rowtype:"flip",name:"creator",datatype:"string"},{rowtype:"flip",name:"subject",datatype:"string"},{rowtype:"flip",name:"keywords",datatype:"string"},{rowtype:"groupline"},{rowtype:"flip",name:"font-style",datatype:"select",default:"",options:[["",""],["bold","bold"],["italic","italic"],["bolditalic","bolditalic"]],info:d.getText("info_font-style")},{rowtype:"flip",name:"font-size",datatype:"integer",default:12},{rowtype:"flip",name:"color",datatype:"color",info:d.getText("info_color")},{rowtype:"flip",name:"border-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_border-color")},{rowtype:"flip",name:"background-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_background-color")},{rowtype:"groupline"},{rowtype:"flip",name:"left-margin",datatype:"integer",default:12},{rowtype:"flip",name:"right-margin",datatype:"integer",default:12},{rowtype:"flip",name:"top-margin",datatype:"integer",default:12}]},row:{options:{title:"ROW"},rows:[{rowtype:"flip",name:"height",datatype:"float",default:0},{rowtype:"flip",name:"hgap",datatype:"integer",default:0,info:d.getText("info_hgap")},{rowtype:"flip",name:"visible",datatype:"string",info:d.getText("info_visible")}]},cell:{options:{title:"CELL"},rows:[{rowtype:"flip",name:"name",datatype:"string",default:"head",info:d.getText("info_name")},{rowtype:"flip",name:"value",datatype:"string",info:d.getText("info_value")},{rowtype:"flip",name:"width",datatype:"percent",info:d.getText("info_width")},{rowtype:"flip",name:"align",datatype:"select",default:"left",options:[["left","left"],["right","right"],["center","center"]],info:d.getText("info_align")},{rowtype:"flip",name:"multiline",datatype:"select",default:"false",options:[["false","false"],["true","true"]],info:d.getText("info_multiline")},{rowtype:"groupline"},{rowtype:"flip",name:"font-style",datatype:"select",default:"",options:[["",""],["bold","bold"],["italic","italic"],["bolditalic","bolditalic"]],info:d.getText("info_font-style")},{rowtype:"flip",name:"font-size",datatype:"integer",default:12},{rowtype:"flip",name:"color",datatype:"color",info:d.getText("info_color")},{rowtype:"flip",name:"border-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_border-color")},{rowtype:"flip",name:"background-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_background-color")},{rowtype:"flip",name:"border",datatype:"checklist",values:["1|All","L|Left","T|Top","R|Right","B|Bottom"]}]},image:{options:{title:"IMAGE"},rows:[{rowtype:"flip",name:"src",datatype:"image",info:d.getText("info_src")},{rowtype:"flip",name:"height",datatype:"float",default:0,info:d.getText("info_height_image")}]},barcode:{options:{title:"BARCODE"},rows:[{rowtype:"flip",name:"code-type",datatype:"select",default:"ITF",options:[["ITF","ITF"],["CODE_39","CODE_39"],["CODE_128","CODE_128"],["EAN","EAN"],["QR","QR"]],info:d.getText("info_code-type")},{rowtype:"flip",name:"value",datatype:"string",default:"",info:d.getText("info_barcode_value")},{rowtype:"flip",name:"visible-value",datatype:"select",default:"0",options:[["0","0"],["1","1"]],info:d.getText("info_visible-value")},{rowtype:"flip",name:"wide",datatype:"float",default:0,info:d.getText("info_optional")},{rowtype:"flip",name:"narrow",datatype:"float",default:0,info:d.getText("info_optional")}]},separator:{options:{title:"SEPARATOR"},rows:[{rowtype:"flip",name:"hgap",datatype:"integer",default:0,info:d.getText("info_hgap")}]},vgap:{options:{title:"VGAP"},rows:[{rowtype:"flip",name:"height",datatype:"float",default:0,info:d.getText("info_height")}]},hline:{options:{title:"HLINE"},rows:[{rowtype:"flip",name:"width",datatype:"percent",info:d.getText("info_width")},{rowtype:"flip",name:"gap",datatype:"integer",default:0,info:d.getText("info_gap")},{rowtype:"flip",name:"border-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_border-color")}]},html:{options:{title:"HTML"},rows:[{rowtype:"flip",name:"html",datatype:"text",default:"",info:d.getText("info_html")}]},datagrid:{options:{title:"DATAGRID"},rows:[{rowtype:"flip",name:"name",datatype:"string",default:"items",info:d.getText("info_datagrid_name")},{rowtype:"flip",name:"databind",datatype:"string",default:"",info:d.getText("info_databind")},{rowtype:"flip",name:"width",datatype:"percent",info:d.getText("info_width")},{rowtype:"flip",name:"merge",datatype:"select",default:"0",options:[["0","0"],["1","1"]],info:d.getText("info_merge")},{rowtype:"flip",name:"font-size",datatype:"integer",default:12},{rowtype:"flip",name:"border",datatype:"checklist",values:["1|All","L|Left","T|Top","R|Right","B|Bottom"]},{rowtype:"flip",name:"color",datatype:"color",info:d.getText("info_color")},{rowtype:"flip",name:"border-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_border-color")},{rowtype:"flip",name:"background-color",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_background-color")},{rowtype:"flip",name:"header-background",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_background-color")},{rowtype:"flip",name:"footer-background",datatype:"integer",default:0,max:255,min:0,info:d.getText("info_background-color")}]},column:{options:{title:"COLUMN"},rows:[{rowtype:"flip",name:"fieldname",datatype:"string",default:"",info:d.getText("info_fieldname")},{rowtype:"flip",name:"label",datatype:"string",default:"",info:d.getText("info_label")},{rowtype:"flip",name:"width",datatype:"percent",info:d.getText("info_width")},{rowtype:"flip",name:"align",datatype:"select",default:"left",options:[["left","left"],["right","right"],["center","center"]],info:d.getText("info_align")},{rowtype:"flip",name:"header-align",datatype:"select",default:"left",options:[["left","left"],["right","right"],["center","center"]],info:d.getText("info_align")},{rowtype:"flip",name:"footer-align",datatype:"select",default:"left",options:[["left","left"],["right","right"],["center","center"]],info:d.getText("info_align")},{rowtype:"flip",name:"thousands",datatype:"string",default:"",info:d.getText("info_thousands")},{rowtype:"flip",name:"digit",datatype:"integer",default:0,info:d.getText("info_digit")},{rowtype:"flip",name:"footer",datatype:"string",default:"",info:d.getText("info_footer")}]},header:{options:{title:"HEADER"},rows:[]},details:{options:{title:"DETAILS"},rows:[]},footer:{options:{title:"FOOTER"},rows:[]}},v=function(e){return Object.getOwnPropertyNames(e).length>0?Object.getOwnPropertyNames(e)[0]:null},h=function(e){var t=[];return Object.keys(e).forEach((function(r){"string"===typeof e[r]?t.push({lslabel:r,lsvalue:"string"}):Array.isArray(e[r])?t.push({lslabel:r,lsvalue:"table"}):t.push({lslabel:r,lsvalue:"list"})})),t},x=function(e){var r=e.tmp_id.split("_"),n=c()(e.setting||t.setting,{template:{$merge:{current:{id:e.tmp_id,section:r[1]}}}});switch(r.length){case 2:n=c()(n,{template:{current:{$merge:{type:r[1],item:n.template.template[n.template.current.section],index:null,parent:null,parent_type:null,parent_index:null}}}});break;case 4:n="row"===(n=c()(n,{template:{current:{$merge:{type:r[3],index:parseInt(r[2],10),parent:n.template.template[n.template.current.section],parent_type:n.template.current.section,parent_index:null}}}})).template.current.type||"datagrid"===n.template.current.type?c()(n,{template:{current:{$merge:{item:n.template.template[n.template.current.section][parseInt(r[2],10)][r[3]].columns,item_base:n.template.template[n.template.current.section][parseInt(r[2],10)][r[3]]}}}}):c()(n,{template:{current:{$merge:{item:n.template.template[n.template.current.section][parseInt(r[2],10)][r[3]]}}}});break;case 6:n=c()(n,{template:{current:{$merge:{type:r[5],item:n.template.template[n.template.current.section][parseInt(r[2],10)][r[3]].columns[parseInt(r[4],10)][r[5]],index:parseInt(r[4],10),parent:n.template.template[n.template.current.section][parseInt(r[2],10)][r[3]].columns,parent_type:r[3],parent_index:parseInt(r[2],10)}}}})}n=c()(n,{template:{current:{$merge:{form:y[n.template.current.type]}}}}),e.set_dirty&&"_blank"!==n.template.key&&"_sample"!==n.template.key&&(n=c()(n,{$merge:{dirty:!0}})),a("setting",n)},w=function(e){var t=[];return Object.keys(e).forEach((function(r){t.push({lslabel:r,lsvalue:e[r]})})),t},j=function(e){var t={fields:{},items:[]};if(e.length>0){Object.keys(e[0]).forEach((function(e){t.fields[e]={fieldtype:"string",label:e}}));for(var r=0;r<e.length;r++){var n=c()(e[r],{$merge:{_index:r}});t.items.push(n)}}return t},T=function(e){var r=c()(t.setting,{}),n=function(e){"_blank"!==r.template.key&&"_sample"!==r.template.key&&(r=c()(r,{$merge:{dirty:!0}})),r=c()(r,{template:{$merge:{current_data:e}}}),a("setting",r)};if(e)switch(e.type){case"new":if(Object.keys(r.template.template.data).includes(e.values.name)||""===e.values.name)d.showToast({type:"error",title:d.getText("msg_warning"),message:d.getText("msg_value_exists")});else if("table"===e.values.type&&""===e.values.columns)d.showToast({type:"error",title:d.getText("msg_warning"),message:d.getText("template_missing_columns")});else{var l=c()({},{$set:{name:e.values.name,type:e.values.type}});switch(l.type){case"string":r=c()(r,{template:{template:{data:{$merge:Object(o.a)({},l.name,"")}}}});break;case"list":r=c()(r,{template:{template:{data:{$merge:Object(o.a)({},l.name,{})}}}}),l.items=w({});break;case"table":r=c()(r,{template:{template:{data:{$merge:Object(o.a)({},l.name,[])}}}});for(var i=e.values.columns.split(","),s={},u=0;u<i.length;u++)s[String(i[u]).trim()]="";r=c()(r,{template:{template:{data:Object(o.a)({},l.name,{$push:[s]})}}});var p=j([s]);l.items=p.items,l.fields=p.fields}r=c()(r,{template:{$merge:{dataset:h(r.template.template.data)}}}),n(l)}break;case"list":e.items=w(r.template.template.data[e.name]),n(e);break;case"table":var m=j(r.template.template.data[e.name]);e.items=m.items,e.fields=m.fields,n(e);break;default:n(e)}else n(e)};return{getMapCtr:function(e,t){switch(t){case"map_edit":switch(e){case"data":case"report":return!1;case"header":case"footer":case"details":return!1;case"row":case"datagrid":default:return!0}case"map_insert":switch(e){case"data":case"report":return!1;case"header":case"footer":case"details":return!0;case"row":case"datagrid":return!0;default:return!1}default:return!1}},setTemplate:function(e){var r=c()(t.setting,{$merge:{type:"template_editor",dataset:e.dataset,current:null,filter:"",result:[],caption:e.dataset.template[0].repname,icon:_.qb,template:{key:e.dataset.template[0].reportkey,title:e.dataset.template[0].repname,template:JSON.parse(e.dataset.template[0].report),current:{},current_data:null,dataset:[],docnumber:"",tabView:"template"}}});r=c()(r,{template:{$merge:{dataset:h(r.template.template.data)}}}),x({tmp_id:"tmp_report",setting:r}),a("current",{module:"setting"})},setCurrent:x,getElementType:v,createMap:function(e){var r=t.setting.template,n=r.template,a=r.current,l=e.getContext("2d"),i="#CCCCCC",o="#FFFF00",s="#00EE00",d=[];e.height=3;for(var c=["header","details","footer"],u=0;u<c.length;u++)for(var p=0;p<n[c[u]].length;p++){var m={};m.type=v(n[c[u]][p]);var f=n[c[u]][p][m.type];if("row"===m.type||"datagrid"===m.type){if(m.cols=n[c[u]][p][m.type].columns.length,m.selected=f.columns===a.item||f.columns===a.parent,m.selcol=-1,m.selected)for(var g=0;g<m.cols;g++){var _=v(n[c[u]][p][m.type].columns[g]);n[c[u]][p][m.type].columns[g][_]===a.item&&(m.selcol=g)}9*m.cols+6>e.width&&(e.width=9*m.cols+6)}else m.selected=f===a.item,m.cols=1;switch(m.type){case"vgap":n[c[u]][p][m.type].height>2?m.height=n[c[u]][p][m.type].height:m.height=2,e.height+=m.height;break;case"hline":e.height+=2;break;case"datagrid":e.height+=20;break;default:e.height+=9}n[c[u]]!==a.item&&n.report!==a.item||(m.selected=!0),d.push(m)}e.height+=3,e.height<165&&(e.height=165);for(var b=3,y=3,h=0,x=0;x<d.length;x++){switch(d[x].type){case"row":h=(e.width-(9*d[x].cols+6))/d[x].cols;for(var w=0;w<d[x].cols;w++)d[x].selected?d[x].selcol===w||-1===d[x].selcol?l.fillStyle=s:l.fillStyle=o:l.fillStyle=i,l.fillRect(b,y,8+h,8),b+=8+h+1;y+=9;break;case"datagrid":d[x].selected?l.fillStyle=s:l.fillStyle=i,l.fillRect(b,y,e.width-6-1,4),h=(e.width-(9*d[x].cols+6))/d[x].cols;for(var j=0;j<d[x].cols;j++)d[x].selected?d[x].selcol===j||-1===d[x].selcol?l.fillStyle=s:l.fillStyle=o:l.fillStyle=i,l.fillRect(b,y+4+1,8+h,4),l.fillRect(b,y+8+2,8+h,4),l.fillRect(b,y+12+3,8+h,4),b+=8+h+1;y+=20;break;case"vgap":d[x].selected&&(l.fillStyle=s,l.fillRect(b,y-1,e.width-6-1,d[x].height)),y+=d[x].height;break;case"hline":d[x].selected?l.strokeStyle=s:l.strokeStyle=i,l.beginPath(),l.moveTo(b,y),l.lineTo(e.width-3-1,y),l.stroke(),y+=2;break;case"html":d[x].selected?l.fillStyle=s:l.fillStyle=i,l.fillRect(b,y,e.width-6-1,8),y+=9}b=3}},goPrevious:function(e){x(function(e){var t,r,n=e.template,a=n.current,l=n.template,i=a.section,o=a.parent_index,s=a.index;if(null===a.parent_index&&(o=a.index,s=null),"report"===i)return{tmp_id:"tmp_report",setting:e};if(null!==s)return t=v(l[i][o]),s>0?(r=v(l[i][o][t].columns[s-1]),{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t+"_"+(s-1).toString()+"_"+r,setting:e}):{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t,setting:e};if(null!==o)return o>0?("row"===(t=v(l[i][o-1]))||"datagrid"===t)&&(s=l[i][o-1][t].columns.length)>0?(r=v(l[i][o-1][t].columns[s-1]),{tmp_id:"tmp_"+i+"_"+(o-1).toString()+"_"+t+"_"+(s-1).toString()+"_"+r,setting:e}):{tmp_id:"tmp_"+i+"_"+(o-1).toString()+"_"+t,setting:e}:{tmp_id:"tmp_"+i,setting:e};var d=["report","header","details","footer"];return"report"===(i=d[d.indexOf(i)-1])?{tmp_id:"tmp_report",setting:e}:(o=l[i].length)>0?("row"===(t=v(l[i][o-1]))||"datagrid"===t)&&(s=l[i][o-1][t].columns.length)>0?(r=v(l[i][o-1][t].columns[s-1]),{tmp_id:"tmp_"+i+"_"+(o-1).toString()+"_"+t+"_"+(s-1).toString()+"_"+r,setting:e}):{tmp_id:"tmp_"+i+"_"+(o-1).toString()+"_"+t,setting:e}:{tmp_id:"tmp_"+i,setting:e}}(e))},goNext:function(e){x(function(e){var t,r,n=e.template,a=n.current,l=n.template,i=a.section,o=a.parent_index,s=a.index;null===a.parent_index&&(o=a.index,s=null);var d=["report","header","details","footer"];if(null!==s&&(t=v(l[i][o]),s<l[i][o][t].columns.length-1))return r=v(l[i][o][t].columns[s+1]),{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t+"_"+(s+1).toString()+"_"+r,setting:e};if(null!==o){if(null===s&&("row"===(t=v(l[i][o]))||"datagrid"===t)&&l[i][o][t].columns.length>0)return r=v(l[i][o][t].columns[0]),{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t+"_0_"+r,setting:e};if(o<l[i].length-1)return t=v(l[i][o+1]),{tmp_id:"tmp_"+i+"_"+(o+1).toString()+"_"+t,setting:e};if("footer"===i)return null!==s?(r=v(l[i][o][t].columns[s]),{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t+"_"+s.toString()+"_"+r,setting:e}):{tmp_id:"tmp_"+i+"_"+o.toString()+"_"+t,setting:e};i=d[d.indexOf(i)+1]}return l[i].length>0?{tmp_id:"tmp_"+i+"_0_"+(t=v(l[i][0])),setting:e}:("footer"!==i&&(i=d[d.indexOf(i)+1]),{tmp_id:"tmp_"+i,setting:e})}(e))},moveUp:function(e){var t=e.template.current;if(null!==t.parent&&null!==t.index&&t.index>0){var r=t.parent[t.index-1];t.parent[t.index-1]=t.parent[t.index],t.parent[t.index]=r;var n="tmp_"+t.section+"_";null!==t.parent_index&&(n+=t.parent_index.toString()+"_"+t.parent_type+"_"),n+=(t.index-1).toString()+"_"+t.type,x({tmp_id:n,set_dirty:!0,setting:e})}},moveDown:function(e){var t=e.template.current;if(null!==t.parent&&null!==t.index&&t.index<t.parent.length-1){var r=t.parent[t.index+1];t.parent[t.index+1]=t.parent[t.index],t.parent[t.index]=r;var n="tmp_"+t.section+"_";null!==t.parent_index&&(n+=t.parent_index.toString()+"_"+t.parent_type+"_"),n+=(t.index+1).toString()+"_"+t.type,x({tmp_id:n,set_dirty:!0,setting:e})}},deleteItem:function(e){var t=e.template.current;if(null!==t.parent&&null!==t.index){t.parent.splice(t.index,1);var r="tmp_"+t.section;null!==t.parent_index&&(r+="_"+t.parent_index.toString()+"_"+t.parent_type),x({tmp_id:r,set_dirty:!0,setting:e})}},addItem:function(e,t){var r=t.template.current;if(""!==e){var n=e.toString().toLowerCase(),a={};a[n]={};var l=r.id+"_"+r.item.length.toString()+"_"+n;"datagrid"!==n&&"row"!==n||(a[n].columns=[]),r.item.push(a),x({tmp_id:l,set_dirty:!0,setting:t})}},editItem:function(e){var r=c()(e.setting||t.setting,{}),n=r.template.current.id.split("_"),l=function(e,t){r=null===t?c()(r,{template:{current:{item_base:{$unset:[e]}}}}):c()(r,{template:{current:{item_base:{$merge:Object(o.a)({},e,t)}}}}),r=c()(r,{template:{template:Object(o.a)({},r.template.current.section,Object(o.a)({},parseInt(n[2],10),Object(o.a)({},n[3],{$set:r.template.current.item_base})))}})},i=function(e,t){switch(r=null===t?c()(r,{template:{current:{item:{$unset:[e]}}}}):c()(r,{template:{current:{item:{$merge:Object(o.a)({},e,t)}}}}),n.length){case 2:r=c()(r,{template:{template:Object(o.a)({},r.template.current.section,{$set:r.template.current.item})}});break;case 4:r="row"===r.template.current.type||"datagrid"===r.template.current.type?c()(r,{template:{template:Object(o.a)({},r.template.current.section,Object(o.a)({},parseInt(n[2],10),Object(o.a)({},n[3],{columns:{$set:r.template.current.item}})))}}):c()(r,{template:{template:Object(o.a)({},r.template.current.section,Object(o.a)({},parseInt(n[2],10),Object(o.a)({},n[3],{$set:r.template.current.item})))}});break;case 6:r=c()(r,{template:{template:Object(o.a)({},r.template.current.section,Object(o.a)({},parseInt(n[2],10),Object(o.a)({},n[3],{columns:Object(o.a)({},parseInt(n[4],10),Object(o.a)({},n[5],{$set:r.template.current.item}))})))}})}};if("_blank"!==r.template.key&&"_sample"!==r.template.key&&(r=c()(r,{$merge:{dirty:!0}})),e.selected){var s="";if(e.value){if(e.defvalue)s=e.defvalue;else switch(e.datatype){case"float":case"integer":s=0;break;default:s=""}r.template.current.item_base?l(e.name,s):i(e.name,s)}else r.template.current.item_base?l(e.name,null):i(e.name,null)}else if(e.file){if(e.value.length>0){var d=e.value[0],u=new FileReader;u.onload=function(t){r.template.current.item_base?l(e.name,t.target.result):i(e.name,t.target.result),a("setting",r)},u.readAsDataURL(d)}}else if(e.checklist){var p=(r.template.current.item_base?r.template.current.item_base[e.name]:r.template.current.item[e.name])||"",m=e.value;e.checked?"1"!==m&&"1"!==p&&(m=p+m):m=(r.template.current.item_base,p.replace(m,"")),r.template.current.item_base?l(e.name,m):i(e.name,m)}else r.template.current.item_base?l(e.name,e.value):i(e.name,e.value);e.file||a("setting",r)},exportTemplate:function(){var e=t.setting.template,r=JSON.stringify(e.template),n=URL.createObjectURL(new Blob([r],{type:"text/json;charset=utf-8;"}));Object(f.d)(n,e.key+".json")},newBlank:function(){var e=c()(t.setting,{$merge:{type:"template_editor",caption:d.getText("title_report_editor"),icon:_.qb,dataset:{},current:null,filter:"",result:[],template:{key:"_blank",title:"Nervatura Report",template:{report:{},header:[],details:[],footer:[],data:{}},current:{},current_data:null,dataset:[],docnumber:"",tabView:"template"}}});x({tmp_id:"tmp_report",setting:e}),a("current",{module:"setting"})},newSample:function(){var e=r(616),n=c()(t.setting,{$merge:{type:"template_editor",caption:e.report.title,icon:_.qb,dataset:{},current:null,filter:"",result:[],template:{key:"_sample",title:e.report.title,template:e,current:{},current_data:null,dataset:[],docnumber:"",tabView:"template"}}});n=c()(n,{template:{$merge:{dataset:h(n.template.template.data)}}}),x({tmp_id:"tmp_report",setting:n}),a("current",{module:"setting"})},saveTemplate:function(){var e=Object(i.a)(l.a.mark((function e(r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){var e=Object(i.a)(l.a.mark((function e(){var r,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c()(t.setting,{}),n={id:r.dataset.template[0].id,report:JSON.stringify(r.template.template)},e.next=4,d.requestData("/ui_report",{method:"POST",data:[n]});case 4:if(!(a=e.sent).error){e.next=8;break}return d.resultError(a),e.abrupt("return",null);case 8:return r=c()(r,{$merge:{dirty:!1}}),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!r){e.next=5;break}u({title:d.getText("template_label_template"),message:d.getText("msg_dirty_info"),infoText:d.getText("msg_delete_info"),onChange:function(e){a("current",{modalForm:e})},cbCancel:function(){a("current",{modalForm:null})},cbOK:function(e){a("current",{modalForm:null},Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:(t=e.sent)&&a("setting",t);case 4:case"end":return e.stop()}}),e)}))))}}),e.next=8;break;case 5:return e.next=7,n();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteTemplate:function(){var e=Object(i.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.requestData("/ui_report",{method:"DELETE",query:{id:t}});case 2:if(!(r=e.sent)||!r.error){e.next=6;break}return d.resultError(r),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteData:function(e){u({title:d.getText("msg_warning"),message:d.getText("msg_delete_text"),infoText:d.getText("msg_delete_info"),onChange:function(e){a("current",{modalForm:e})},cbCancel:function(){a("current",{modalForm:null})},cbOK:function(){a("current",{modalForm:null},Object(i.a)(l.a.mark((function r(){var n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"_blank"!==(n=c()(t.setting,{template:{template:{data:{$unset:[e]}}}})).template.key&&"_sample"!==n.template.key&&(n=c()(n,{$merge:{dirty:!0}})),n=c()(n,{template:{$merge:{dataset:h(n.template.template.data)}}}),a("setting",n);case 4:case"end":return r.stop()}}),r)}))))}})},addTemplateData:function(){b({onChange:function(e){a("current",{modalForm:e})},updateData:function(e){a("current",{modalForm:null},Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T({name:"new",type:"new",values:Object(n.a)({},e)});case 1:case"end":return t.stop()}}),t)}))))}})},setCurrentData:T,editDataItem:function(e){var r=c()(t.setting,{});switch("_blank"!==r.template.key&&"_sample"!==r.template.key&&(r=c()(r,{$merge:{dirty:!0}})),r.template.current_data.type){case"string":r=c()(r,{template:{template:{data:{$merge:Object(o.a)({},r.template.current_data.name,e.value)}}}});break;case"list":r=c()(r,{template:{template:{data:Object(o.a)({},r.template.current_data.name,{$merge:Object(o.a)({},r.template.current_data.item,e.value)})}}}),r=c()(r,{template:{current_data:{$merge:{items:w(r.template.template.data[r.template.current_data.name])}}}});break;default:r=c()(r,{template:{current_data:{item:{$merge:Object(o.a)({},e.field,e.value)}}}}),r=c()(r,{template:{template:{data:Object(o.a)({},r.template.current_data.name,Object(o.a)({},e._index,{$merge:Object(o.a)({},e.field,e.value)}))}}}),r=c()(r,{template:{current_data:{$merge:{items:j(r.template.template.data[r.template.current_data.name]).items}}}})}a("setting",r)},setCurrentDataItem:function(e){var r=c()(t.setting,{}),n=function(e){"_blank"!==r.template.key&&"_sample"!==r.template.key&&(r=c()(r,{$merge:{dirty:!0}})),r=c()(r,{template:{current_data:{$merge:{item:e}}}}),a("setting",r)};"undefined"===typeof e?"list"===r.template.current_data.type?u({title:d.getText("msg_input_title"),message:d.getText("msg_new_fieldname"),value:"",onChange:function(e){a("current",{modalForm:e})},cbCancel:function(){a("current",{modalForm:null})},cbOK:function(e){a("current",{modalForm:null},Object(i.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==e&&(Object.keys(r.template.template.data[r.template.current_data.name]).includes(e)?d.showToast({type:"error",title:d.getText("msg_warning"),message:d.getText("msg_value_exists")}):(r=c()(r,{template:{template:{data:Object(o.a)({},r.template.current_data.name,{$merge:Object(o.a)({},e,"")})}}}),r=c()(r,{template:{current_data:{$merge:{items:w(r.template.template.data[r.template.current_data.name])}}}}),n(e)));case 1:case"end":return t.stop()}}),t)}))))}}):"table"===r.template.current_data.type&&function(){var e=c()(r.template.template.data[r.template.current_data.name][0],{$merge:{_index:r.template.template.data[r.template.current_data.name].length-1}});Object.keys(e).forEach((function(t){"_index"!==t&&(e[t]="")})),r=c()(r,{template:{template:{data:Object(o.a)({},r.template.current_data.name,{$push:[e]})}}}),r=c()(r,{template:{current_data:{$merge:{items:j(r.template.template.data[r.template.current_data.name]).items}}}}),n(e)}():n(e)},deleteDataItem:function(e){u({title:d.getText("msg_warning"),message:d.getText("msg_delete_text"),infoText:d.getText("msg_delete_info"),onChange:function(e){a("current",{modalForm:e})},cbCancel:function(){a("current",{modalForm:null})},cbOK:function(){a("current",{modalForm:null},Object(i.a)(l.a.mark((function r(){var n;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=c()(t.setting,{}),r.t0=n.template.current_data.type,r.next="list"===r.t0?4:(r.t0,7);break;case 4:return n=c()(n,{template:{template:{data:Object(o.a)({},n.template.current_data.name,{$unset:[e.key]})}}}),n=c()(n,{template:{current_data:{$merge:{items:w(n.template.template.data[n.template.current_data.name])}}}}),r.abrupt("break",9);case 7:return 1===n.template.template.data[n.template.current_data.name].length?(n=c()(n,{template:{template:{data:{$unset:[n.template.current_data.name]}}}}),n=c()(n,{template:{$merge:{current_data:null,dataset:h(n.template.template.data)}}})):(n=c()(n,{template:{template:{data:Object(o.a)({},n.template.current_data.name,{$splice:[[e._index,1]]})}}}),n=c()(n,{template:{current_data:{$merge:{items:j(n.template.template.data[n.template.current_data.name]).items}}}})),r.abrupt("break",9);case 9:"_blank"!==(n=c()(n,{template:{$merge:{dataset:h(n.template.template.data)}}})).template.key&&"_sample"!==n.template.key&&(n=c()(n,{$merge:{dirty:!0}})),a("setting",n);case 12:case"end":return r.stop()}}),r)}))))}})},showPreview:function(e){var r=function(){var e=Object(i.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.requestData("/report",{method:"POST",data:t});case 2:if(!(r=e.sent).error){e.next=6;break}return d.resultError(r),e.abrupt("return",null);case 6:p()({printable:URL.createObjectURL(r,{type:"application/pdf"}),type:"pdf",base64:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=c()(t.setting,{}),o={reportkey:n.template.key,orientation:e||d.getSetting("page_orient"),size:d.getSetting("page_size"),output:"auto",title:n.template.title,template:JSON.stringify(n.template.template)};"_blank"===n.template.key||"_sample"===n.template.key?(o.reportkey="",r(o)):(o.nervatype=n.dataset.template[0].ntype,n.preview&&""!==n.template.docnumber?(o.refnumber=n.template.docnumber,r(o)):u({title:d.getText("template_preview_data"),message:d.getText("template_preview_input").replace("docname",o.nervatype),value:n.template.docnumber,onChange:function(e){a("current",{modalForm:e})},cbCancel:function(){a("current",{modalForm:null})},cbOK:function(e){a("current",{modalForm:null},Object(i.a)(l.a.mark((function t(){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!==e&&(i=c()(n.template,{$merge:{docnumber:e}}),a("setting",{template:i}),o.refnumber=e,r(o));case 1:case"end":return t.stop()}}),t)}))))}}))}}}},136:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r(11),a=r.n(n),l=r(17),i=r(6),o=r(1),s=r.n(o),d=r(28),c=r(105),u=r.n(c),p=r(24),m=r(18),f=r(25),g=r(79),_=function(e){var t=Object(i.useContext)(p.b),r=t.data,n=t.setData,o=Object(m.e)(),c=Object(g.a)(),_=Object(f.e)(),b=function(e){var t=new URLSearchParams;return t.append("reportkey",e.template),t.append("orientation",e.orient),t.append("size",e.size),t.append("output",e.type),e.filters?"/report?".concat(t.toString(),"&").concat(e.filters):(t.append("nervatype",e.nervatype||r.edit.current.type),"/report?".concat(t.toString(),"&filters[@id]=").concat(e.id||r.edit.current.item.id))},y=function(){var e=Object(l.a)(a.a.mark((function e(t,n){var l,i,s,d,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.edit.dataset.report.filter((function(e){return e.reportkey===t}))[0],i=r.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&e.groupvalue===r.edit.current.type}))[0],s={nervatype:i.id,ref_id:r.edit.current.item.id,qty:parseInt(n),employee_id:r.login.data.employee.id,report_id:l.id},d={method:"POST",data:[s]},e.next=6,o.requestData("/ui_printqueue",d);case 6:if(!(c=e.sent).error){e.next=9;break}return e.abrupt("return",o.resultError(c));case 9:o.showToast({type:"success",autoClose:!0,title:o.getText("msg_successful"),message:o.getText("report_add_groups")});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(a.a.mark((function e(t){var r,n,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("printqueue"!==t.type){e.next=2;break}return e.abrupt("return",y(t.template,t.copy));case 2:return e.next=4,o.requestData(b(t),{});case 4:if(!(r=e.sent)||!r.error){e.next=8;break}return o.resultError(r),e.abrupt("return",!1);case 8:return n=URL.createObjectURL(r,{type:"pdf"===t.type?"application/pdf":"application/xml; charset=UTF-8"}),"print"===t.type?u()({printable:n,type:"pdf",base64:!1}):(l=(l=t.title+"_"+Object(d.a)(new Date,{representation:"date"})+"."+t.type).split("/").join("_"),Object(m.d)(n,l)),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(a.a.mark((function e(){var t,l,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s()(r.edit,{}),l={method:"POST",data:[{key:"items",text:Object(m.a)(r.login.data.engine,c.printqueue.items(t.printqueue)).sql,values:[]}]},e.next=4,o.requestData("/view",l);case 4:if(!(i=e.sent).error){e.next=7;break}return e.abrupt("return",o.resultError(i));case 7:t=s()(t,{dataset:{$merge:{items:i.items}}}),n("edit",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{setPreviewPage:function(e){var t=e.module||"edit",r=e.pageNumber||1;r=(r=r<1?1:r)>e.pdf.numPages?e.pdf.numPages:r,e.pdf.getPage(r).then((function(a){var l=s()({},{$merge:{type:"pdf",template:e.template,size:e.size,orient:e.orient,pdf:e.pdf,page:a,scale:e.scale||1,pageNumber:r,totalPages:e.pdf.numPages}});(e.id||e.refnumber)&&e.nervatype&&(l=s()(l,{$merge:{id:e.id,refnumber:e.refnumber,nervatype:e.nervatype}})),n(t,{preview:l})}))},createReport:function(){var e=Object(l.a)(a.a.mark((function e(t){var n,l,i,s,c,p,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r.edit.current.fieldvalue.forEach((function(e){e.selected&&("bool"===e.fieldtype?n.push("filters[".concat(e.name,"]=").concat(e.fieldtype?"1":"0")):n.push("filters[".concat(e.name,"]=").concat(e.value)))})),l=r.edit.current.item,i={type:"auto",template:l.reportkey,title:l.reportkey,orient:l.orientation,size:l.size,filters:n.join("&")},e.t0=t,e.next="xml"===e.t0?7:"csv"===e.t0?10:12;break;case 7:return i.type="xml",i.ctype="application/xml; charset=UTF-8",e.abrupt("break",14);case 10:return i.ctype="text/csv; charset=UTF-8",e.abrupt("break",14);case 12:return i.ctype="application/pdf",e.abrupt("break",14);case 14:return e.next=16,o.requestData(b(i),{});case 16:if(!(s=e.sent)||!s.error){e.next=19;break}return e.abrupt("return",o.resultError(s));case 19:if("csv"===t?(p=new Blob([s],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(p),t="csv"):c=URL.createObjectURL(s,{type:i.ctype}),"print"!==t){e.next=24;break}u()({printable:c,type:"pdf",base64:!1}),e.next=27;break;case 24:return f=(f=i.title+"_"+Object(d.a)(new Date,{representation:"date"})+"."+t).split("/").join("_"),e.abrupt("return",Object(m.d)(c,f));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),exportQueueAll:function(){var e=r.edit.current.item;if(r.edit.dataset.items.length>0){if("print"===e.mode)return o.showToast({type:"error",title:o.getText("msg_warning"),message:o.getText("ms_export_invalid")+" "+o.getText("printqueue_mode_print")});_({title:o.getText("msg_warning"),message:o.getText("label_export_all_selected"),infoText:o.getText("msg_delete_info")+" "+o.getText("ms_continue_warning"),onChange:function(e){n("current",{modalForm:e})},cbCancel:function(){n("current",{modalForm:null})},cbOK:function(t){n("current",{modalForm:null},Object(l.a)(a.a.mark((function t(){var n,l,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<r.edit.dataset.items.length)){t.next=15;break}return l=r.edit.dataset.items[n],t.next=5,v({type:e.mode,template:l.reportkey,title:l.refnumber,orient:e.orientation,size:e.size,copy:l.copies,nervatype:l.typename,id:l.ref_id});case 5:if(!(i=t.sent)){t.next=12;break}return t.next=9,o.requestData("/ui_printqueue",{method:"DELETE",query:{id:l.id}});case 9:if(!(i=t.sent)||!i.error){t.next=12;break}return t.abrupt("return",o.resultError(i));case 12:n++,t.next=1;break;case 15:h();case 16:case"end":return t.stop()}}),t)}))))}})}},searchQueue:h,reportOutput:v}}},146:function(e,t,r){e.exports={icon:"Toast_icon__RXyPq",msgcell:"Toast_msgcell__2d4Fn",message:"Toast_message__9Znun"}},149:function(e,t,r){"use strict";var n=r(14),a=r(31),l=r(6),i=r(1),o=r.n(i),s=r(87),d=r(57),c=r(103),u=r(148),p=r(28),m=r(5),f=r(147),g=r(191),_=r.n(g),b=r(65),y=(r(615),r(0)),v=Object(l.memo)((function(e){var t=e.getColumns,r=e.rowFilter,n=e.onSelect,a=e.onRow,i=e.onAddItem,o=e.rowKey,d=e.sortingColumns,c=e.pagination,u=e.paginationTop,p=e.tableFilter,g=e.filter,v=e.filterPlaceholder,h=e.filterChange,x=e.labelAdd,w=e.addIcon,j=t(),T=c.perPage>0?Object(b.b)(c)(s.sorter({columns:j,sortingColumns:d,sort:_.a})(r())):s.sorter({columns:j,sortingColumns:d,sort:_.a})(r());return Object(y.jsxs)("div",{className:"ui-table",children:[T.amount&&T.amount>1&&u?Object(y.jsx)(b.a,{pagination:c,pages:T.amount,onSelect:n}):null,p?Object(y.jsxs)("div",{className:"row full",children:[Object(y.jsx)("div",{className:"cell",children:Object(y.jsx)("input",{id:"filter",placeholder:v,value:g,onChange:function(e){return h(e.target.value)}})}),i?Object(y.jsx)("div",{className:"cell",style:{width:20},children:Object(y.jsxs)("button",{className:"border-button".concat(" ","addButton"),onClick:function(){return i()},children:[Object(l.createElement)(w||m.bb),Object(y.jsx)("span",{className:"addLabel",children:x})]})}):null]}):null,Object(y.jsxs)(f.Provider,{columns:j,children:[Object(y.jsx)(f.Header,{}),Object(y.jsx)(f.Body,{rows:T.rows||T,rowKey:o,onRow:a})]}),T.amount&&T.amount>1&&!u?Object(y.jsx)(b.a,{pagination:c,pages:T.amount,onSelect:n}):null]})}),(function(e,t){return e.rows===t.rows&&e.sortingColumns===t.sortingColumns&&e.filter===t.filter&&e.pagination===t.pagination&&e.fields===t.fields}));t.a=function(e){var t=e.rowKey,r=e.rows,i=e.fields,f=e.dateFormat,g=e.timeFormat,_=e.labelYes,b=e.labelNo,h=e.labelAdd,x=e.addIcon,w=e.tableFilter,j=e.filterPlaceholder,T=e.paginationPage,E=e.paginationTop,C=e.paginatonScroll,O=e.currentPage,k=e.onCurrentPage,S=e.tablePadding,N=e.onRowSelected,A=e.onEditCell,q=e.onAddItem,P=Object(l.useState)({rowKey:t||"id",sortingColumns:{},pagination:{page:O||1,perPage:T>=0?T:10},paginationTop:E,paginatonScroll:C,tablePadding:S,filter:"",tableFilter:w,filterPlaceholder:j||"",onAddItem:q,labelAdd:h,addIcon:x}),F=Object(a.a)(P,2),M=F[0],D=F[1];M.rows=r,M.fields=i;var I=s.sort({getSortingColumns:function(){return M.sortingColumns},onSort:function(e){D(Object(n.a)(Object(n.a)({},M),{},{sortingColumns:s.byColumn({sortingColumns:M.sortingColumns,selectedColumn:e})}))}});return M.rowFilter=function(){if(""!==M.filter){var e=[],t=String(M.filter).toLowerCase();return r.forEach((function(r){(function(e,t){var r=!1;return Object.keys(i).forEach((function(n){String(e[n]).toLowerCase().indexOf(t)>-1&&(r=!0)})),r})(r,t)&&e.push(r)})),e}return r},M.filterChange=function(e){D(Object(n.a)(Object(n.a)({},M),{},{filter:e}))},M.onRow=function(e,t){var r=t.rowIndex;return{className:e.disabled?"cursor-disabled":N?"cursor-pointer":"",onClick:function(){N&&N(e,r)}}},M.onSelect=function(e){var t=Math.ceil(r.length/M.pagination.perPage),a=Math.min(Math.max(e,1),t);D(Object(n.a)(Object(n.a)({},M),{},{pagination:Object.assign({},M.pagination,{page:a})})),k&&k(a),M.paginatonScroll&&window.scrollTo(0,0)},M.getColumns=function(){var e=[],t=function(e,t,r){return Object(y.jsxs)("div",{className:"number-cell",children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsx)("span",{style:r,children:e})]})},r=function(e,t){return 1===e||"true"===e||!0===e?Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsxs)("span",{children:[Object(y.jsx)(m.p,{})," ",_||""]})]}):Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsxs)("span",{children:[Object(y.jsx)(m.kb,{})," ",b||""]})]})},n=function(e,t,r){return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsx)("span",{style:r,children:e})]})},a=function(e,t,r,n,a){return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsx)("span",{className:"link-cell",onClick:A?function(){return A(r,n,a)}:null,children:e})]})};return i&&Object.keys(i).forEach((function(s){if(i[s].columnDef)e=o()(e,{$push:[i[s].columnDef]});else{var m={property:s,header:{props:{style:{}},label:i[s].label||"",transforms:[I]},cell:{props:{style:{}},formatters:[]}};switch(i[s].fieldtype){case"number":m.header.props.style.textAlign="right",m.cell.formatters.push((function(e,r){var n=r.rowData,a={};return i[s].format&&(a.fontWeight="bold",n.edited?a.textDecoration="line-through":a.color=0!==e?"red":"green"),t(e,i[s].label,a)}));break;case"datetime":case"date":case"time":m.header.props.style.textAlign="left",m.cell.props.style.textAlign="left",m.cell.formatters.push((function(e,t){t.rowData;return function(e,t,r){var n="",a=Object(d.default)(e);if(Object(c.default)(a))switch(r){case"date":n=f?Object(u.default)(a,f):Object(p.a)(a,{representation:"date"});break;case"time":n=g?Object(u.default)(a,g):Object(p.a)(a,{representation:"time"});break;default:n=f&&g?Object(u.default)(a,f+" "+g):Object(p.a)(a)}return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)("span",{className:"cell-label",children:t}),Object(y.jsx)("span",{children:n})]})}(e,i[s].label,i[s].fieldtype)}));break;case"bool":m.header.props.style.textAlign="center",m.cell.props.style.textAlign="center",m.cell.formatters.push((function(e,t){t.rowData;return r(e,i[s].label)}));break;case"deffield":m.header.props.style.textAlign="left",m.cell.formatters.push((function(e,l){var o=l.rowData;switch(o.fieldtype){case"bool":return r(e,i[s].label);case"integer":case"float":return t(e,i[s].label,{});case"customer":case"tool":case"product":case"trans":case"transitem":case"transmovement":case"transpayment":case"project":case"employee":case"place":case"urlink":return a(o.export_deffield_value,i[s].label,o.fieldtype,o[s],o);default:return n(e,i[s].label,{})}}));break;default:m.header.props.style.textAlign="left",m.cell.props.style.textAlign="left",m.cell.formatters.push((function(e,t){var r=t.rowData,l={};return r[s+"_color"]&&(l.color=r[s+"_color"]),Object.keys(r).includes("export_"+s)?a(r["export_"+s],i[s].label,s,r[s],r):n(e,i[s].label,l)}))}S&&(m.header.props.style.padding=S,m.cell.props.style.padding=S),i[s].verticalAlign&&(m.cell.props.style.verticalAlign=i[s].verticalAlign),i[s].textAlign&&(m.cell.props.style.verticalAlign=i[s].textAlign),e=o()(e,{$push:[m]})}})),e},Object(y.jsx)(v,Object(n.a)({},M))}},16:function(e,t,r){e.exports={modal:"ModalForm_modal__2C6RO",dialog:"ModalForm_dialog__4N8wK",animatezoom:"ModalForm_animatezoom__3TFpc",width400:"ModalForm_width400__2yDS-",width800:"ModalForm_width800__2RI3-",searchCol:"ModalForm_searchCol__yGZF6",closeIcon:"ModalForm_closeIcon__2oaBZ",editCol:"ModalForm_editCol__1Vh0-",copyInput:"ModalForm_copyInput__IDgU5",input:"ModalForm_input__2D_FF",info:"ModalForm_info__2C65j",selected:"ModalForm_selected__21ZxF",tabButton:"ModalForm_tabButton__3UsTk",reportField:"ModalForm_reportField__1lj41",exclamation:"ModalForm_exclamation__3eUlF"}},18:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"d",(function(){return w})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return T})),r.d(t,"e",(function(){return E}));var n=r(11),a=r.n(n),l=r(17),i=r(6),o=r(1),s=r.n(o),d=(r(330),r(28)),c=r(74),u=(r(331),r(14)),p=r(31),m=r(146),f=r.n(m),g=r(5),_=r(0),b=function(e){var t=e.icon,r=e.message;return Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"cell".concat(" ",f.a.icon),children:"exclamation"===t?Object(_.jsx)(g.C,{height:"24px",width:"27px"}):"success"===t?Object(_.jsx)(g.o,{height:"24px",width:"24px"}):Object(_.jsx)(g.N,{height:"24px",width:"24px"})}),Object(_.jsx)("div",{className:"cell".concat(" ",f.a.msgcell),children:Object(_.jsx)("div",{className:f.a.message,children:r})})]})},y=function(e){var t=e.type,r=e.icon,n=e.title,a=e.message,l=Object(i.useState)({icon:r||"info",type:t||"toast",title:n||null,message:a||""}),o=Object(p.a)(l,1)[0];return Object(_.jsx)(b,Object(u.a)({},o))},v=r(24),h=r(25);c.a.configure({});var x=function(e,t){var r=0,n=function(t){switch(e){case"alasql":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/deleted/g,"[deleted]")).replace(/{CCS}/g,"")).replace(/{SEP}/g,"+")).replace(/{CCE}/g,"")).replace(/{CAS_TEXT}/g,"cast(")).replace(/{CAE_TEXT}/g," as nvarchar)")).replace(/{CAS_INT}/g,"cast(")).replace(/{CAE_INT}/g," as int)")).replace(/{CAS_FLOAT}/g,"cast(")).replace(/{CAE_FLOAT}/g," as real)")).replace(/{CAS_DATE}/g,"cast(")).replace(/{CASF_DATE}/g,"")).replace(/{CAE_DATE}/g," as date)")).replace(/{CAEF_DATE}/g,"")).replace(/{FMSF_NUMBER}/g,"")).replace(/{FMSF_DATE}/g,"")).replace(/{FMEF_CONVERT}/g,"")).replace(/{FMS_FLOAT}/g,"format(cast(")).replace(/{FME_FLOAT}/g," as real), 'N2')")).replace(/{FMS_INT}/g,"format(cast(")).replace(/{FME_INT}/g," as integer), 'N')")).replace(/{FMS_DATE}/g,"convert(varchar(10),")).replace(/{FME_DATE}/g,", 120)")).replace(/{FMS_DATETIME}/g,"convert(varchar(19),")).replace(/{FME_DATETIME}/g,", 120)")).replace(/{FMS_TIME}/g,"SUBSTRING(cast(cast(")).replace(/{FME_TIME}/g," as time) as nvarchar),0,6)")).replace(/{JOKER}/g,"'%'")).replace(/{CUR_DATE}/g,"cast(GETDATE() as DATE)");break;case"sqlite":case"sqlite3":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/{CCS}/g,"")).replace(/{SEP}/g,"||")).replace(/{CCE}/g,"")).replace(/{CAS_TEXT}/g,"cast(")).replace(/{CAE_TEXT}/g," as text)")).replace(/{CAS_INT}/g,"cast(")).replace(/{CAE_INT}/g," as integer)")).replace(/{CAS_FLOAT}/g,"cast(")).replace(/{CAE_FLOAT}/g," as double)")).replace(/{CAS_DATE}/g,"")).replace(/{CASF_DATE}/g,"")).replace(/{CAE_DATE}/g,"")).replace(/{CAEF_DATE}/g,"")).replace(/{FMSF_NUMBER}/g,"")).replace(/{FMSF_DATE}/g,"")).replace(/{FMEF_CONVERT}/g,"")).replace(/{FMS_FLOAT}/g,"")).replace(/{FME_FLOAT}/g,"")).replace(/{FMS_INT}/g,"")).replace(/{FME_INT}/g,"")).replace(/{FMS_DATE}/g,"substr(")).replace(/{FME_DATE}/g,",1,10)")).replace(/{FMS_DATETIME}/g,"substr(")).replace(/{FME_DATETIME}/g,",1,19)")).replace(/{FMS_TIME}/g,"substr(time(")).replace(/{FME_TIME}/g,"),0,6)")).replace(/{JOKER}/g,"'%'")).replace(/{CUR_DATE}/g,"date('now')");break;case"google_sql":case"mysql":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/{CCS}/g,"concat(")).replace(/{SEP}/g,",")).replace(/{CCE}/g,")")).replace(/{CAS_TEXT}/g,"cast(")).replace(/{CAE_TEXT}/g," as char)")).replace(/{CAS_INT}/g,"cast(")).replace(/{CAE_INT}/g," as signed)")).replace(/{CAS_FLOAT}/g,"cast(")).replace(/{CAE_FLOAT}/g," as decimal)")).replace(/{CAS_DATE}/g,"cast(")).replace(/{CASF_DATE}/g,"cast(")).replace(/{CAE_DATE}/g," as date)")).replace(/{CAEF_DATE}/g," as date)")).replace(/{FMSF_NUMBER}/g,"")).replace(/{FMSF_DATE}/g,"")).replace(/{FMEF_CONVERT}/g,"")).replace(/{FMS_FLOAT}/g,"replace(format(cast(")).replace(/{FME_FLOAT}/g," as decimal(10,2)),2),'.00','')")).replace(/{FMS_INT}/g,"format(cast(")).replace(/{FME_INT}/g," as signed), 0)")).replace(/{FMS_DATE}/g,"date_format(")).replace(/{FME_DATE}/g,", '%Y-%m-%d')")).replace(/{FMS_DATETIME}/g,"date_format(")).replace(/{FME_DATETIME}/g,", '%Y-%m-%dT%H:%i:%s')")).replace(/{FMS_TIME}/g,"cast(cast(")).replace(/{FME_TIME}/g," as time) as char)")).replace(/{JOKER}/g,"'%'")).replace(/{CUR_DATE}/g,"current_date");break;case"postgres":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/{CCS}/g,"")).replace(/{SEP}/g,"||")).replace(/{CCE}/g,"")).replace(/{CAS_TEXT}/g,"cast(")).replace(/{CAE_TEXT}/g," as text)")).replace(/{CAS_INT}/g,"cast(")).replace(/{CAE_INT}/g," as integer)")).replace(/{CAS_FLOAT}/g,"cast(")).replace(/{CAE_FLOAT}/g," as float)")).replace(/{CAS_DATE}/g,"cast(")).replace(/{CASF_DATE}/g,"cast(")).replace(/{CAE_DATE}/g," as date)")).replace(/{CAEF_DATE}/g," as date)")).replace(/{FMSF_NUMBER}/g,"case when rf_number.fieldname is null then 0 else ")).replace(/{FMSF_DATE}/g,"case when rf_date.fieldname is null then current_date else ")).replace(/{FMEF_CONVERT}/g," end ")).replace(/{FMS_FLOAT}/g,"replace(to_char(cast(")).replace(/{FME_FLOAT}/g," as float),'999,999,990.00'),'.00','')")).replace(/{FMS_INT}/g,"to_char(cast(")).replace(/{FME_INT}/g," as integer), '999,999,999')")).replace(/{FMS_DATE}/g,"to_char(")).replace(/{FME_DATE}/g,", 'YYYY-MM-DD')")).replace(/{FMS_DATETIME}/g,"to_char(")).replace(/{FME_DATETIME}/g,", 'YYYY-MM-DD\"T\"HH24:MI:SS')")).replace(/{FMS_TIME}/g,"substr(cast(cast(")).replace(/{FME_TIME}/g," as time) as text), 0, 6)")).replace(/{JOKER}/g,"chr(37)")).replace(/{CUR_DATE}/g,"current_date");break;case"mssql":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/{CCS}/g,"")).replace(/{SEP}/g,"+")).replace(/{CCE}/g,"")).replace(/{CAS_TEXT}/g,"cast(")).replace(/{CAE_TEXT}/g," as nvarchar)")).replace(/{CAS_INT}/g,"cast(")).replace(/{CAE_INT}/g," as int)")).replace(/{CAS_FLOAT}/g,"cast(")).replace(/{CAE_FLOAT}/g," as real)")).replace(/{CAS_DATE}/g,"cast(")).replace(/{CASF_DATE}/g,"")).replace(/{CAE_DATE}/g," as date)")).replace(/{CAEF_DATE}/g,"")).replace(/{FMSF_NUMBER}/g,"")).replace(/{FMSF_DATE}/g,"")).replace(/{FMEF_CONVERT}/g,"")).replace(/{FMS_FLOAT}/g,"replace(convert(varchar,cast(")).replace(/{FME_FLOAT}/g," as money),1),'.00','')")).replace(/{FMS_INT}/g,"replace(convert(varchar,cast(")).replace(/{FME_INT}/g," as money),1), '.00','')")).replace(/{FMS_DATE}/g,"convert(varchar(10),")).replace(/{FME_DATE}/g,", 120)")).replace(/{FMS_DATETIME}/g,"convert(varchar(19),")).replace(/{FME_DATETIME}/g,", 120)")).replace(/{FMS_TIME}/g,"SUBSTRING(cast(cast(")).replace(/{FME_TIME}/g," as time) as nvarchar),0,6)")).replace(/{JOKER}/g,"'%'")).replace(/{CUR_DATE}/g,"cast(GETDATE() as DATE)")}return t};return"string"===typeof t?{sql:n(t),prmCount:r}:{sql:n(function t(n,a){var l="";if(Array.isArray(n)){var i=" ",o="",s="";return n.length>0&&("select"!==a&&"select_distinct"!==a&&"union_select"!==a&&"order_by"!==a&&"group_by"!==a&&0!==n[0].length||(i=", ")),n.forEach((function(e){"undefined"!==typeof e&&null!==e||(e="null"),0===e.length?"set"!==a&&(o="(",s=")"):2!==n.length||"and"!==e&&"or"!==e?a&&1===n.length&&"object"===typeof n[0]?l+=" ("+t(e,a)+")":l+=i+t(e,a):(l+=e+" (",s=")")})),", "===i&&(l=l.substr(2)),a&&n.includes("on")&&(l=a.replace("_"," ")+l),o+l.toString().trim()+s}if("object"===typeof n){for(var d in n)n.hasOwnProperty(d)&&(l+="inner_join"===d||"left_join"===d?" "+t(n[d],d):" "+d.replace("_"," ")+" "+t(n[d],d));return l}return n.includes("?")&&"select"!==a&&(r+=1,"postgres"===e&&(n=n.replace("?","$"+r))),n}(t)),prmCount:r}},w=function(e,t){var r=document.createElement("a");r.href=e,r.download=t||e,document.body.appendChild(r),r.click()},j=function(){var e=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return e()+e(!0)+e(!0)+e()},T=function(e,t){return fetch(e,t).then((function(e){if(e.status>=200&&e.status<300||400===e.status||401===e.status)return e;var t=new Error(e.statusText);throw t.response=e,t})).then((function(e){if(401===e.status)return{code:401,message:"Unauthorized"};if(400===e.status)return e.json();if(204===e.status||205===e.status)return null;switch(e.headers.get("content-type").split(";")[0]){case"application/pdf":case"application/xml":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return e.blob();case"application/json":return e.json();case"text/plain":case"text/csv":return e.text();default:return e}}))},E=function(){var e=Object(i.useContext)(v.b),t=e.data,r=e.setData,n=Object(h.e)(),o=function(e,r){var n=t.session.locales,a=t.current.lang;return n[a]&&n[a][e]?n[a][e]:r||n.en[e]||""},u=function(e){switch(e){case"ui":var r=s()({},{$set:t.ui});for(var n in r)localStorage.getItem(n)&&(r[n]=localStorage.getItem(n));return r;default:return localStorage.getItem(e)||t.ui[e]||""}},p=function(e){var t=!1!==e.autoClose&&u("toastTime");switch(e.type){case"error":c.a.error(Object(_.jsx)(y,{icon:"exclamation",message:e.message}),{autoClose:t});break;case"warning":c.a.warning(Object(_.jsx)(y,{icon:"exclamation",message:e.message}),{autoClose:t});break;case"success":c.a.success(Object(_.jsx)(y,{icon:"check",message:e.message}),{autoClose:t});break;case"info":c.a.info(Object(_.jsx)(y,{icon:"info",message:e.message}),{autoClose:t});break;default:Object(c.a)(e.message,{autoClose:t})}},m=function(e){e.error&&r("error",e.error),e.error&&e.error.message?p({type:"error",message:e.error.message}):p({type:"error",message:o("error_internal","Internal Server Error")})},f=function(){r("login",{data:null,token:null})},g=function(){var e=Object(l.a)(a.a.mark((function e(n,l,i){var o,d,c,u,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i||r("current",{request:!0}),o=t.session.configServer?t.session.proxy+t.session.apiPath+n:t.login.server+n,d=t.login.data?t.login.data.token:l.token||"",l.headers||(l=s()(l,{$merge:{headers:{}}})),l=s()(l,{headers:{$merge:{"Content-Type":"application/json"}}}),""!==d&&(l=s()(l,{headers:{$merge:{Authorization:"Bearer "+d}}})),l.data&&(l=s()(l,{body:{$set:JSON.stringify(l.data)}})),l.query){for(u in c=new URLSearchParams,l.query)c.append(u,l.query[u]);o+="?"+c.toString()}return e.next=11,T(o,l);case 11:if(p=e.sent,i||r("current",{request:!1}),!p||!p.code){e.next=16;break}return 401===p.code&&f(),e.abrupt("return",{error:{message:p.message},data:null});case 16:return e.abrupt("return",p);case 19:return e.prev=19,e.t0=e.catch(0),i||r("current",{request:!1}),e.abrupt("return",{error:{message:e.t0.message},data:null});case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(a.a.mark((function e(n){var l,i,c,p,f,_,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s()({},{$set:{datetime:Object(d.a)(new Date),type:n,type_title:o["label_"+n],ntype:t.edit.current.type,transtype:t.edit.current.transtype||"",id:t.edit.current.item.id}}),i="trans"===l.ntype?t.edit.template.options.title+" | "+t.edit.current.item[t.edit.template.options.title_field]:t.edit.template.options.title,"trans"!==l.ntype&&"undefined"!==typeof t.edit.template.options.title_field&&(i+=" | "+t.edit.current.item[t.edit.template.options.title_field]),l=s()(l,{$merge:{title:i}}),c=s()(t.bookmark,{}),p={},c.history?(p=s()(c.history,{$merge:{cfgroup:Object(d.a)(new Date)}}),(f=JSON.parse(p.cfvalue)).unshift(l),f.length>parseInt(u("history"),10)&&(f=f.slice(0,parseInt(u("history"),10))),p=s()(p,{$merge:{cfname:f.length,cfvalue:JSON.stringify(f)}})):p=s()(p,{$merge:{employee_id:t.login.data.employee.id,section:"history",cfgroup:Object(d.a)(new Date),cfname:1,cfvalue:JSON.stringify([l])}}),_={method:"POST",data:[p]},e.next=10,g("/ui_userconfig",_);case 10:if(!(b=e.sent).error){e.next=13;break}return e.abrupt("return",m(b));case 13:r("bookmark",{history:p});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("/ui_userconfig?filter=employee_id;==;"+t.user_id,{token:t.token});case 2:if(!(n=e.sent).error){e.next=6;break}return m(n),e.abrupt("return",null);case 6:r("bookmark",{bookmark:n.filter((function(e){return"bookmark"===e.section})),history:n.filter((function(e){return"history"===e.section}))[0]||null},(function(){t.callback&&t.callback()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{getText:o,getSetting:u,getAuditFilter:function(e,r){var n,a=["all",1];switch(e){case"trans":case"menu":n=t.login.data.audit.filter((function(t){return t.nervatypeName===e&&t.subtypeName===r}))[0];break;case"report":n=t.login.data.audit.filter((function(t){return t.nervatypeName===e&&t.subtype===r}))[0];break;default:n=t.login.data.audit.filter((function(t){return t.nervatypeName===e}))[0]}return"undefined"!==typeof n&&(a=[n.inputfilterName,n.supervisor]),a},showToast:p,resultError:m,requestData:g,signOut:f,getSideBar:function(e){if(!e)switch(t.current.side){case"auto":e="show";break;case"show":e="hide";break;case"hide":e="show"}if(t.current.side!==e)return e},createHistory:b,loadBookmark:x,saveBookmark:function(e){n({title:o("msg_bookmark_new"),message:o("msg_bookmark_name"),value:"browser"===e[0]?e[1]:t.edit.current.item[e[2]],onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(n){r("current",{modalForm:null},Object(l.a)(a.a.mark((function r(){var l,i,o;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""===n){r.next=10;break}return l={employee_id:t.login.data.employee.id,section:"bookmark",cfgroup:e[0]},l="browser"===e[0]?s()(l,{$merge:{cfname:n,cfvalue:JSON.stringify({date:Object(d.a)(new Date,{representation:"date"}),vkey:t.search.vkey,view:t.search.view,filters:t.search.filters[t.search.view],columns:t.search.columns[t.search.view]})}}):s()(l,{$merge:{cfname:n,cfvalue:JSON.stringify({date:Object(d.a)(new Date,{representation:"date"}),ntype:t.edit.current.type,transtype:t.edit.current.transtype,id:t.edit.current.item.id,info:"trans"===t.edit.current.type?null!==t.edit.dataset.trans[0].custname?t.edit.dataset.trans[0].custname:t.edit.current.item.transdate:t.edit.current.item[e[3]]})}}),i={method:"POST",data:[l]},r.next=6,g("/ui_userconfig",i);case 6:if(!(o=r.sent).error){r.next=9;break}return r.abrupt("return",m(o));case 9:x({user_id:t.login.data.employee.id});case 10:case"end":return r.stop()}}),r)}))))}})},showHelp:function(e){var r=document.createElement("A");r.setAttribute("href",t.session.helpPage+e),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click()}}}},188:function(e,t,r){e.exports={modal:"Spinner_modal__3UxgG",middle:"Spinner_middle__3TQrU"}},192:function(e,t,r){"use strict";var n=r(14),a=r(31),l=r(6),i=r(65),o=r(5),s=r(58),d=r.n(s),c=r(0),u=Object(l.memo)((function(e){var t=e.rowFilter,r=e.onSelect,n=e.onEdit,a=e.onAddItem,s=e.onDelete,u=e.pagination,p=e.paginationTop,m=e.listFilter,f=e.filter,g=e.filterPlaceholder,_=e.filterChange,b=e.labelAdd,y=e.addIcon,v=e.editIcon,h=e.deleteIcon,x=u.perPage>0?Object(i.b)(u)(t()):t();return Object(c.jsxs)("div",{children:[x.amount&&x.amount>1&&p?Object(c.jsx)(i.a,{pagination:u,pages:x.amount,onSelect:r}):null,m?Object(c.jsxs)("div",{className:"row full",children:[Object(c.jsx)("div",{className:"cell",children:Object(c.jsx)("input",{id:"filter",placeholder:g,value:f,onChange:function(e){return _(e.target.value)}})}),a?Object(c.jsx)("div",{className:"cell",style:{width:20},children:Object(c.jsxs)("button",{className:"border-button".concat(" ","addButton"),onClick:function(){return a()},children:[Object(l.createElement)(y||o.bb),Object(c.jsx)("span",{className:"addLabel",children:b})]})}):null]}):null,Object(c.jsx)("ul",{className:"list".concat(" ",d.a.list),children:x.rows.map((function(e,t){return Object(c.jsxs)("li",{className:"border-bottom".concat(" ",d.a.listRow),children:[n?Object(c.jsx)("div",{className:"".concat(d.a.editCell),onClick:function(){return n(e)},children:Object(l.createElement)(v||o.B,{width:24,height:21.3})}):null,Object(c.jsxs)("div",{className:"".concat(d.a.valueCell," ").concat(n?d.a.cursor:""),onClick:function(){return n(e)},children:[Object(c.jsx)("div",{className:"border-bottom".concat(" ",d.a.label),children:Object(c.jsx)("span",{children:e.lslabel})}),Object(c.jsx)("div",{className:"".concat(d.a.value),children:Object(c.jsx)("span",{children:e.lsvalue})})]}),s?Object(c.jsx)("div",{className:"".concat(d.a.deleteCell),onClick:function(){return s(e)},children:Object(l.createElement)(h||o.tb,{width:19,height:27.6})}):null]},t)}))}),x.amount&&x.amount>1&&!p?Object(c.jsx)(i.a,{pagination:u,pages:x.amount,onSelect:r}):null]})}),(function(e,t){return e.rows===t.rows&&e.filter===t.filter&&e.pagination===t.pagination}));t.a=function(e){var t=e.rows,r=e.labelAdd,i=e.addIcon,o=e.editIcon,s=e.deleteIcon,d=e.listFilter,p=e.filterPlaceholder,m=e.currentPage,f=e.paginationPage,g=e.paginationTop,_=e.paginatonScroll,b=e.onEdit,y=e.onAddItem,v=e.onDelete,h=Object(l.useState)({pagination:{page:m||1,perPage:f>=0?f:10},paginationTop:g,paginatonScroll:_,filter:"",listFilter:d,filterPlaceholder:p||""}),x=Object(a.a)(h,2),w=x[0],j=x[1];return w.rowFilter=function(){if(""!==w.filter){var e=[],r=String(w.filter).toLowerCase();return t.forEach((function(t){var n,a;n=t,a=r,(String(n.lslabel).toLowerCase().indexOf(a)>-1||String(n.lsvalue).toLowerCase().indexOf(a)>-1)&&e.push(t)})),e}return t},w.filterChange=function(e){j(Object(n.a)(Object(n.a)({},w),{},{filter:e}))},w.onSelect=function(e){var r=Math.ceil(t.length/w.pagination.perPage),a=Math.min(Math.max(e,1),r);j(Object(n.a)(Object(n.a)({},w),{},{pagination:Object.assign({},w.pagination,{page:a})})),w.paginatonScroll&&window.scrollTo(0,0)},Object(c.jsx)(u,Object(n.a)(Object(n.a)({},w),{},{rows:t,onEdit:b,onDelete:v,onAddItem:y,labelAdd:r,editIcon:o,deleteIcon:s,addIcon:i}))}},22:function(e,t,r){e.exports={label_info_left:"Controller_label_info_left__1bjHC",label_info_right:"Controller_label_info_right__2ltvW",label_icon_left:"Controller_label_icon_left__2QSK4",label_icon_right:"Controller_label_icon_right__1s5kz",centered:"Controller_centered__3P53J",optionPlaceholder:"Controller_optionPlaceholder__tLeQU",fieldCell:"Controller_fieldCell__1zVbK",toggleOn:"Controller_toggleOn__1UbAl",toggle:"Controller_toggle__2ZDJc",link:"Controller_link__2iG0U",lnkText:"Controller_lnkText__3-iIE",toggleOff:"Controller_toggleOff__2o4Ah",toggleDisabled:"Controller_toggleDisabled__23F5u",fieldvalueDelete:"Controller_fieldvalueDelete__2AEDA",searchCol:"Controller_searchCol__1gdc2",timesCol:"Controller_timesCol__1Ewv1",selectorButton:"Controller_selectorButton__1o96o",modal:"Controller_modal__2fMaX",labelRow:"Controller_labelRow__3Gqg6",reportField:"Controller_reportField__PEyOz",leftbar:"Controller_leftbar__14IKE",animatezoom:"Controller_animatezoom__3sMHx"}},24:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(6),a=r.n(n).a.createContext({}),l=a.Provider;a.Consumer;t.b=a},25:function(e,t,r){"use strict";r.d(t,"h",(function(){return x})),r.d(t,"g",(function(){return w})),r.d(t,"d",(function(){return j})),r.d(t,"j",(function(){return T})),r.d(t,"k",(function(){return E})),r.d(t,"m",(function(){return C})),r.d(t,"e",(function(){return O})),r.d(t,"b",(function(){return k})),r.d(t,"a",(function(){return S})),r.d(t,"f",(function(){return N})),r.d(t,"c",(function(){return A})),r.d(t,"i",(function(){return q})),r.d(t,"l",(function(){return P}));var n=r(13),a=r(11),l=r.n(a),i=r(17),o=r(14),s=r(6),d=r(1),c=r.n(d),u=r(148),p=r(57),m=r(24),f=r(18),g=r(77),_=r(130),b=r(16),y=r.n(b),v=r(41),h=r(0),x=function(e){var t=Object(f.e)(),r=Object(g.a)(),n=Object(_.a)();return function(e){var a=e.type,d=e.filter,u=e.onChange,p=e.onSelect,m=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog),children:Object(s.createElement)(v.g,Object(o.a)({},e))})})},f={getText:t.getText,quickSearch:function(){var e=Object(i.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.quickSearch(a,f.filter);case 2:if(!(n=e.sent).error){e.next=5;break}return e.abrupt("return",t.resultError(n));case 5:f=c()(f,{data:{$merge:{result:n.result}}}),u(m(f));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),editRow:function(e){p(e,f.filter)},onClose:function(){return u(null)},filterChange:function(e){f=c()(f,{$merge:{filter:e.target.value}}),u(m(f))},queries:n,ui:t.getSetting("ui"),filter:d,data:{qview:a,result:[]}};u(m(f))}},w=function(e){var t=Object(s.useContext)(m.b).data,r=Object(f.e)();return function(e){var a=e.onChange,l=e.onOutput,i=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.f,Object(o.a)({},e))})})},d="trans"===t.edit.current.type?t.edit.dataset.groups.filter((function(e){return e.id===t.edit.current.item.direction}))[0].groupvalue:"out",u=c()({},{$set:{onClose:function(){return a(null)},valueChange:function(e,t){u=c()(u,{$merge:Object(n.a)({},e,t)}),a(i(u))},reportOutput:function(e){l({type:e,template:u.template,title:u.title,orient:u.orient,size:u.size,copy:u.copy})},orient:r.getSetting("page_orient"),report_orientation:r.getSetting("report_orientation").map((function(e){return{value:e[0],text:r.getText(e[1])}})),size:r.getSetting("page_size"),report_size:r.getSetting("report_size").map((function(e){return{value:e[0],text:e[1]}})),copy:1,direction:d,template:"trans"===t.edit.current.type?t.edit.dataset.settings.filter((function(e){return e.fieldname==="default_trans_"+t.edit.current.transtype+"_"+d+"_report"}))[0]:t.edit.dataset.settings.filter((function(e){return e.fieldname==="default_"+t.edit.current.type+"_report"}))[0],templates:[],title:t.edit.current.item[t.edit.template.options.title_field]}});t.edit.dataset.report.forEach((function(e){var r=t.login.data.audit.filter((function(t){return"report"===t.nervatypeName&&t.subtype===e.id}))[0];"disabled"!==(r=r?r.inputfilterName:"all")&&("trans"===t.edit.current.type?t.edit.current.item.direction===e.direction&&(u=c()(u,{templates:{$push:[{value:e.reportkey,text:e.repname}]}})):u=c()(u,{templates:{$push:[{value:e.reportkey,text:e.repname}]}}))})),u="undefined"!==typeof u.template?c()(u,{$merge:{template:u.template.value}}):u.templates.length>0?c()(u,{$merge:{template:u.templates[0].value}}):c()(u,{$merge:{template:""}}),a(i(u))}},j=function(e){var t=Object(s.useContext)(m.b).data;return function(e){var r=e.onChange,a=e.calcFormula,l=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.c,Object(o.a)({},e))})})},i=c()({},{$set:{onClose:function(){return r(null)},valueChange:function(e,t){i=c()(i,{$merge:Object(n.a)({},e,t)}),r(l(i))},calcFormula:function(){a(parseInt(i.formula,10))},formula:"",partnumber:t.edit.dataset.movement_head[0].partnumber,description:t.edit.dataset.movement_head[0].description,formula_head:t.edit.dataset.formula_head.map((function(e){return{value:e.id,text:e.transnumber}}))}});r(l(i))}},T=function(e){return function(e){var t=e.onChange,r=e.updateShipping,a=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.i,Object(o.a)({},e))})})},l=c()({},{$set:{onClose:function(){return t(null)},valueChange:function(e,r){l=c()(l,{$merge:Object(n.a)({},e,r)}),t(a(l))},updateShipping:function(){r(l.batch_no,parseFloat(l.qty))},partnumber:e.partnumber,description:e.product,unit:e.unit,batch_no:e.batch_no,qty:e.qty}});t(a(l))}},E=function(e){var t=Object(f.e)();return function(e){var r,n=e.onChange,a=c()({},{$set:{onClose:function(){return n(null)},getText:t.getText,partnumber:e.partnumber,partname:e.partname,rows:e.rows,paginationPage:t.getSetting("selectorPage")}});n((r=a,Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.j,Object(o.a)({},r))})})))}},C=function(e){return function(e){var t=e.onChange,r=e.createTrans,a=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.m,Object(o.a)({},e))})})},l=c()({},{$set:Object(o.a)(Object(o.a)({onClose:function(){return t(null)},valueChange:function(e,r){l=c()(l,{$merge:Object(n.a)({},e,r)}),"transtype"===e&&("invoice"!==r&&"receipt"!==r||"order"!==l.base_transtype&&"rent"!==l.base_transtype&&"worksheet"!==l.base_transtype?l.netto_color=!1:l.netto_color=!0,"invoice"!==r&&"receipt"!==r||"order"!==l.base_transtype&&"rent"!==l.base_transtype&&"worksheet"!==l.base_transtype||0!==l.element_count?l.from_color=!1:l.from_color=!0),t(a(l))},createTrans:function(){r({new_transtype:l.transtype,new_direction:l.direction,refno:l.refno,from_inventory:l.from&&l.from_color,netto_qty:l.netto&&l.netto_color})}},e.options),{},{doctypes:e.options.doctypes.map((function(e){return{value:e,text:e}})),directions:e.options.directions.map((function(e){return{value:e,text:e}}))})});t(a(l))}},O=function(e){return function(e){var t=e.message,r=e.infoText,a=e.title,l=e.value,i=e.defaultOK,d=e.labelCancel,u=e.labelOK,p=e.cbOK,m=e.cbCancel,f=e.onChange,g=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.d,Object(o.a)({},e))})})},_=c()({},{$set:{onClose:function(){return f(null)},valueChange:function(e,t){_=c()(_,{$merge:Object(n.a)({},e,t)}),f(g(_))},inputCancel:function(){m&&m()},inputOK:function(){p&&p(_.value)},valueKey:function(e){13===e.keyCode&&p&&p(_.value)},title:a||null,message:t||"",infoText:r,labelCancel:d||"Cancel",labelOK:u||"OK",value:l||"",showValue:"undefined"!==typeof l,defaultOK:!0===i||!i}});f(g(_))}},k=function(e){var t=Object(f.e)();return function(r){var a=r.getText,l=r.onChange,i=r.onSelect,d=r.onDelete,m=r.bookmark,f=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog),children:Object(s.createElement)(v.b,Object(o.a)({},e))})})},g={getText:a,valueChange:function(e,t){g=c()(g,{$merge:Object(n.a)({},e,t)}),l(f(g))},selectRow:function(e){i(g.tabView,e)},deleteRow:function(e){d(e.bookmark_id)},onClose:function(){return l(null)},tabView:"bookmark",paginationPage:t.getSetting("selectorPage"),bookmarkList:m.bookmark.map((function(t){var r=JSON.parse(t.cfvalue),n={bookmark_id:t.id,id:r.id,cfgroup:t.cfgroup,ntype:r.ntype,transtype:"trans"===r.ntype?r.transtype:null,vkey:r.vkey,view:r.view,filters:r.filters,columns:r.columns,lslabel:t.cfname,lsvalue:Object(u.default)(Object(p.default)(r.date),e.ui.dateFormat)};return"editor"===t.cfgroup&&("trans"===r.ntype?n.lsvalue+=" | "+a("title_"+r.transtype)+" | "+r.info:n.lsvalue+=" | "+a("title_"+r.ntype)+" | "+r.info),"browser"===t.cfgroup&&(n.lsvalue+=" | "+a("browser_"+r.vkey)),n})),historyList:m.history&&m.history.cfvalue?JSON.parse(m.history.cfvalue).map((function(t){return{id:t.id,lslabel:t.title,type:t.type,lsvalue:Object(u.default)(Object(p.default)(t.datetime),e.ui.dateFormat+" "+e.ui.timeFormat)+" | "+a("label_"+t.type,t.type),ntype:t.ntype,transtype:t.transtype}})):[]};l(f(g))}},S=function(e){var t=Object(s.useContext)(m.b).data;return function(e){var r=e.onChange,a=e.updateAudit,l=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.a,Object(o.a)({},e))})})},i=c()({},{$set:{onClose:function(){return r(null)},valueChange:function(e,a){if(i=c()(i,{$merge:Object(n.a)({},e,a)}),"nervatype"===e)switch(i.nervatype_name=t.setting.dataset.nervatype.filter((function(e){return e.id===parseInt(a,10)}))[0].groupvalue,a){case"trans":i.subtype=t.setting.dataset.transtype[0].id;break;case"report":t.setting.dataset.reportkey.length>0?i.subtype=t.setting.dataset.reportkey[0].id:i.subtype=null;break;case"menu":t.setting.dataset.menukey.length>0?i.subtype=t.setting.dataset.menukey[0].id:i.subtype=null;break;default:i.subtype=null}r(l(i))},updateAudit:function(){a(i)},subtypeOptions:function(){switch(i.nervatype_name){case"trans":return t.setting.dataset.transtype.map((function(e){return{value:e.id,text:e.groupvalue}}));case"report":return t.setting.dataset.reportkey.map((function(e){return{value:e.id,text:e.reportkey}}));case"menu":return t.setting.dataset.menukey.map((function(e){return{value:e.id,text:e.menukey}}));default:return[]}},id:e.id,usergroup:e.usergroup,nervatype:e.nervatype,subtype:e.subtype||null,inputfilter:e.inputfilter,supervisor:e.supervisor||0,type_options:t.setting.dataset.nervatype.map((function(e){return{value:e.id,text:e.groupvalue}})),nervatype_name:t.setting.dataset.nervatype.filter((function(t){return t.id===e.nervatype}))[0].groupvalue,inputfilter_options:t.setting.dataset.inputfilter.map((function(e){return{value:e.id,text:e.groupvalue}}))}});r(l(i))}},N=function(e){var t=Object(s.useContext)(m.b).data;return function(e){var r=e.onChange,a=e.updateMenu,l=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.e,Object(o.a)({},e))})})},i=c()({},{$set:{onClose:function(){return r(null)},valueChange:function(e,t){i=c()(i,{$merge:Object(n.a)({},e,t)}),r(l(i))},updateMenu:function(){a(i)},id:e.id,menu_id:e.menu_id,fieldname:e.fieldname||"",description:e.description||"",fieldtype:e.fieldtype,fieldtype_options:t.setting.dataset.fieldtype.map((function(e){return{value:e.id,text:e.groupvalue}})),orderby:e.orderby}});r(l(i))}},A=function(e){return function(e){var t=e.onChange,r=e.updateData,a=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.k,Object(o.a)({},e))})})},l=c()({},{$set:{onClose:function(){return t(null)},valueChange:function(e,r){l=c()(l,{$merge:Object(n.a)({},e,r)}),t(a(l))},updateData:function(){r({name:l.name,type:l.type,columns:l.columns})},name:"",type:"string",type_options:[{value:"string",text:"TEXT"},{value:"list",text:"LIST"},{value:"table",text:"TABLE"}],columns:""}});t(a(l))}},q=function(e){return function(e){var t=e.onChange,r=e.sendServerCmd,a=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.h,Object(o.a)({},e))})})},l=c()({},{$set:{onClose:function(){return t(null)},valueChange:function(e,r){l=c()(l,{params:{values:{$merge:Object(n.a)({},e,r)}}}),t(a(l))},sendServerCmd:function(){r(l.params)},params:e.params}});t(a(l))}},P=function(e){return function(e){var t=e.onChange,r=function(e){return Object(h.jsx)("div",{className:"modal".concat(" ",y.a.modal),children:Object(h.jsx)("div",{className:"dialog".concat(" ",y.a.dialog," ").concat(y.a.width400),children:Object(s.createElement)(v.l,Object(o.a)({},e))})})},a=c()({},{$set:{onClose:function(){return t(null)},valueChange:function(e,l){a=c()(a,{$merge:Object(n.a)({},e,l)}),t(r(a))},total:e.total}});t(r(a))}}},27:function(e,t,r){e.exports={shadow:"MenuBar_shadow__1dv4s",sidebar:"MenuBar_sidebar__1AB-c",menuitem:"MenuBar_menuitem__2FUrd",exit:"MenuBar_exit__1xA2s",selected:"MenuBar_selected__2R8s6",container:"MenuBar_container__1wJsR",menubar:"MenuBar_menubar__gvqX4"}},284:function(e,t,r){e.exports={loading:"Loading_loading__2JaUi","lds-roller":"Loading_lds-roller__15LCa"}},289:function(e){e.exports=JSON.parse('{"a":"3.0.0-beta.2"}')},325:function(e,t,r){},326:function(e,t,r){},327:function(e,t,r){},328:function(e,t,r){},41:function(e,t,r){"use strict";r.d(t,"d",(function(){return m})),r.d(t,"g",(function(){return f})),r.d(t,"f",(function(){return g})),r.d(t,"c",(function(){return _})),r.d(t,"i",(function(){return b})),r.d(t,"j",(function(){return y})),r.d(t,"m",(function(){return v})),r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return x})),r.d(t,"e",(function(){return w})),r.d(t,"k",(function(){return j})),r.d(t,"l",(function(){return T})),r.d(t,"h",(function(){return E}));var n=r(13),a=(r(6),r(1)),l=r.n(a),i=r(16),o=r.n(i),s=r(7),d=r(5),c=r(149),u=r(192),p=r(0),m=function(e){var t=e.valueChange,r=e.valueKey,n=e.inputCancel,a=e.inputOK,l=e.title,i=e.message,c=e.infoText,u=e.value,m=e.labelCancel,f=e.labelOK,g=e.defaultOK,_=e.showValue;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{value:l})})})}),Object(p.jsx)("div",{className:"row full container-small section-small",children:Object(p.jsxs)("div",{className:"cell padding-normal",children:[Object(p.jsx)("div",{className:"".concat(o.a.input),children:i}),c?Object(p.jsx)("div",{className:"section-small-top".concat(" ",o.a.info),children:c}):null,_?Object(p.jsx)("div",{className:"section-small-top",children:Object(p.jsx)("input",{type:"text",className:"full",value:u,autoFocus:!0,onChange:function(e){return t("value",e.target.value)},onKeyDown:r})}):null]})}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:n,children:Object(p.jsx)(s.d,{center:!0,value:m,leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",autoFocus:!_&&g,onClick:a,children:Object(p.jsx)(s.d,{center:!0,value:f,leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},f=function(e){var t=e.getText,r=e.quickSearch,a=e.editRow,i=e.onClose,u=e.filterChange,m=e.queries,f=e.filter,g=e.ui,_=g.paginationPage,b=g.selectorPage,y=e.data,v=y.qview,h=y.result,x=m.quick[v](),w={view:{columnDef:{property:"view",cell:{props:{style:{width:25,padding:"7px 2px 3px 8px"}},formatters:[function(e,t){return 1===t.rowData.deleted?Object(p.jsx)(d.C,{className:o.a.exclamation}):Object(p.jsx)(d.l,{width:9,height:24})}]}}}};return x.columns.forEach((function(e){w=l()(w,{$merge:Object(n.a)({},e[0],{fieldtype:"string",label:t(v+"_"+e[0])})})})),Object(p.jsxs)("div",{className:"panel".concat(" ",o.a.width800),children:[Object(p.jsx)("div",{className:"panel-title primary",children:i?Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{value:t("search_"+v),leftIcon:Object(p.jsx)(d.gb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:i})})]}):Object(p.jsx)(s.d,{bold:!0,primary:!0,xxxlarge:!0,text:"quick_search",value:": "+t("search_"+v)})}),Object(p.jsxs)("div",{className:"section",children:[Object(p.jsxs)("div",{className:"row full container section-small-bottom",children:[Object(p.jsx)("div",{className:"cell",children:"undefined"!==typeof f&&u?Object(p.jsx)(s.c,{type:"text",className:"full",placeholder:"placeholder_search",autoFocus:!0,value:f,onEnter:r,onChange:u}):Object(p.jsx)(s.c,{type:"text",className:"full",placeholder:"placeholder_search",keys:["search","qfilter"],onEnter:r})}),Object(p.jsx)("div",{className:"cell".concat(" ",o.a.searchCol),children:Object(p.jsx)("button",{className:"full medium",onClick:function(){return r()},children:Object(p.jsx)(s.d,{text:"label_search",leftIcon:Object(p.jsx)(d.gb,{}),center:!0})})})]}),h&&h.length>0?Object(p.jsx)("div",{className:"row full container section-small-bottom",children:Object(p.jsx)(c.a,{fields:w,rows:h,filterPlaceholder:t("placeholder_search"),paginationPage:i?b:_,paginationTop:!0,onRowSelected:a})}):null]})]})},g=function(e){var t=e.onClose,r=e.valueChange,n=e.reportOutput,a=e.title,l=e.template,i=e.templates,c=e.orient,u=e.report_orientation,m=e.size,f=e.report_size,g=e.copy;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{value:a,leftIcon:Object(p.jsx)(d.m,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"row full container-small section-small",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"msg_template"})}),Object(p.jsx)(s.e,{className:"full",value:l,onChange:function(e){return r("template",e.target.value)},options:i})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"msg_report_prop"})}),Object(p.jsx)(s.e,{value:c,onChange:function(e){return r("orient",e.target.value)},options:u}),Object(p.jsx)(s.e,{value:m,onChange:function(e){return r("size",e.target.value)},options:f}),Object(p.jsx)(s.c,{className:"".concat(o.a.copyInput),itype:"integer",value:g,onChange:function(e){return r("copy",e.target.value)}})]})})]}),Object(p.jsxs)("div",{className:"row full section container-small secondary-title",children:[Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",disabled:""===l?"disabled":"",onClick:function(){return n("print")},children:Object(p.jsx)(s.d,{text:"msg_print"})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",disabled:""===l?"disabled":"",onClick:function(){return n("pdf")},children:Object(p.jsx)(s.d,{text:"msg_export_pdf"})})})]}),Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",disabled:""===l?"disabled":"",onClick:function(){return n("xml")},children:Object(p.jsx)(s.d,{text:"msg_export_xml"})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",disabled:""===l?"disabled":"",onClick:function(){return n("printqueue")},children:Object(p.jsx)(s.d,{text:"msg_printqueue"})})})]})]})]})},_=function(e){var t=e.onClose,r=e.valueChange,n=e.calcFormula,a=e.formula,l=e.partnumber,i=e.description,c=e.formula_head;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"label_formula",leftIcon:Object(p.jsx)(d.V,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"row full container-small section-small",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"product_partnumber"})}),Object(p.jsx)(s.c,{className:"full",value:l,disabled:"disabled"})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)(s.c,{className:"full",value:i,disabled:"disabled"})})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)(s.e,{className:"full",value:a,placeholder:"",onChange:function(e){return r("formula",e.target.value)},options:c})})})]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),disabled:""===a?"disabled":"",onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",disabled:""===a?"disabled":"",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},b=function(e){var t=e.onClose,r=e.valueChange,n=e.updateShipping,a=e.partnumber,l=e.description,i=e.unit,c=e.batch_no,u=e.qty;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"shipping_movement_product",leftIcon:Object(p.jsx)(d.wb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"row full container-small section-small",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"product_partnumber"})}),Object(p.jsx)(s.c,{className:"full",value:a,disabled:"disabled"})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"product_description"})}),Object(p.jsx)(s.c,{className:"full",value:l,disabled:"disabled"})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"product_unit"})}),Object(p.jsx)(s.c,{className:"full",value:i,disabled:"disabled"})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"movement_batchnumber"})}),Object(p.jsx)(s.c,{className:"full",value:c,autoFocus:!0,onChange:function(e){return r("batch_no",e.target.value)}})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"movement_qty"})}),Object(p.jsx)(s.c,{className:"full align-right",value:u,itype:"float",onChange:function(e){return r("qty",e.target.value)}})]})})]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},y=function(e){var t=e.onClose,r=e.getText,n=e.partnumber,a=e.partname,l=e.rows,i=e.paginationPage,u={warehouse:{fieldtype:"string",label:r("delivery_place")},batch_no:{fieldtype:"string",label:r("item_unit")},description:{fieldtype:"string",label:r("movement_batchnumber")},sqty:{fieldtype:"number",label:r("shipping_stock")}};return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"shipping_stocks",leftIcon:Object(p.jsx)(d.i,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"row full container-small section-small",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",value:n})}),Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{value:a})})]})}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)(c.a,{rowKey:"id",fields:u,rows:l,tableFilter:!0,filterPlaceholder:r("placeholder_filter"),paginationPage:i,paginationTop:!0})})]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("button",{className:"full primary",onClick:t,children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})})})]})},v=function(e){var t=e.onClose,r=e.valueChange,n=e.createTrans,a=e.transtype,l=e.direction,i=e.doctypes,c=e.directions,u=e.refno,m=e.netto_color,f=e.netto,g=e.from_color,_=e.from;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"msg_create_title",leftIcon:Object(p.jsx)(d.F,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"row full container-small section-small",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"msg_create_new"})})})}),Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell half padding-small",children:Object(p.jsx)(s.e,{className:"full",value:a,onChange:function(e){return r("transtype",e.target.value)},options:i})}),Object(p.jsx)("div",{className:"cell half padding-small",children:Object(p.jsx)(s.e,{className:"full",value:l,onChange:function(e){return r("direction",e.target.value)},options:c})})]}),Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("div",{className:"padding-small".concat(" ",o.a.editCol),onClick:function(){return r("refno",!u)},children:Object(p.jsx)(s.d,{className:"bold",text:"msg_create_setref",leftIcon:u?Object(p.jsx)(d.p,{}):Object(p.jsx)(d.kb,{})})})})}),m?Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("div",{className:"padding-small".concat(" ",o.a.editCol),onClick:function(){return r("netto",!f)},children:Object(p.jsx)(s.d,{className:"bold",text:"msg_create_deduction",leftIcon:f?Object(p.jsx)(d.p,{}):Object(p.jsx)(d.kb,{})})})})}):null,g?Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("div",{className:"padding-small".concat(" ",o.a.editCol),onClick:function(){return r("from",!_)},children:Object(p.jsx)(s.d,{className:"bold",text:"msg_create_deduction",leftIcon:_?Object(p.jsx)(d.p,{}):Object(p.jsx)(d.kb,{})})})})}):null]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},h=function(e){var t=e.getText,r=e.valueChange,n=e.selectRow,a=e.deleteRow,l=e.onClose,i=e.tabView,c=e.paginationPage,m=e.bookmarkList,f=e.historyList;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"title_bookmark",leftIcon:Object(p.jsx)(d.lb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:l})})]})}),Object(p.jsxs)("div",{className:"section",children:[Object(p.jsxs)("div",{className:"row full container section-small-bottom",children:[Object(p.jsx)("div",{className:"cell half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.tabButton," ").concat("bookmark"===i?o.a.selected:""," ").concat("bookmark"===i?"primary":""),onClick:function(){return r("tabView","bookmark")},children:Object(p.jsx)(s.d,{text:"title_bookmark_list",leftIcon:Object(p.jsx)(d.lb,{})})})}),Object(p.jsx)("div",{className:"cell half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.tabButton," ").concat("history"===i?o.a.selected:""," ").concat("history"===i?"primary":""),onClick:function(){return r("tabView","history")},children:Object(p.jsx)(s.d,{text:"title_history",leftIcon:Object(p.jsx)(d.K,{})})})})]}),Object(p.jsx)("div",{className:"row full container section-small-bottom",children:Object(p.jsx)(u.a,{rows:"bookmark"===i?m:f,editIcon:"bookmark"===i?d.lb:d.K,listFilter:!0,filterPlaceholder:t("placeholder_filter"),paginationPage:c,paginationTop:!0,onEdit:n,onDelete:"bookmark"===i?function(e){return a(e)}:null})})]})]})},x=function(e){var t=e.onClose,r=e.valueChange,n=e.updateAudit,a=e.subtypeOptions,l=e.id,i=e.type_options,c=e.nervatype,u=e.subtype,m=e.nervatype_name,f=e.inputfilter,g=e.inputfilter_options,_=e.supervisor;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"title_usergroup",leftIcon:Object(p.jsx)(d.P,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"section-small",children:[Object(p.jsx)("div",{className:"row full container-small section-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"audit_nervatype"})}),Object(p.jsx)(s.e,{className:"full",value:c,disabled:l?"disabled":"",onChange:function(e){return r("nervatype",parseInt(e.target.value,10))},options:i})]})})}),["trans","report","menu"].includes(m)?Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"audit_subtype"})}),Object(p.jsx)(s.e,{className:"full",value:u||"",onChange:function(e){return r("subtype",parseInt(e.target.value,10))},options:a()})]})})}):null,Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"audit_inputfilter"})}),Object(p.jsx)(s.e,{className:"full",value:f,onChange:function(e){return r("inputfilter",parseInt(e.target.value,10))},options:g})]})})}),Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("div",{className:"padding-small".concat(" ",o.a.reportField),onClick:function(e){return r("supervisor",1===_?0:1)},children:Object(p.jsx)(s.d,{className:"bold",text:"audit_supervisor",leftIcon:1===_?Object(p.jsx)(d.p,{}):Object(p.jsx)(d.kb,{})})})})})})]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},w=function(e){var t=e.onClose,r=e.valueChange,n=e.updateMenu,a=e.fieldname,l=e.description,i=e.fieldtype,c=e.fieldtype_options,u=e.orderby;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"title_menucmd",leftIcon:Object(p.jsx)(d.hb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"section-small",children:[Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"menufields_fieldname"})}),Object(p.jsx)(s.c,{className:"full",value:a,onChange:function(e){return r("fieldname",e.target.value)}})]})})}),Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"menufields_description"})}),Object(p.jsx)(s.c,{className:"full",value:l,onChange:function(e){return r("description",e.target.value)}})]})})}),Object(p.jsxs)("div",{className:"row full container-small",children:[Object(p.jsxs)("div",{className:"cell padding-small half",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)(s.d,{className:"bold",text:"menufields_fieldtype"})}),Object(p.jsx)(s.e,{className:"full",value:i,onChange:function(e){return r("fieldtype",parseInt(e.target.value,10))},options:c})]}),Object(p.jsxs)("div",{className:"cell padding-small half",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)(s.d,{className:"bold",text:"menufields_orderby"})}),Object(p.jsx)(s.c,{className:"full align-right",value:u,itype:"integer",onChange:function(e){return r("orderby",parseInt(e.target.value,10))}})]})]})]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},j=function(e){var t=e.onClose,r=e.valueChange,n=e.updateData,a=e.name,l=e.type,i=e.type_options,c=e.columns;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"template_label_new_data",leftIcon:Object(p.jsx)(d.bb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsxs)("div",{className:"section-small",children:[Object(p.jsxs)("div",{className:"row full container-small",children:[Object(p.jsxs)("div",{className:"cell padding-small half",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)(s.d,{className:"bold",text:"template_data_type"})}),Object(p.jsx)(s.e,{className:"full",value:l,autoFocus:!0,onChange:function(e){return r("type",e.target.value)},options:i})]}),Object(p.jsxs)("div",{className:"cell padding-small half",children:[Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)(s.d,{className:"bold",text:"template_data_name"})}),Object(p.jsx)(s.c,{className:"full",value:a,onChange:function(e){return r("name",e.target.value)}})]})]}),"table"===l?Object(p.jsx)("div",{className:"row full container-small",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsxs)("div",{className:"cell padding-small",children:[Object(p.jsx)("div",{children:Object(p.jsx)(s.d,{className:"bold",text:"template_data_columns"})}),Object(p.jsx)("textarea",{className:"full",value:c,rows:3,onChange:function(e){return r("columns",e.target.value)}})]})})}):null]}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})},T=function(e){var t=e.onClose,r=e.total;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{text:"browser_total",leftIcon:Object(p.jsx)(d.N,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),Object(p.jsx)("div",{className:"row full container-small section-small",children:Object.keys(r.totalFields).map((function(e){return Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell bold padding-tiny half",children:Object(p.jsx)(s.d,{className:"bold",value:r.totalLabels[e]})}),Object(p.jsx)("div",{className:"cell padding-tiny half",children:Object(p.jsx)(s.c,{className:"full align-right bold",value:(t=r.totalFields[e],t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")),disabled:"disabled"})})]},e);var t}))}),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsx)("div",{className:"row full",children:Object(p.jsx)("div",{className:"cell padding-small",children:Object(p.jsx)("button",{className:"full primary",onClick:t,children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})})})]})},E=function(e){var t=e.onClose,r=e.valueChange,n=e.sendServerCmd,a=e.params,l=a.cmd,i=a.fields,c=a.values;return Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("div",{className:"panel-title primary",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell",children:Object(p.jsx)(s.d,{value:l.description,leftIcon:Object(p.jsx)(d.hb,{}),col:20})}),Object(p.jsx)("div",{className:"cell align-right".concat(" ",o.a.closeIcon),children:Object(p.jsx)(d.tb,{onClick:t})})]})}),i.map((function(e,t){return Object(p.jsx)(s.b,{row:{rowtype:"field",name:e.fieldname,datatype:e.fieldtypeName,label:e.description},values:c,rowdata:{audit:"all",current:{},dataset:{},onEdit:function(e){return r(e.name,e.value)}}},t)})),Object(p.jsx)("div",{className:"row full section container-small secondary-title",children:Object(p.jsxs)("div",{className:"row full",children:[Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full".concat(" ",o.a.closeIcon," "),onClick:function(){return t()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_cancel",leftIcon:Object(p.jsx)(d.tb,{}),col:20})})}),Object(p.jsx)("div",{className:"cell padding-small half",children:Object(p.jsx)("button",{className:"full primary",onClick:function(){return n()},children:Object(p.jsx)(s.d,{center:!0,text:"msg_ok",leftIcon:Object(p.jsx)(d.n,{}),col:20})})})]})})]})}},428:function(e,t,r){},5:function(e,t,r){"use strict";r.d(t,"C",(function(){return a})),r.d(t,"o",(function(){return l})),r.d(t,"N",(function(){return s})),r.d(t,"J",(function(){return p})),r.d(t,"f",(function(){return m})),r.d(t,"D",(function(){return f})),r.d(t,"ab",(function(){return d})),r.d(t,"Ab",(function(){return c})),r.d(t,"r",(function(){return u})),r.d(t,"B",(function(){return h})),r.d(t,"t",(function(){return x})),r.d(t,"lb",(function(){return w})),r.d(t,"F",(function(){return j})),r.d(t,"m",(function(){return T})),r.d(t,"h",(function(){return E})),r.d(t,"p",(function(){return i})),r.d(t,"kb",(function(){return o})),r.d(t,"k",(function(){return g})),r.d(t,"l",(function(){return _})),r.d(t,"E",(function(){return b})),r.d(t,"gb",(function(){return y})),r.d(t,"db",(function(){return v})),r.d(t,"M",(function(){return C})),r.d(t,"cb",(function(){return O})),r.d(t,"I",(function(){return k})),r.d(t,"hb",(function(){return S})),r.d(t,"tb",(function(){return N})),r.d(t,"G",(function(){return A})),r.d(t,"A",(function(){return q})),r.d(t,"u",(function(){return P})),r.d(t,"bb",(function(){return F})),r.d(t,"n",(function(){return M})),r.d(t,"zb",(function(){return pe})),r.d(t,"ub",(function(){return D})),r.d(t,"vb",(function(){return I})),r.d(t,"L",(function(){return $})),r.d(t,"Y",(function(){return L})),r.d(t,"S",(function(){return X})),r.d(t,"T",(function(){return B})),r.d(t,"e",(function(){return z})),r.d(t,"z",(function(){return R})),r.d(t,"ob",(function(){return V})),r.d(t,"wb",(function(){return H})),r.d(t,"W",(function(){return U})),r.d(t,"V",(function(){return K})),r.d(t,"rb",(function(){return W})),r.d(t,"j",(function(){return G})),r.d(t,"U",(function(){return J})),r.d(t,"X",(function(){return Y})),r.d(t,"ib",(function(){return Q})),r.d(t,"H",(function(){return Z})),r.d(t,"q",(function(){return ee})),r.d(t,"mb",(function(){return te})),r.d(t,"Q",(function(){return re})),r.d(t,"i",(function(){return ne})),r.d(t,"qb",(function(){return ae})),r.d(t,"sb",(function(){return le})),r.d(t,"Bb",(function(){return ie})),r.d(t,"P",(function(){return oe})),r.d(t,"v",(function(){return se})),r.d(t,"g",(function(){return de})),r.d(t,"O",(function(){return ce})),r.d(t,"xb",(function(){return ue})),r.d(t,"w",(function(){return me})),r.d(t,"eb",(function(){return fe})),r.d(t,"b",(function(){return ge})),r.d(t,"c",(function(){return _e})),r.d(t,"jb",(function(){return be})),r.d(t,"yb",(function(){return ye})),r.d(t,"R",(function(){return ve})),r.d(t,"s",(function(){return he})),r.d(t,"fb",(function(){return xe})),r.d(t,"K",(function(){return we})),r.d(t,"y",(function(){return je})),r.d(t,"x",(function(){return Te})),r.d(t,"pb",(function(){return Ee})),r.d(t,"d",(function(){return Ce})),r.d(t,"a",(function(){return Oe})),r.d(t,"Z",(function(){return ke})),r.d(t,"nb",(function(){return Se}));r(6);var n=r(0),a=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"})})})},l=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})})})},i=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"})})})},o=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z"})})})},s=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"})})})},d=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"})})})},c=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"})})})},u=function(e){return Object(n.jsx)("svg",{viewBox:"0 0 512 512",id:e.id,className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"})})})},p=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M105.6 83.2v86.177a115.52 115.52 0 0 0-22.4-2.176c-47.914 0-83.2 35.072-83.2 92 0 45.314 48.537 57.002 78.784 75.707 12.413 7.735 23.317 16.994 33.253 25.851l.146.131.148.129C129.807 376.338 136 384.236 136 391.2v2.679c-4.952 5.747-8 13.536-8 22.12v64c0 17.673 12.894 32 28.8 32h230.4c15.906 0 28.8-14.327 28.8-32v-64c0-8.584-3.048-16.373-8-22.12V391.2c0-28.688 40-67.137 40-127.2v-21.299c0-62.542-38.658-98.8-91.145-99.94-17.813-12.482-40.785-18.491-62.791-15.985A93.148 93.148 0 0 0 272 118.847V83.2C272 37.765 234.416 0 188.8 0c-45.099 0-83.2 38.101-83.2 83.2zm118.4 0v91.026c14.669-12.837 42.825-14.415 61.05 4.95 19.646-11.227 45.624-1.687 53.625 12.925 39.128-6.524 61.325 10.076 61.325 50.6V264c0 45.491-35.913 77.21-39.676 120H183.571c-2.964-25.239-21.222-42.966-39.596-59.075-12.65-11.275-25.3-21.725-39.875-30.799C80.712 279.645 48 267.994 48 259.2c0-23.375 8.8-44 35.2-44 35.2 0 53.075 26.4 70.4 26.4V83.2c0-18.425 16.5-35.2 35.2-35.2 18.975 0 35.2 16.225 35.2 35.2zM352 424c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24z"})})})},m=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})})})},f=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"})})})},g=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"})})})},_=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",className:e.className||"",style:e.style||{},width:e.width||6,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"})})})},b=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"})})})},y=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})},v=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"})})})},h=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"})})})},x=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"})})})},w=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"})})})},j=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:e.className||"",style:e.style||{},width:e.width||12,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"})})})},T=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})})})},E=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:e.className||"",style:e.style||{},width:e.width||10,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"})})})},C=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M567.938 243.908L462.25 85.374A48.003 48.003 0 0 0 422.311 64H153.689a48 48 0 0 0-39.938 21.374L8.062 243.908A47.994 47.994 0 0 0 0 270.533V400c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V270.533a47.994 47.994 0 0 0-8.062-26.625zM162.252 128h251.497l85.333 128H376l-32 64H232l-32-64H76.918l85.334-128z"})})})},O=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"})})})},k=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",className:e.className||"",style:e.style||{},width:e.width||15.5,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"})})})},S=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"})})})},N=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512",className:e.className||"",style:e.style||{},width:e.width||11,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})})})},A=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"})})})},q=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"})})})},P=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"})})})},F=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})})})},M=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"})})})},D=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||14.22,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"})})})},I=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||14.22,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"})})})},$=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||14.22,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"})})})},L=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M352 288h-16v-88c0-4.42-3.58-8-8-8h-13.58c-4.74 0-9.37 1.4-13.31 4.03l-15.33 10.22a7.994 7.994 0 0 0-2.22 11.09l8.88 13.31a7.994 7.994 0 0 0 11.09 2.22l.47-.31V288h-16c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h64c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 192c-53.02 0-96-50.15-96-112 0-61.86 42.98-112 96-112s96 50.14 96 112c0 61.87-43 112-96 112zm272 32h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"})})})},X=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"})})})},B=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})})})},z=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M0 448V64h18v384H0zm26.857-.273V64H36v383.727h-9.143zm27.143 0V64h8.857v383.727H54zm44.857 0V64h8.857v383.727h-8.857zm36 0V64h17.714v383.727h-17.714zm44.857 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm18 0V64h8.857v383.727h-8.857zm35.715 0V64h18v383.727h-18zm44.857 0V64h18v383.727h-18zm35.999 0V64h18.001v383.727h-18.001zm36.001 0V64h18.001v383.727h-18.001zm26.857 0V64h18v383.727h-18zm45.143 0V64h26.857v383.727h-26.857zm35.714 0V64h9.143v383.727H476zm18 .273V64h18v384h-18z"})})})},R=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 288 512",className:e.className||"",style:e.style||{},width:e.width||9,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"})})})},V=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"})})})},H=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"})})})},U=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 512",className:e.className||"",style:e.style||{},width:e.width||6,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"})})})},K=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"})})})},W=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"})})})},G=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"})})})},J=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})})})},Y=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"})})})},Q=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})})})},Z=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"})})})},ee=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"})})})},te=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"})})})},re=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M528 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM128 180v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm-336 96v-40c0-6.627-5.373-12-12-12H76c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12zm288 0v-40c0-6.627-5.373-12-12-12H172c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h232c6.627 0 12-5.373 12-12zm96 0v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12z"})})})},ne=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"})})})},ae=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M304 32H16A16 16 0 0 0 0 48v96a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16v-32h56v304H80a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-40V112h56v32a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm256 336h-48V144h48c14.31 0 21.33-17.31 11.31-27.31l-80-80a16 16 0 0 0-22.62 0l-80 80C379.36 126 384.36 144 400 144h48v224h-48c-14.31 0-21.32 17.31-11.31 27.31l80 80a16 16 0 0 0 22.62 0l80-80C580.64 386 575.64 368 560 368z"})})})},le=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"})})})},ie=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"})})})},oe=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"})})})},se=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"})})})},de=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",className:e.className||"",style:e.style||{},width:e.width||12,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"})})})},ce=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:e.className||"",style:e.style||{},width:e.width||10,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"})})})},ue=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"})})})},pe=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"})})})},me=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"})})})},fe=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"})})})},ge=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"})})})},_e=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"})})})},be=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"})})})},ye=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"})})})},ve=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})})})},he=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})})})},xe=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M629.657 343.598L528.971 444.284c-9.373 9.372-24.568 9.372-33.941 0L394.343 343.598c-9.373-9.373-9.373-24.569 0-33.941l10.823-10.823c9.562-9.562 25.133-9.34 34.419.492L480 342.118V160H292.451a24.005 24.005 0 0 1-16.971-7.029l-16-16C244.361 121.851 255.069 96 276.451 96H520c13.255 0 24 10.745 24 24v222.118l40.416-42.792c9.285-9.831 24.856-10.054 34.419-.492l10.823 10.823c9.372 9.372 9.372 24.569-.001 33.941zm-265.138 15.431A23.999 23.999 0 0 0 347.548 352H160V169.881l40.416 42.792c9.286 9.831 24.856 10.054 34.419.491l10.822-10.822c9.373-9.373 9.373-24.569 0-33.941L144.971 67.716c-9.373-9.373-24.569-9.373-33.941 0L10.343 168.402c-9.373 9.373-9.373 24.569 0 33.941l10.822 10.822c9.562 9.562 25.133 9.34 34.419-.491L96 169.881V392c0 13.255 10.745 24 24 24h243.549c21.382 0 32.09-25.851 16.971-40.971l-16.001-16z"})})})},we=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"})})})},je=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:e.className||"",style:e.style||{},width:e.width||18,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"})})})},Te=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"})})})},Ee=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:e.className||"",style:e.style||{},width:e.width||20,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"})})})},Ce=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"})})})},Oe=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:e.className||"",style:e.style||{},width:e.width||14,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"})})})},ke=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})})},Se=function(e){return Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:e.className||"",style:e.style||{},width:e.width||16,height:e.height||16,onClick:e.onClick,id:e.id,children:Object(n.jsx)("g",{fill:e.color,children:Object(n.jsx)("path",{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})})})}},58:function(e,t,r){e.exports={list:"List_list__3ccy6",listRow:"List_listRow__1k_tl",editCell:"List_editCell__3O_Bf",valueCell:"List_valueCell__1W0Ah",deleteCell:"List_deleteCell__1qUcy",label:"List_label__3Urgs",value:"List_value__18BRp",cursor:"List_cursor__2NJEp"}},614:function(e,t,r){},615:function(e,t,r){},616:function(e){e.exports=JSON.parse('{"report":{"title":"Nervatura Report","left-margin":15,"top-margin":15,"right-margin":15},"header":[{"row":{"columns":[{"image":{"src":"logo"}},{"cell":{"name":"label","value":"labels.title","font-style":"bolditalic","font-size":26,"color":"#696969"}},{"cell":{"name":"label","value":"JSON Sample","align":"right","font-style":"bold"}}],"height":10}},{"vgap":{"height":2}},{"hline":{"border-color":218}},{"vgap":{"height":2}}],"details":[{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","width":"50%","font-style":"bold","value":"labels.left_text","border":"LT","border-color":218,"background-color":245}},{"cell":{"name":"label","font-style":"bold","value":"labels.left_text","border":"LTR","border-color":218,"background-color":245}}]}},{"row":{"columns":[{"cell":{"name":"short_text","width":"50%","value":"head.short_text","border":"L","border-color":218}},{"cell":{"name":"short_text","value":"head.short_text","border":"LR","border-color":218}}]}},{"row":{"columns":[{"cell":{"name":"short_text","width":"50%","value":"head.short_text","border":"LB","border-color":218}},{"cell":{"name":"short_text","value":"head.short_text","border":"LBR","border-color":218}}]}},{"row":{"columns":[{"cell":{"name":"label","width":"40","font-style":"bold","value":"labels.left_text","border":"LB","border-color":218}},{"cell":{"name":"label","align":"center","width":"30","font-style":"bold","value":"labels.center_text","border":"LB","border-color":218}},{"cell":{"name":"label","align":"right","width":"40","font-style":"bold","value":"labels.right_text","border":"LB","border-color":218}},{"cell":{"name":"label","font-style":"bold","value":"labels.left_text","border":"LBR","border-color":218}}]}},{"row":{"columns":[{"cell":{"name":"short_text","width":"40","value":"head.short_text","border":"LB","border-color":218}},{"cell":{"name":"date","align":"center","width":"30","value":"head.date","border":"LB","border-color":218}},{"cell":{"name":"amount","align":"right","width":"40","value":"head.number","border":"LB","border-color":218}},{"cell":{"name":"short_text","value":"head.short_text","border":"LBR","border-color":218}}]}},{"row":{"columns":[{"cell":{"name":"label","font-style":"bold","value":"labels.left_text","border":"LB","border-color":218}},{"cell":{"name":"short_text","width":"50","value":"head.short_text","border":"LB","border-color":218}},{"cell":{"name":"label","font-style":"bold","value":"labels.left_text","border":"LB","border-color":218}},{"cell":{"name":"short_text","value":"head.short_text","border":"LBR","border-color":218}}]}},{"row":{"columns":[{"cell":{"name":"long_text","multiline":"true","value":"head.long_text","border":"LBR","border-color":218}}]}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.left_text","font-style":"bold","border":"1","border-color":245,"background-color":245}},{"cell":{"name":"short_text","value":"head.short_text","border":"1","border-color":218}},{"cell":{"name":"label","value":"labels.left_text","font-style":"bold","border":"1","border-color":245,"background-color":245}},{"cell":{"name":"short_text","value":"head.short_text","border":"1","border-color":218}}],"hgap":2}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"labels.long_text","font-style":"bold","border":"1","border-color":245,"background-color":245}},{"cell":{"name":"long_text","multiline":"true","value":"head.long_text","border":"1","border-color":218}}],"hgap":2}},{"vgap":{"height":2}},{"hline":{"border-color":218}},{"vgap":{"height":2}},{"row":{"columns":[{"cell":{"name":"label","value":"Barcode (Interleaved 2of5)","font-style":"bold","font-size":10,"border":"1","border-color":245,"background-color":245}},{"barcode":{"code-type":"ITF","value":"1234567890","visible-value":1}},{"cell":{"name":"label","value":"Barcode (Code 39)","font-style":"bold","font-size":10,"border":"1","border-color":245,"background-color":245}},{"barcode":{"code-type":"CODE_39","value":"1234567890ABCDEF","visible-value":1}}],"hgap":3}},{"vgap":{"height":3}},{"row":{"columns":[{"cell":{"name":"label","value":"Datagrid Sample","align":"center","font-style":"bold","border":"1","border-color":245,"background-color":245}}]}},{"vgap":{"height":2}},{"datagrid":{"columns":[{"column":{"width":"8%","fieldname":"counter","align":"right","label":"labels.counter","footer":"labels.total"}},{"column":{"width":"20%","fieldname":"date","align":"center","label":"labels.center_text"}},{"column":{"width":"15%","fieldname":"number","align":"right","label":"labels.right_text","footer":"items_footer.items_total","footer-align":"right"}},{"column":{"fieldname":"text","label":"labels.left_text"}}],"name":"items","databind":"items","border":"1","border-color":218,"header-background":245,"footer-background":245}},{"vgap":{"height":5}},{"html":{"fieldname":"html_text","html":"<i>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</i> ={{html_text}} Nulla a pretium nunc, in cursus quam."}}],"footer":[{"vgap":{"height":2}},{"hline":{"border-color":218}},{"row":{"columns":[{"cell":{"value":"Nervatura Report Template","font-style":"bolditalic"}},{"cell":{"value":"{{page}}","align":"right","font-style":"bold"}}],"height":10}}],"data":{"labels":{"title":"REPORT TEMPLATE","left_text":"Short text","center_text":"Centered text","right_text":"Right text","long_text":"Long text","counter":"No.","total":"Total"},"head":{"short_text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01","long_text":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eu mattis diam, sed dapibus justo. In eget augue nisi. Cras eget odio vel mi vulputate interdum. Curabitur consequat sapien at lacus tincidunt, at sagittis felis lobortis. Aenean porta maximus quam eu porta. Fusce sed leo ut justo commodo facilisis. Vivamus vitae tempor erat, at ultrices enim. Nulla a pretium nunc, in cursus quam."},"html_text":"<p><b>Pellentesque eu mattis diam, sed dapibus justo. In eget augue nisi. Cras eget odio vel mi vulputate interdum. Curabitur consequat sapien at lacus tincidunt, at sagittis felis lobortis. Aenean porta maximus quam eu porta. Fusce sed leo ut justo commodo facilisis. Vivamus vitae tempor erat, at ultrices enim.</b></p>","items":[{"text":"Lorem ipsum dolor1","number":"3","date":"2014.01.08"},{"text":"Lorem ipsum dolor2","number":"4","date":"2014.01.07"},{"text":"Lorem ipsum dolor3","number":"6","date":"2014.01.04"},{"text":"Lorem ipsum dolor4","number":"7","date":"2014.01.02"},{"text":"Lorem ipsum dolor5","number":"3","date":"2014.01.04"},{"text":"Lorem ipsum dolor6 Lorem ipsum dolor6 Lorem ipsum dolor6 Lorem ipsum dolor6 Lorem ipsum dolor6 Lorem ipsum dolor6","number":"4","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"},{"text":"Lorem ipsum dolor","number":"123 456","date":"2014.01.01"}],"items_footer":{"items_total":"3 703 680"},"logo":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAFxGAABcRgEUlENBAAAAB3RJTUUH4AcCFiIAfaA8WwAAAeBJREFUSMftlj9IVlEUwH/nfR/+G3QwaPlAg3D5pKkPDIoIghYVm4yCFKlPcGoQdGppa4mm4IJbQdFYRKDgoFR0o5ZwcL5LLoKCoPW+43JfvO/6ns9P0ckDj8c5l3t+55x73rkPzqUFqdRrTe/Tho0CRGeQ2FWA8ilmcgH4CUyeGFSp13DGpvUOoB+YSwDALwBp0VF6jwAKXAbGgIfAYOBi1Rl7oxDknXf56IaBKtDhnzagvcBHzRn7IxOUZFGp12aAaeDKMSv7D+gBdpyxzSBfmnZgGbh2wn5Yc8ZWEyXKOI+lY0C2RGQ9sD1OK/9BvlyjwPUWIZsi8lFVB1K2DWfsl/REKAdle94i5LuIbKnq/cC+mAR/ICMvvUcliMgroFNVb2csT4WGcoGeJbsisqCq4zmBLThj90JjmNFeQbt+i0ReqOpMDiR2xj7KmtYh6E/WZhH5WoqiCWCooTp/SDC3wrPJ7Dr/9Sdn8L5UKt0T5JOqVuNG401BSaedsSt5d08ULFwENoBNVb0Zx/FbRUeA7gLIU2esCWdjU/P41h4HZv3d8Q74DTw7QmP8Baacsa8Pg6S7bBvoSw9BP0yfAJ05gM/AXSDOO5cDGeVdC972ALgDXAJ2gQ/O2Jfnf0RnJvumbKT0gnMTFgAAAABJRU5ErkJggg=="}}')},617:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"en",(function(){return le}));var a=r(6),l=r.n(a),i=r(63),o=r.n(i),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var c=r(11),u=r.n(c),p=r(17),m=r(13),f=r(133),g=r(134),_=r(135),b=r(143),y=r(142),v=r(1),h=r.n(v),x=r(31),w=(r(296),r(324),r(325),r(326),r(327),r(328),r(24)),j=r(188),T=r.n(j),E=r(284),C=r.n(E),O=r(0),k=function(){return Object(O.jsxs)("div",{className:C.a.loading,children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})},S=l.a.memo((function(e){return Object(O.jsx)("div",{className:T.a.modal,children:Object(O.jsx)("div",{className:T.a.middle,children:Object(O.jsx)(k,{})})})})),N=r(14),A=r(18),q=r(62),P=r(77),F=r(131),M=r(25),D=r(27),I=r.n(D),$=r(7),L=r(5),X=Object(a.memo)((function(e){var t=Object(a.useRef)(null),r=e.signOut,n=e.loadModule,l=e.sideBar,i=e.setScroll,o=e.showBookmarks,s=e.showHelp,d=e.data,c=d.side,u=d.scrollTop,p=function(t){return t===e.data.module?I.a.selected:""};return Object(O.jsxs)("div",{ref:t,className:"".concat(u?I.a.shadow:""," ").concat(I.a.menubar),children:[Object(O.jsxs)("div",{className:"cell",children:[Object(O.jsx)("div",{className:"".concat(I.a.menuitem," ").concat(I.a.sidebar),onClick:function(){return l()},children:"show"===c?Object(O.jsx)($.d,{className:"".concat(I.a.selected," ").concat(I.a.exit),leftIcon:Object(O.jsx)(L.r,{className:"".concat(I.a.selected," ").concat(I.a.exit)}),text:"menu_hide"}):Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.f,{width:"24",height:"24"}),text:"menu_side"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",p("search")," ").concat(I.a.menuitem),onClick:function(){return n("search")},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.gb,{}),text:"menu_search"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",p("edit")," ").concat(I.a.menuitem),onClick:function(){return n("edit")},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.B,{}),text:"menu_edit"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",p("setting")," ").concat(I.a.menuitem),onClick:function(){return n("setting")},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.t,{}),text:"menu_setting"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",p("bookmark")," ").concat(I.a.menuitem),onClick:function(){return o()},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.lb,{}),text:"menu_bookmark"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",p("help")," ").concat(I.a.menuitem),onClick:function(){return s()},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.db,{}),text:"menu_help"})}),Object(O.jsx)("div",{className:"hide-small hide-medium".concat(" ",I.a.menuitem," ").concat(I.a.exit),onClick:function(){return r()},children:Object(O.jsx)($.d,{leftIcon:Object(O.jsx)(L.D,{}),text:"menu_logout"})}),u?Object(O.jsx)("div",{className:"".concat(I.a.menuitem),onClick:function(){return i()},children:Object(O.jsx)(L.J,{})}):null]}),Object(O.jsx)("div",{className:"right hide-large".concat(" ",I.a.menuitem," ").concat(I.a.exit),onClick:function(){return r()},children:Object(O.jsx)(L.D,{width:"24",height:"24"})}),Object(O.jsxs)("div",{className:"cell".concat(" ","right"," ",I.a.container),children:[Object(O.jsx)("div",{className:"right hide-large".concat(" ",p("help")," ").concat(I.a.menuitem),onClick:function(){return s()},children:Object(O.jsx)($.d,{className:"hide-small",leftIcon:Object(O.jsx)(L.db,{}),text:"menu_help"})}),Object(O.jsx)("div",{className:"right hide-large".concat(" ",p("bookmark")," ").concat(I.a.menuitem),onClick:function(){return o()},children:Object(O.jsx)($.d,{className:"hide-small",leftIcon:Object(O.jsx)(L.lb,{}),text:"menu_bookmark"})}),Object(O.jsx)("div",{className:"right hide-large".concat(" ",p("setting")," ").concat(I.a.menuitem),onClick:function(){return n("setting")},children:Object(O.jsx)($.d,{className:"hide-small",leftIcon:Object(O.jsx)(L.t,{}),text:"menu_setting"})}),Object(O.jsx)("div",{className:"right hide-large".concat(" ",p("edit")," ").concat(I.a.menuitem),onClick:function(){return n("edit")},children:Object(O.jsx)($.d,{className:"hide-small",leftIcon:Object(O.jsx)(L.B,{}),text:"menu_edit"})}),Object(O.jsx)("div",{className:"right hide-large".concat(" ",p("search")," ").concat(I.a.menuitem),onClick:function(){return n("search")},children:Object(O.jsx)($.d,{className:"hide-small",leftIcon:Object(O.jsx)(L.gb,{}),text:"menu_search"})})]})]})}),(function(e,t){return e.data===t.data})),B=function(e){var t=Object(a.useContext)(w.b),r=t.data,n=t.setData,l=Object(A.e)(),i=Object(q.a)(),o=Object(P.a)(),s=Object(F.a)(),d=Object(M.b)({ui:l.getSetting("ui")}),c=Object(M.e)(),f=Object(a.useState)({}),g=Object(x.a)(f,1)[0];return g.data=r.current,g.bookmark=r.bookmark,g.signOut=function(){l.signOut()},g.sideBar=function(){n("current",{side:l.getSideBar()})},g.showHelp=function(){l.showHelp("")},g.loadModule=function(e){n("current",{module:e,menu:""},(function(){"setting"!==e||r.setting.group_key||n(g.data.module,{group_key:"group_admin"},(function(){s.loadSetting({type:"setting"})}))}))},g.showBookmarks=function(){d({bookmark:g.bookmark,getText:l.getText,onChange:function(e){n("current",{modalForm:e})},onDelete:function(e){c({title:l.getText("msg_warning"),message:l.getText("msg_delete_text"),infoText:l.getText("msg_delete_info"),onChange:function(e){n("current",{modalForm:e})},cbCancel:function(){g.showBookmarks()},cbOK:function(){var t=Object(p.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.requestData("/ui_userconfig",{method:"DELETE",query:{id:e}});case 2:if(!(n=t.sent)||!n.error){t.next=5;break}return t.abrupt("return",l.resultError(n));case 5:l.loadBookmark({user_id:r.login.data.employee.id,callback:function(){g.showBookmarks()}});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},onSelect:function(e,t){n("current",{modalForm:null},Object(p.a)(u.a.mark((function a(){var l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:"bookmark"===e&&"browser"===t.cfgroup?(l=h()(r.search,{filters:{$merge:Object(m.a)({},t.view,t.filters)}}),l=h()(l,{columns:{$merge:Object(m.a)({},t.view,t.columns)}}),n("search",l,(function(){o.showBrowser(t.vkey,t.view)}))):i.checkEditor({ntype:t.ntype,ttype:t.transtype,id:t.id},"LOAD_EDITOR");case 1:case"end":return a.stop()}}),a)}))))}})},g.setScroll=function(){window.scrollTo(0,0)},Object(O.jsx)(X,Object(N.a)({},g))},z=r(132),R=r(80),V=r(136),H=r(10),U=r.n(H),K=Object(a.memo)((function(e){var t=e.changeData,r=e.quickView,n=e.showBrowser,a=e.checkEditor,l=e.data.side,i=e.module.group_key,o=e.login.audit_filter,s=function(e){return e===i?U.a.selectButton:U.a.groupButton},d=function(e){return Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ",s(e)),onClick:function(){return t("group_key",e)},children:Object(O.jsx)($.d,{text:"search_"+e,leftIcon:Object(O.jsx)(L.F,{}),col:20})}),i===e?Object(O.jsxs)("div",{className:"row full".concat(" ",U.a.panelGroup),children:[Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.panelButton),onClick:function(){return r(e)},children:Object(O.jsx)($.d,{text:"quick_search",leftIcon:Object(O.jsx)(L.h,{}),col:20})}),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.panelButton),onClick:function(){return n(e)},children:Object(O.jsx)($.d,{text:"browser_"+e,leftIcon:Object(O.jsx)(L.gb,{}),col:20})})]}):null]})};return Object(O.jsxs)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==l?l:""),children:[d("transitem"),"disabled"!==o.trans.bank[0]||"disabled"!==o.trans.cash[0]?d("transpayment"):null,"disabled"!==o.trans.delivery[0]||"disabled"!==o.trans.inventory[0]||"disabled"!==o.trans.waybill[0]||"disabled"!==o.trans.production[0]||"disabled"!==o.trans.formula[0]?d("transmovement"):null,Object(O.jsx)("div",{className:U.a.separator}),"disabled"!==o.customer[0]?d("customer"):null,"disabled"!==o.product[0]?d("product"):null,"disabled"!==o.employee[0]?d("employee"):null,"disabled"!==o.tool[0]?d("tool"):null,"disabled"!==o.project[0]?d("project"):null,Object(O.jsx)("div",{className:U.a.separator}),Object(O.jsx)("button",{className:"full medium".concat(" ",s("report")),onClick:function(){t("group_key","report"),r("report")},children:Object(O.jsx)($.d,{text:"search_report",leftIcon:Object(O.jsx)(L.m,{}),col:20})}),Object(O.jsx)("button",{className:"full medium".concat(" ",s("office")),onClick:function(){return t("group_key","office")},children:Object(O.jsx)($.d,{text:"search_office",leftIcon:Object(O.jsx)(L.M,{}),col:20})}),"office"===i?Object(O.jsxs)("div",{className:"row full".concat(" ",U.a.panelGroup),children:[Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return a({ntype:"printqueue",ttype:null,id:null},"LOAD_EDITOR")},children:Object(O.jsx)($.d,{text:"title_printqueue",leftIcon:Object(O.jsx)(L.cb,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return n("rate")},children:Object(O.jsx)($.d,{text:"title_rate",leftIcon:Object(O.jsx)(L.I,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r("servercmd")},children:Object(O.jsx)($.d,{text:"title_servercmd",leftIcon:Object(O.jsx)(L.hb,{}),col:20})})]}):null]})}),(function(e,t){return e.data===t.data&&e.module.group_key===t.module.group_key})),W=Object(a.memo)((function(e){var t=e.editState,r=e.changeData,n=e.editorBack,l=e.editorNew,i=e.editorDelete,o=e.reportSettings,s=e.prevTransNumber,d=e.nextTransNumber,c=e.saveEditor,u=e.loadFormula,p=e.transCopy,m=e.setLink,f=e.shippingAddAll,g=e.shippingCreate,_=e.searchItems,b=e.createReport,y=e.exportAll,v=e.eventExport,h=e.bookmarkSave,x=e.setPassword,w=e.showHelp,j=e.login,T=e.forms,E=e.data,C=E.side,k=E.edit,S=e.module,N=S.current,A=S.form_dirty,q=S.dirty,P=S.panel,F=S.dataset,M=S.group_key,D=function(e){return e===M?U.a.selectButton:U.a.groupButton};return Object(O.jsx)(a.Fragment,{children:Object(O.jsxs)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==C?C:""),children:[N.form||"transitem_shipping"===N.form_type?null:Object(O.jsxs)("div",{className:"row full section-small container",children:[Object(O.jsx)("div",{className:"cell half",children:Object(O.jsx)("button",{className:"full medium".concat(" ",k&&N.item?U.a.groupButton:U.a.selectButton),onClick:function(){return t()},children:Object(O.jsx)($.d,{text:"label_new",leftIcon:Object(O.jsx)(L.bb,{}),col:20})})}),Object(O.jsx)("div",{className:"cell half",children:Object(O.jsx)("button",{className:"full medium".concat(" ",k&&N.item?U.a.selectButton:U.a.groupButton),disabled:N.item?"":"disabled",onClick:function(){return t()},children:Object(O.jsx)($.d,{text:"label_edit",leftIcon:Object(O.jsx)(L.B,{}),col:20})})})]}),(N.form||N.item)&&k?k?function(e){"undefined"===typeof e&&(e={});var t=[];if((!0===e.back||N.form)&&(t.push(Object(O.jsx)("button",{className:"medium".concat(" ",U.a.itemButton," ").concat(U.a.selected),onClick:function(){return n()},children:Object(O.jsx)($.d,{text:"label_back",leftIcon:Object(O.jsx)(L.eb,{}),col:20})},"cmd_back")),t.push(Object(O.jsx)("div",{className:U.a.separator},"back_sep"))),!0===e.arrow&&(t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return s()},children:Object(O.jsx)($.d,{text:"label_previous",leftIcon:Object(O.jsx)(L.b,{}),col:20})},"cmd_arrow_left")),t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return d()},children:Object(O.jsx)($.d,{text:"label_next",rightIcon:Object(O.jsx)(L.c,{}),col:20})},"cmd_arrow_right")),t.push(Object(O.jsx)("div",{className:U.a.separator},"arrow_sep"))),"normal"!==e.state){var r="white",j=L.C;switch(e.state){case"deleted":r="red";break;case"cancellation":r="orange";break;case"closed":case"readonly":j=L.U}t.push(Object(O.jsx)("div",{className:"full padding-small large".concat(" ",U.a.stateLabel),children:Object(O.jsx)($.d,{text:"label_"+e.state,style:{color:r},leftIcon:Object(a.createElement)(j,{color:r}),col:25})},"cmd_state")),t.push(Object(O.jsx)("div",{className:U.a.separator},"state_sep"))}return!1!==e.save&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton," ").concat(N.form&&A||!N.form&&q?U.a.selected:""),onClick:function(){return c()},children:Object(O.jsx)($.d,{text:"label_save",leftIcon:Object(O.jsx)(L.n,{}),col:20})},"cmd_save")),!1!==e.delete&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return i()},children:Object(O.jsx)($.d,{text:"label_delete",leftIcon:Object(O.jsx)(L.tb,{}),col:20})},"cmd_delete")),!1===e.new||"normal"!==e.state||N.form||t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return l({})},children:Object(O.jsx)($.d,{text:"label_new",leftIcon:Object(O.jsx)(L.bb,{}),col:20})},"cmd_new")),!0===e.trans&&(t.push(Object(O.jsx)("div",{className:U.a.separator},"trans_sep")),!1!==e.copy&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return p("normal")},children:Object(O.jsx)($.d,{text:"label_copy",leftIcon:Object(O.jsx)(L.w,{}),col:20})},"cmd_copy")),!1!==e.create&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return p("create")},children:Object(O.jsx)($.d,{text:"label_create",leftIcon:Object(O.jsx)(L.jb,{}),col:20})},"cmd_create")),!0===e.corrective&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return p("amendment")},children:Object(O.jsx)($.d,{text:"label_corrective",leftIcon:Object(O.jsx)(L.hb,{}),col:20})},"cmd_corrective")),!0===e.cancellation&&"cancellation"!==e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return p("cancellation")},children:Object(O.jsx)($.d,{text:"label_cancellation",leftIcon:Object(O.jsx)(L.yb,{}),col:20})},"cmd_cancellation")),!0===e.formula&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return u()},children:Object(O.jsx)($.d,{text:"label_formula",leftIcon:Object(O.jsx)(L.V,{}),col:20})},"cmd_formula"))),!0===e.link&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return m(e.link_type,e.link_field)},children:Object(O.jsx)($.d,{value:e.link_label,leftIcon:Object(O.jsx)(L.R,{}),col:20})},"cmd_link")),!0===e.password&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return x()},children:Object(O.jsx)($.d,{text:"title_password",leftIcon:Object(O.jsx)(L.U,{}),col:20})},"cmd_password")),!0===e.shipping&&(t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return f()},children:Object(O.jsx)($.d,{text:"shipping_all_label",leftIcon:Object(O.jsx)(L.bb,{}),col:20})},"cmd_shipping_all")),t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton," ").concat(F.shiptemp.length>0?U.a.selected:""),onClick:function(){return g()},children:Object(O.jsx)($.d,{text:"shipping_create_label",leftIcon:Object(O.jsx)(L.n,{}),col:20})},"cmd_shipping_create"))),!0===e.more&&(t.push(Object(O.jsx)("div",{className:U.a.separator},"more_sep_1")),!1!==e.report&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return o()},children:Object(O.jsx)($.d,{text:"label_report",leftIcon:Object(O.jsx)(L.m,{}),col:20})},"cmd_report")),!0===e.search&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return _()},children:Object(O.jsx)($.d,{text:"label_search",leftIcon:Object(O.jsx)(L.gb,{}),col:20})},"cmd_search")),!0===e.export_all&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return y()},children:Object(O.jsx)($.d,{text:"label_export_all",leftIcon:Object(O.jsx)(L.A,{}),col:20})},"cmd_export_all")),!0===e.print&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b("print")},children:Object(O.jsx)($.d,{text:"label_print",leftIcon:Object(O.jsx)(L.cb,{}),col:20})},"cmd_print")),!0===e.export_pdf&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b("pdf")},children:Object(O.jsx)($.d,{text:"label_export_pdf",leftIcon:Object(O.jsx)(L.A,{}),col:20})},"cmd_export_pdf")),!0===e.export_xml&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b("xml")},children:Object(O.jsx)($.d,{text:"label_export_xml",leftIcon:Object(O.jsx)(L.s,{}),col:20})},"cmd_export_xml")),!0===e.export_csv&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b("csv")},children:Object(O.jsx)($.d,{text:"label_export_csv",leftIcon:Object(O.jsx)(L.A,{}),col:20})},"cmd_export_csv")),!0===e.export_event&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return v()},children:Object(O.jsx)($.d,{text:"label_export_event",leftIcon:Object(O.jsx)(L.k,{}),col:20})},"cmd_export_event")),t.push(Object(O.jsx)("div",{className:U.a.separator},"more_sep_2")),!1!==e.bookmark&&"normal"===e.state&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return h(e.bookmark)},children:Object(O.jsx)($.d,{text:"label_bookmark",leftIcon:Object(O.jsx)(L.lb,{}),col:20})},"cmd_bookmark")),!1!==e.help&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return w(e.help)},children:Object(O.jsx)($.d,{text:"label_help",leftIcon:Object(O.jsx)(L.db,{}),col:20})},"cmd_help"))),!0!==e.more&&"undefined"!==typeof e.help&&(t.push(Object(O.jsx)("div",{className:U.a.separator},"help_sep")),t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return w(e.help)},children:Object(O.jsx)($.d,{text:"label_help",leftIcon:Object(O.jsx)(L.db,{}),col:20})},"cmd_help"))),t}(P):null:function(){var e=[];return Array(j.edit_new[0]).length>0&&e.push(Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ",D("new_transitem")),onClick:function(){return r("group_key","new_transitem")},children:Object(O.jsx)($.d,{text:"search_transitem",leftIcon:Object(O.jsx)(L.F,{}),col:25})}),"new_transitem"===M?Object(O.jsx)("div",{className:"row full".concat(" ",U.a.panelGroup),children:j.edit_new[0].map((function(e){return"all"===j.audit_filter.trans[e][0]?Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:"trans",ttype:e})},children:Object(O.jsx)($.d,{text:"title_"+e,leftIcon:Object(O.jsx)(L.F,{}),col:25})},e):null}))}):null]},"0")),Array(j.edit_new[1]).length>0&&e.push(Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ",D("new_transpayment")),onClick:function(){return r("group_key","new_transpayment")},children:Object(O.jsx)($.d,{text:"search_transpayment",leftIcon:Object(O.jsx)(L.Y,{}),col:25})}),"new_transpayment"===M?Object(O.jsx)("div",{className:"row full".concat(" ",U.a.panelGroup),children:j.edit_new[1].map((function(e){return"all"===j.audit_filter.trans[e][0]?Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:"trans",ttype:e})},children:Object(O.jsx)($.d,{text:"title_"+e,leftIcon:Object(O.jsx)(L.Y,{}),col:25})},e):null}))}):null]},"1")),Array(j.edit_new[2]).length>0&&e.push(Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ",D("new_transmovement")),onClick:function(){return r("group_key","new_transmovement")},children:Object(O.jsx)($.d,{text:"search_transmovement",leftIcon:Object(O.jsx)(L.wb,{}),col:25})}),"new_transmovement"===M?Object(O.jsx)("div",{className:"row full".concat(" ",U.a.panelGroup),children:j.edit_new[2].map((function(e){return"all"===j.audit_filter.trans[e][0]?"delivery"===e?[Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:"trans",ttype:"shipping"})},children:Object(O.jsx)($.d,{text:"title_"+e,leftIcon:Object(a.createElement)(T[e]().options.icon),col:25})},"shipping"),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:"trans",ttype:e})},children:Object(O.jsx)($.d,{text:"title_transfer",leftIcon:Object(a.createElement)(T[e]().options.icon),col:25})},e)]:Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:"trans",ttype:e})},children:Object(O.jsx)($.d,{text:"title_"+e,leftIcon:Object(a.createElement)(T[e]().options.icon),col:25})},e):null}))}):null]},"2")),Array(j.edit_new[3]).length>0&&e.push(Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ",D("new_resources")),onClick:function(){return r("group_key","new_resources")},children:Object(O.jsx)($.d,{text:"title_resources",leftIcon:Object(O.jsx)(L.Y,{}),col:25})}),"new_resources"===M?Object(O.jsx)("div",{className:"row full".concat(" ",U.a.panelGroup),children:j.edit_new[3].map((function(e){return"all"===j.audit_filter[e][0]?Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l({ntype:e,ttype:null})},children:Object(O.jsx)($.d,{text:"title_"+e,leftIcon:Object(a.createElement)(T[e]().options.icon),col:25})},e):null}))}):null]},"3")),e}()]})})}),(function(e,t){return e.data===t.data&&e.module===t.module})),G=Object(a.memo)((function(e){var t=e.closePreview,r=e.changeOrientation,n=e.setScale,a=e.prevPage,l=e.nextPage,i=e.data.side,o=e.preview,s=o.orient,d=o.pageNumber,c=o.totalPages;return Object(O.jsxs)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==i?i:""),children:[Object(O.jsx)("button",{className:"medium".concat(" ",U.a.itemButton," ").concat(U.a.selected),onClick:function(){return t()},children:Object(O.jsx)($.d,{text:"label_back",leftIcon:Object(O.jsx)(L.eb,{}),col:20})}),Object(O.jsx)("div",{className:U.a.separator}),Object(O.jsx)("div",{className:"full padding-small large".concat(" ",U.a.previewLabel),children:Object(O.jsx)($.d,{text:"report_page",value:": ".concat(d,"/").concat(c)})}),Object(O.jsx)("div",{className:U.a.separator}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton," ").concat(U.a.upper),onClick:function(){return r()},children:Object(O.jsx)($.d,{text:"portrait"===s?"report_landscape":"report_portrait",leftIcon:Object(O.jsx)(L.fb,{}),col:20})}),Object(O.jsx)("div",{className:U.a.separator}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),disabled:1===d?"disabled":"",onClick:function(){return a()},children:Object(O.jsx)($.d,{text:"report_previous",leftIcon:Object(O.jsx)(L.b,{}),col:20})}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),disabled:d===c?"disabled":"",onClick:function(){return l()},children:Object(O.jsx)($.d,{text:"report_next",rightIcon:Object(O.jsx)(L.c,{}),col:20})}),Object(O.jsx)("div",{className:U.a.separator}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),onClick:function(){return n(.5)},children:Object(O.jsx)($.d,{value:"50%",leftIcon:Object(O.jsx)(L.gb,{}),col:20})}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),onClick:function(){return n(.75)},children:Object(O.jsx)($.d,{value:"75%",leftIcon:Object(O.jsx)(L.gb,{}),col:20})}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),onClick:function(){return n(1)},children:Object(O.jsx)($.d,{value:"100%",leftIcon:Object(O.jsx)(L.gb,{}),col:20})}),Object(O.jsx)("button",{className:"medium full".concat(" ",U.a.itemButton),onClick:function(){return n("page-width")},children:Object(O.jsx)($.d,{text:"report_full_width",leftIcon:Object(O.jsx)(L.gb,{}),col:20})})]})}),(function(e,t){return e.data===t.data&&e.preview===t.preview})),J=Object(a.memo)((function(e){var t=e.changeData,r=e.settingLoad,n=e.loadCompany,l=e.setPassword,i=e.settingBack,o=e.settingSave,s=e.setProgram,d=e.settingDelete,c=e.settingNew,u=e.templatePrint,p=e.templateSave,m=e.templateCreate,f=e.templateNewBlank,g=e.templateNewSample,_=e.template2json,b=e.showHelp,y=e.username,v=e.data.side,h=e.module,x=h.group_key,w=h.current,j=h.panel,T=h.dirty,E=h.template,C=e.login.audit_filter;return E?Object(O.jsxs)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==v?v:""),children:[Object(O.jsx)("button",{className:"medium".concat(" ",U.a.itemButton," ").concat(U.a.selected),onClick:function(){return i("template")},children:Object(O.jsx)($.d,{text:"label_back",leftIcon:Object(O.jsx)(L.eb,{}),col:25})},"cmd_back"),Object(O.jsx)("div",{className:U.a.separator},"tmp_sep_1"),"_blank"!==E.key&&"_sample"!==E.key?Object(O.jsxs)(a.Fragment,{children:[Object(O.jsx)("div",{className:U.a.separator},"tmp_sep_2"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton," ").concat(T?U.a.selected:""),onClick:function(){return p()},children:Object(O.jsx)($.d,{text:"template_save",leftIcon:Object(O.jsx)(L.n,{}),col:25})},"cmd_save"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return m()},children:Object(O.jsx)($.d,{text:"template_create_from",leftIcon:Object(O.jsx)(L.jb,{}),col:25})},"cmd_create")]}):null,Object(O.jsx)("div",{className:U.a.separator},"tmp_sep_3"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return f()},children:Object(O.jsx)($.d,{text:"template_new_blank",leftIcon:Object(O.jsx)(L.bb,{}),col:25})},"cmd_blank"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return g()},children:Object(O.jsx)($.d,{text:"template_new_sample",leftIcon:Object(O.jsx)(L.bb,{}),col:25})},"cmd_sample"),Object(O.jsx)("div",{className:U.a.separator},"tmp_sep_4"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return u()},children:Object(O.jsx)($.d,{text:"label_print",leftIcon:Object(O.jsx)(L.cb,{}),col:25})},"cmd_print"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return _()},children:Object(O.jsx)($.d,{text:"template_export_json",leftIcon:Object(O.jsx)(L.s,{}),col:25})},"cmd_json"),Object(O.jsx)("div",{className:U.a.separator},"tmp_sep_5"),Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b("editor")},children:Object(O.jsx)($.d,{text:"label_help",leftIcon:Object(O.jsx)(L.db,{}),col:20})},"cmd_help")]}):w&&j?Object(O.jsx)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==v?v:""),children:function(e){"undefined"===typeof e&&(e={});var t=[];return t.push(Object(O.jsx)("button",{className:"medium".concat(" ",U.a.itemButton," ").concat(U.a.selected),onClick:function(){return i()},children:Object(O.jsx)($.d,{text:"label_back",leftIcon:Object(O.jsx)(L.eb,{}),col:20})},"cmd_back")),t.push(Object(O.jsx)("div",{className:U.a.separator},"back_sep")),!1!==e.save&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton," ").concat(T?U.a.selected:""),onClick:function(){return o()},children:Object(O.jsx)($.d,{text:"label_save",leftIcon:Object(O.jsx)(L.n,{}),col:20})},"cmd_save")),!1!==e.delete&&null!==w.form.id&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return d()},children:Object(O.jsx)($.d,{text:"label_delete",leftIcon:Object(O.jsx)(L.tb,{}),col:20})},"cmd_delete")),!1!==e.new&&null!==w.form.id&&t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return c({})},children:Object(O.jsx)($.d,{text:"label_new",leftIcon:Object(O.jsx)(L.bb,{}),col:20})},"cmd_new")),"undefined"!==typeof e.help&&(t.push(Object(O.jsx)("div",{className:U.a.separator},"help_sep")),t.push(Object(O.jsx)("button",{className:"full medium".concat(" ",U.a.itemButton),onClick:function(){return b(e.help)},children:Object(O.jsx)($.d,{text:"label_help",leftIcon:Object(O.jsx)(L.db,{}),col:20})},"cmd_help"))),t}(j)}):Object(O.jsxs)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==v?v:""),children:["disabled"!==C.setting[0]?Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ","group_admin"===x?U.a.selectButton:U.a.groupButton),onClick:function(){return t("group_key","group_admin")},children:Object(O.jsx)($.d,{text:"title_admin",leftIcon:Object(O.jsx)(L.C,{}),col:20})}),"group_admin"===x?Object(O.jsxs)("div",{className:"row full".concat(" ",U.a.panelGroup),children:[Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"setting"})},children:Object(O.jsx)($.d,{text:"title_dbsettings",leftIcon:Object(O.jsx)(L.t,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"numberdef"})},children:Object(O.jsx)($.d,{text:"title_numberdef",leftIcon:Object(O.jsx)(L.S,{}),col:20})}),"disabled"!==C.audit[0]?Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"usergroup"})},children:Object(O.jsx)($.d,{text:"title_usergroup",leftIcon:Object(O.jsx)(L.P,{}),col:20})}):null,Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"ui_menu"})},children:Object(O.jsx)($.d,{text:"title_menucmd",leftIcon:Object(O.jsx)(L.hb,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"log"})},children:Object(O.jsx)($.d,{text:"title_log",leftIcon:Object(O.jsx)(L.N,{}),col:20})})]}):null]}):null,"disabled"!==C.setting[0]?Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ","group_database"===x?U.a.selectButton:U.a.groupButton),onClick:function(){return t("group_key","group_database")},children:Object(O.jsx)($.d,{text:"title_database",leftIcon:Object(O.jsx)(L.x,{}),col:20})}),"group_database"===x?Object(O.jsxs)("div",{className:"row full".concat(" ",U.a.panelGroup),children:[Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"deffield"})},children:Object(O.jsx)($.d,{text:"title_deffield",leftIcon:Object(O.jsx)(L.ob,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"groups"})},children:Object(O.jsx)($.d,{text:"title_groups",leftIcon:Object(O.jsx)(L.rb,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"place"})},children:Object(O.jsx)($.d,{text:"title_place",leftIcon:Object(O.jsx)(L.X,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"currency"})},children:Object(O.jsx)($.d,{text:"title_currency",leftIcon:Object(O.jsx)(L.z,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"tax"})},children:Object(O.jsx)($.d,{text:"title_tax",leftIcon:Object(O.jsx)(L.sb,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return n()},children:Object(O.jsx)($.d,{text:"title_company",leftIcon:Object(O.jsx)(L.L,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return r({type:"template"})},children:Object(O.jsx)($.d,{text:"title_report_editor",leftIcon:Object(O.jsx)(L.qb,{}),col:20})})]}):null]}):null,Object(O.jsxs)("div",{className:"row full",children:[Object(O.jsx)("button",{className:"full medium".concat(" ","group_user"===x?U.a.selectButton:U.a.groupButton),onClick:function(){return t("group_key","group_user")},children:Object(O.jsx)($.d,{text:"title_user",leftIcon:Object(O.jsx)(L.y,{}),col:20})}),"group_user"===x?Object(O.jsxs)("div",{className:"row full".concat(" ",U.a.panelGroup),children:[Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return s()},children:Object(O.jsx)($.d,{text:"title_program",leftIcon:Object(O.jsx)(L.Q,{}),col:20})}),Object(O.jsx)("button",{className:"full medium primary".concat(" ",U.a.panelButton),onClick:function(){return l(y)},children:Object(O.jsx)($.d,{text:"title_password",leftIcon:Object(O.jsx)(L.U,{}),col:20})})]}):null]})]})}),(function(e,t){return e.data===t.data&&e.module===t.module})),Y=Object(a.memo)((function(e){var t=e.data.side;return Object(O.jsx)("div",{className:"".concat(U.a.sidebar," ").concat("auto"!==t?t:"")})}),(function(e,t){return e.data===t.data})),Q=function(e){var t=Object(a.useContext)(w.b),r=t.data,n=t.setData,l=Object(A.e)(),i=Object(P.a)(),o=Object(q.a)(),s=Object(F.a)(),d=Object(M.h)(),c=Object(M.e)(),f=Object(z.a)(),g=Object(V.a)(),_=Object(a.useState)({username:r.login.username,login:r.login.data,forms:Object(R.a)(),showHelp:l.showHelp}),b=Object(x.a)(_,1)[0];switch(b.editState=function(){n("current",{edit:!b.data.edit})},b.changeData=function(e,t){n(b.data.module,Object(m.a)({},e,t))},b.quickView=function(e){n(b.data.module,{result:[],vkey:null,qview:e,qfilter:""}),n("current",{side:l.getSideBar()})},b.showBrowser=function(e,t){i.showBrowser(e,t)},b.editorNew=function(e){n("current",{side:l.getSideBar()},(function(){"shipping"===e.ttype?d({type:"transitem_delivery",filter:"",onChange:function(e){n("current",{modalForm:e})},onSelect:function(e){n("current",{modalForm:null},(function(){var t=e.id.split("/");o.checkEditor({ntype:t[0],ttype:t[1],id:parseInt(t[2],10),shipping:!0},"LOAD_EDITOR")}))}}):r.edit.current.form?o.checkEditor({fkey:e.fkey||r.edit.current.form_type,id:null},"SET_EDITOR_ITEM"):o.checkEditor({ntype:e.ntype||r.edit.current.type,ttype:e.ttype||r.edit.current.transtype,id:null},"LOAD_EDITOR")}))},b.editorDelete=function(){n("current",{side:l.getSideBar()},(function(){r.edit.current.form?o.deleteEditorItem({fkey:r.edit.current.form_type,table:r.edit.current.form_datatype,id:r.edit.current.form.id}):o.deleteEditor()}))},b.reportSettings=function(){n("current",{side:l.getSideBar()},(function(){o.checkEditor({},"REPORT_SETTINGS")}))},b.transCopy=function(e){n("current",{side:l.getSideBar()},(function(){"create"===e?o.checkEditor({},"CREATE_TRANS_OPTIONS"):c({title:l.getText("msg_warning"),message:l.getText("msg_copy_text"),infoText:l.getText("msg_delete_info"),onChange:function(e){n("current",{modalForm:e})},cbCancel:function(){n("current",{modalForm:null})},cbOK:function(){n("current",{modalForm:null},(function(){o.checkEditor({cmdtype:"copy",transcast:e},"CREATE_TRANS")}))}})}))},b.loadFormula=function(){n("current",{side:l.getSideBar()},(function(){o.checkEditor({},"LOAD_FORMULA")}))},b.setLink=function(e,t){n("current",{side:l.getSideBar()},(function(){var n="cash"===r.edit.current.transtype?r.edit.current.extend.id:r.edit.current.form.id;o.checkEditor({fkey:e,id:null,link_field:t,link_id:n},"SET_EDITOR_ITEM")}))},b.shippingAddAll=function(){n("current",{side:l.getSideBar()},(function(){var e=h()({},{$set:r.edit});e.dataset.shipping_items_.forEach((function(t){0!==t.diff&&!0!==t.edited&&(e=h()(e,{dataset:{shiptemp:{$push:[{id:t.item_id+"-"+t.product_id,item_id:t.item_id,product_id:t.product_id,product:t.product,partnumber:t.partnumber,partname:t.partname,unit:t.unit,batch_no:"",qty:t.diff,diff:0,oqty:t.qty,tqty:t.tqty}]}}}))})),o.setEditor({shipping:!0,form:"shiptemp_items"},e.template,e)}))},b.shippingCreate=function(){n("current",{side:l.getSideBar()},(function(){o.createShipping()}))},b.checkEditor=function(e,t,r){o.checkEditor(e,t,r)},b.editorBack=function(){n("current",{side:l.getSideBar()},(function(){if(r.edit.current.form)o.checkEditor({ntype:r.edit.current.type,ttype:r.edit.current.transtype,id:r.edit.current.item.id,form:r.edit.current.form_type},"LOAD_EDITOR");else if("transitem_shipping"===r.edit.current.form_type)o.checkEditor({ntype:r.edit.current.type,ttype:r.edit.current.transtype,id:r.edit.current.item.id,form:r.edit.current.form_type},"LOAD_EDITOR");else{var e=b.login.groups.filter((function(e){return e.id===r.edit.current.item.nervatype}))[0].groupvalue;o.checkEditor({ntype:e,ttype:null,id:r.edit.current.item.ref_id,form:r.edit.current.type},"LOAD_EDITOR")}}))},b.settingBack=function(e){n("current",{side:l.getSideBar()},(function(){if("password"===r.setting.type)return n(b.data.module,{group_key:"group_admin"},(function(){s.loadSetting({type:"setting"})}));s.checkSetting({type:e||r.setting.type},"LOAD_SETTING")}))},b.closePreview=function(){n("current",{side:l.getSideBar()},(function(){var e=h()(r[b.data.module],{$merge:{preview:null}});n(b.data.module,e)}))},b.changeOrientation=function(){n("current",{side:l.getSideBar()},(function(){var e="portrait"===b.preview.orient?"landscape":"portrait";if("template"===b.preview.template)f.showPreview(e);else{var t=h()(b.preview,{$merge:{orient:e,module:b.data.module}});g.loadPreview(t)}}))},b.prevPage=function(){b.preview.pageNumber>1&&n("current",{side:l.getSideBar()},(function(){var e=h()(b.preview,{$merge:{pageNumber:b.preview.pageNumber-1,module:b.data.module}});g.setPreviewPage(e)}))},b.nextPage=function(){b.preview.pageNumber<b.preview.totalPages&&n("current",{side:l.getSideBar()},(function(){var e=h()(b.preview,{$merge:{pageNumber:b.preview.pageNumber+1,module:b.data.module}});g.setPreviewPage(e)}))},b.setScale=function(e){n("current",{side:l.getSideBar()},(function(){var t=h()(b.preview,{$merge:{scale:e,module:b.data.module}});g.setPreviewPage(t)}))},b.prevTransNumber=function(){n("current",{side:l.getSideBar()},(function(){o.prevTransNumber()}))},b.nextTransNumber=function(){n("current",{side:l.getSideBar()},(function(){o.nextTransNumber()}))},b.saveEditor=function(){n("current",{side:l.getSideBar()},Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!r.edit.current.form){e.next=7;break}return e.next=4,o.saveEditorForm();case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,o.saveEditor();case 9:t=e.sent;case 10:t&&o.loadEditor({ntype:t.current.type,ttype:t.current.transtype,id:t.current.item.id,form:t.current.form_type});case 11:case"end":return e.stop()}}),e)}))))},b.searchItems=function(){n("current",{side:l.getSideBar()},(function(){g.searchQueue()}))},b.createReport=function(e){n("current",{side:l.getSideBar()},(function(){g.createReport(e)}))},b.exportAll=function(){n("current",{side:l.getSideBar()},(function(){g.exportQueueAll()}))},b.eventExport=function(){n("current",{side:l.getSideBar()},(function(){o.exportEvent()}))},b.printReport=function(){n("current",{side:l.getSideBar()},(function(){g.printQueue()}))},b.bookmarkSave=function(e){n("current",{side:l.getSideBar()},(function(){l.saveBookmark(e)}))},b.settingLoad=function(e){n("current",{side:l.getSideBar()},(function(){s.loadSetting(e)}))},b.setPassword=function(e){n("current",{side:l.getSideBar()},(function(){!e&&r.edit.current&&(e=r.edit.dataset[r.edit.current.type][0].username),s.setPasswordForm(e)}))},b.loadCompany=function(){n("current",{side:l.getSideBar()},(function(){o.checkEditor({ntype:"customer",ttype:null,id:1},"LOAD_EDITOR")}))},b.setProgram=function(){n("current",{side:l.getSideBar()},(function(){s.setProgramForm()}))},b.settingSave=function(){n("current",{side:l.getSideBar()},Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("password"!==r.setting.type){e.next=4;break}s.changePassword(),e.next=8;break;case 4:return e.next=6,s.saveSetting();case 6:(t=e.sent)&&s.loadSetting({type:t.type,id:t.current.form.id});case 8:case"end":return e.stop()}}),e)}))))},b.settingDelete=function(){n("current",{side:l.getSideBar()},(function(){s.deleteSetting(r.setting.current.form)}))},b.settingNew=function(){n("current",{side:l.getSideBar()},(function(){s.checkSetting({type:r.setting.type,id:null},"LOAD_SETTING")}))},b.templatePrint=function(){n("current",{side:l.getSideBar()},(function(){f.showPreview()}))},b.templateSave=function(){n("current",{side:l.getSideBar()},(function(){f.saveTemplate(!0)}))},b.templateCreate=function(){n("current",{side:l.getSideBar()},(function(){s.createTemplate(r.setting)}))},b.templateNewBlank=function(){n("current",{side:l.getSideBar()},(function(){s.checkSetting({type:"template"},"NEW_BLANK")}))},b.templateNewSample=function(){n("current",{side:l.getSideBar()},(function(){s.checkSetting({type:"template"},"NEW_SAMPLE")}))},b.template2json=function(){n("current",{side:l.getSideBar()},(function(){f.exportTemplate()}))},b.data=r.current,b.module=r[b.data.module],b.preview=r[b.data.module].preview,b.data.module){case"search":return Object(O.jsx)(K,Object(N.a)({},b));case"edit":return r.edit.preview?Object(O.jsx)(G,Object(N.a)({},b)):Object(O.jsx)(W,Object(N.a)({},b));case"setting":return r.setting.preview?Object(O.jsx)(G,Object(N.a)({},b)):Object(O.jsx)(J,Object(N.a)({},b));case"help":default:return Object(O.jsx)(Y,Object(N.a)({},b))}},Z=Object(a.lazy)((function(){return r.e(6).then(r.bind(null,627))})),ee={login:Object(a.lazy)((function(){return r.e(5).then(r.bind(null,628))})),search:Z,edit:Object(a.lazy)((function(){return r.e(3).then(r.bind(null,629))})),setting:Object(a.lazy)((function(){return r.e(4).then(r.bind(null,630))})),help:Z},te=function(e){Object(b.a)(r,e);var t=Object(y.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(g.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll.bind(this),{passive:!0}),window.addEventListener("resize",this.onResize.bind(this),{passive:!0});var e=this.getPath(),t=Object(x.a)(e,2),r=t[0],n=t[1];"hash"===r&&n.access_token?this.setHashToken(n):"search"===r&&n.code?this.setCodeToken(n):(this.loadConfig(),this.onResize())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll.bind(this)),window.removeEventListener("resize",this.onScroll.bind(this))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(w.a,{value:{data:this.state,setData:this.setData},children:[Object(O.jsx)(a.Suspense,{fallback:Object(O.jsx)(S,{}),children:function(){var t=e.state,r=t.login,n=t.current;return r.data?Object(O.jsxs)("div",{className:"main".concat(" ",n.theme),children:[Object(O.jsx)(B,{}),Object(O.jsx)(Q,{}),Object(a.createElement)(ee[n.module],{name:n.module}),n.modalForm?n.modalForm:null]}):Object(a.createElement)(ee.login)}()}),this.state.current.request?Object(O.jsx)(S,{}):null]})}}]),r}(a.Component),re=r(137),ne=r(290),ae=r(289),le={key:"en",en:"English",title_login:"Nervatura Client",login_username:"Username",login_password:"Password",login_database:"Database",login_lang:"Language",login_login:"Login",login_server:"Server URL",login_engine_err:"Invalid database type!",login_version_err:"Invalid service version!",menu_side:"Menu",menu_hide:"Hide",menu_search:"Search",menu_edit:"Edit",menu_setting:"Setting",menu_bookmark:"Bookmark",menu_help:"Help",menu_logout:"Logout",title_search:"Nervatura Search",short_search:"Search",title_edit:"Nervatura Edit",short_edit:"Edit",title_setting:"Nervatura Setting",short_setting:"Setting",title_bookmark:"Nervatura Bookmark",short_bookmark:"Bookmark",title_help:"Nervatura Help",short_help:"Help",title_menu:"Menu",title_hide:"Hide",quick_search:"Quick Search",browser_transitem:"Document Browser",browser_transpayment:"Payment Browser",browser_transmovement:"Stock Browser",browser_customer:"Customer Browser",browser_product:"Product Browser",browser_employee:"Employee Browser",browser_tool:"Tool Browser",browser_project:"Project Browser",browser_rate:"Rate Browser",transitem_transnumber:"Document No.",transitem_transtype:"Doc.Type",transitem_custname:"Customer Name",transitem_invoice_transnumber:"Document No.",transitem_invoice_transtype:"Doc.Type",transitem_invoice_custname:"Customer Name",transitem_invoice_curr:"Currency",transitem_delivery_transnumber:"Document No.",transitem_delivery_transtype:"Doc.Type",transitem_delivery_custname:"Customer Name",transmovement_transnumber:"Document No.",transmovement_transtype:"Doc.Type",transmovement_transdate:"Date",transpayment_transnumber:"Document No.",transpayment_transtype:"Doc.Type",transpayment_place:"Place",transpayment_curr:"Currency",search_customer:"CUSTOMER",search_employee:"EMPLOYEE",search_payment:"PAYMENT",search_place:"PLACE",search_place_bank:"BANK ACCOUNT",search_place_cash:"PETTY CASH",search_product:"PRODUCT",search_product_item:"PRODUCT",search_project:"PROJECT",search_tool:"TOOL",search_transitem:"DOCUMENT",search_transitem_invoice:"INVOICE",search_transitem_delivery:"SHIPPING",search_transmovement:"STOCK CONTROL",search_transpayment:"PAYMENT",search_place_warehouse:"WAREHOUSE",search_office:"BACK OFFICE",title_printqueue:" REPORT QUEUE",title_rate:"INTEREST AND RATE",title_servercmd:"SERVER SHORTCUTS",search_report:"REPORT",search_servercmd:"SERVER SHORTCUTS",title_offer:"OFFER",new_offer:"NEW OFFER",title_order:"ORDER",new_order:"NEW ORDER",title_worksheet:"WORKSHEET",new_worksheet:"NEW WORKSHEET",title_rent:"RENTAL",new_rent:"RENTAL",title_invoice:"INVOICE",new_invoice:"INVOICE",title_receipt:"RECEIPT",new_receipt:"RECEIPT",title_bank:"BANK STATEMENT",new_bank:"NEW BANK STATEMENT",title_cash:"PETTY CASH",new_cash:"NEW PETTY CASH",title_delivery:"DELIVERY",new_delivery:"NEW DELIVERY",title_shipping:"SHIPPING",title_inventory:"CORRECTION",new_inventory:"NEW CORRECTION",title_transfer:"STOCK TRANSFER",new_transfer:"NEW STOCK TRANSFER",title_waybill:"TOOL MOVEMENT",new_waybill:"NEW TOOL MOVEMENT",title_production:"PRODUCTION",new_production:"NEW PRODUCTION",title_formula:"FORMULA",new_formula:"NEW FORMULA",title_resources:"RESOURCES",title_customer:"CUSTOMER",new_customer:"NEW CUSTOMER",title_product:"PRODUCT",new_product:"NEW PRODUCT",title_employee:"EMPLOYEE",new_employee:"NEW EMPLOYEE",title_tool:"TOOL",new_tool:"NEW TOOL",title_project:"PROJECT",new_project:"NEW PROJECT",title_report:"REPORT",title_admin:"ADMIN",title_dbsettings:"DEFAULT SETTINGS",title_numberdef:"DOC. NUMBERING",title_usergroup:"ACCESS RIGHTS",title_printer:"PRINT PDF",title_menucmd:"MENU SHORTCUTS",title_log:"DATABASE LOG",title_database:"DATABASE",title_deffield:"METADATA",title_groups:"GROUPS",title_place:"PLACE",title_currency:"CURRENCY",title_tax:"TAX",title_company:"COMPANY",title_report_editor:"REPORT EDITOR",title_user:"USER",title_program:"PROGRAM SETTINGS",title_password:"CHANGE PASSWORD",title_event:"EVENT",title_history:"HISTORY",title_bookmark_list:"BOOKMARK LIST",browser_views:"Views",browser_columns:"Columns",browser_total:"Total",browser_filter:"Filter",browser_search:"Search",browser_bookmark:"Bookmark",browser_export:"Export",browser_help:"Help",browser_result:"record(s) found",view_sorting:"SORTING",view_orderby:"ORDER BY",view_label:"VALUE",view_value:"INFO",view_info:"MORE INFO",placeholder_search:"Search",placeholder_filter:"Filter",label_back:"BACK",label_search:"SEARCH",label_save:"SAVE",label_delete:"DELETE",label_edit:"EDIT",label_new:"NEW",label_report:"REPORT",label_bookmark:"BOOKMARK",label_help:"HELP",label_setting:"SETTING",label_preview:"REPORT PREVIEW",label_export_all:"EXPORT ALL",label_export_all_selected:"EXPORT ALL SELECTED ITEMS",label_export_pdf:"PDF EXPORT",label_export_xml:"XML EXPORT",label_export_csv:"CSV EXPORT",label_export_event:"iCAL EXPORT",label_barcode_scan:"BARCODE SCAN",label_export_data:"DATA EXPORT",label_print:"PRINT PDF",label_printqueue:"REPORT QUEUE",label_groups:"GROUP",label_previous:"PREVIOUS",label_next:"NEXT",label_move_up:"MOVE UP",label_move_down:"MOVE DOWN",label_add_item:"ADD ELEMENT",label_copy:"COPY FROM",label_create:"CREATE FROM",label_corrective:"CORRECTIVE",label_deleted:"DELETED",label_cancellation:"CANCELLATION",label_formula:"LOAD FORMULA",label_closed:"CLOSED",label_readonly:"READ ONLY",label_link_invoice:"LINK TO INVOICE",label_yes:"YES",label_no:"NO",label_parameters:"PARAMETERS",title_pattern:"TEMPLATES",pattern_default:"SET DEFAULT",pattern_load:"LOAD FROM ...",pattern_save:"SAVE TO ...",pattern_new:"NEW TEMPLATE",pattern_delete:"DELETE",printqueue_head_title:"OPTIONS AND DATA FILTER",printqueue_selected_items:"SELECTED ITEMS",printqueue_type:"Report Type",printqueue_startdate:"Start Date",printqueue_enddate:"End Date",printqueue_transnumber:"Document No.",printqueue_username:"Username",printqueue_server_printer:"Server printer",printqueue_mode:"Export Mode",printqueue_mode_print:"PRINT",printqueue_mode_pdf:"PDF",printqueue_mode_xml:"XML",printqueue_copies:"Copies",customer_view:"Customer Data",customer_custnumber:"Customer No.",customer_custtype:"Customer Type",customer_custname:"Customer Name",customer_taxnumber:"Taxnumber",customer_account:"Account No.",customer_inactive:"Inactive",customer_notax:"Tax-free",customer_creditlimit:"Credit line",customer_terms:"Payment per.",customer_discount:"Discount%",customer_notes:"Comment",customer_address:"Address",customer_city:"City",customer_street:"Street",fields_view:"Metadata",fields_deffield_missing:"No data was selected!",fields_fieldname:"Fieldname",fields_fielddef:"Description",fields_value:"Value",fields_notes:"Other data",contact_view:"Contact Info",contact_firstname:"Firstname",contact_surname:"Surname",contact_status:"Status",contact_phone:"Phone",contact_fax:"Other",contact_mobil:"Mobile",contact_email:"Email",contact_notes:"Comment",address_view:"Address Data",address_country:"Country",address_state:"State",address_zipcode:"Zipcode",address_city:"City",address_street:"Street",address_notes:"Comment",event_view:"Event",event_calnumber:"Event No.",event_group:"Group",event_fromdate:"Start Date",event_fromtime:"Start Time",event_todate:"End Date",event_totime:"End Time",event_subject:"Subject",event_place:"Place",event_description:"Description",document_view:"Documents",document_transtype:"Doc.Type",document_direction:"Direction",document_transcast:"Doc.State",document_transnumber:"Doc.No.",document_ref_transnumber:"Reference No.",document_crdate:"Date",document_transdate:"Doc./Start Date",document_transdate2:"Date",document_duedate:"Due/End Date",document_department:"Department",document_paidtype:"Payment",document_curr:"Currency",document_notax:"Tax-free",document_paid:"Released/Paid",document_acrate:"Acc.Rate",document_notes:"Comment",document_intnotes:"Internal notes",document_transtate:"State",document_closed:"Closed",document_deleted:"Deleted",state_ok:"OK",state_back:"BACK",state_new:"NEW",paidtype_transfer:"TRANSFER",paidtype_cash:"CASH",paidtype_credit_card:"CREDIT CARD",fnote_view:"Notes",bank_crdate:"Creation",bank_transdate:"Account Date",cash_out:"OUT",cash_in:"IN",invoice_view:"Invoice",invoice_transnumber:"Invoice No.",invoce_direction:"Invoice Type",invoice_out:"CUSTOMER",invoice_in:"SUPPLIER",invoice_crdate:"Creation",invoice_transdate:"Invoice Date",invoice_duedate:"Due Date",invoice_paid:"Paid",offer_transnumber:"Offer No.",offer_direction:"Offer Type",offer_out:"CUSTOMER",offer_in:"SUPPLIER",offer_crdate:"Creation",offer_transdate:"Offer Date",offer_duedate:"Validity Date",offer_acrate:"Payment Days",offer_paid:"Released",order_transnumber:"Order No.",order_direction:"Order Type",order_out:"CUSTOMER",order_in:"SUPPLIER",order_crdate:"Creation",order_transdate:"Order Date",order_duedate:"Delivery Date",order_acrate:"Payment Days",order_paid:"Released",delivery_direction:"Delivery Type",delivery_out:"SHIPPING OUT",delivery_in:"SHIPPING IN",delivery_transfer:"TRANSFER",delivery_crdate:"Creation",delivery_transdate:"Shipping",delivery_place:"Warehouse",receipt_view:"Receipt",receipt_transnumber:"Receipt No.",receipt_direction:"Receipt Type",receipt_out:"CUSTOMER",receipt_in:"SUPPLIER",receipt_crdate:"Creation",receipt_transdate:"Receipt Date",receipt_duedate:"Due Date",receipt_paid:"Paid",rental_transnumber:"Contract No.",rental_direction:"Rent Type",rent_out:"CUSTOMER",rent_in:"SUPPLIER",rental_crdate:"Creation",rental_transdate:"Start Date",rental_duedate:"End Date",rental_acrate:"Payment Days",rental_paid:"Released",worksheet_transnumber:"Worksheet No.",worksheet_direction:"Worksheet Type",worksheet_out:"CUSTOMER",worksheet_in:"SUPPLIER",worksheet_crdate:"Creation",worksheet_transdate:"Start Date",worksheet_duedate:"End Date",worksheet_acrate:"Payment Days",worksheet_paid:"Released",trans_wsdistance:"Distance (km)",trans_wsrepair:"Repair time (h)",trans_wstotal:"Total time (h)",trans_wsnote:"Justification",trans_reholiday:"Holidays",trans_rebadtool:"Bad machine",trans_reother:"Other non-eligible",trans_rentnote:"Justification",production_transdate:"Start Date",production_duedate:"End Date",waybill_out:"OUT",waybill_in:"IN",waybill_seltype:"Reference type",waybill_reference:"Reference",waybill_transitem:"Document",waybill_customer:"Customer",waybill_employee:"Employee",waybill_crdate:"Creation",item_view:"Document Row",item_transdate:"Date",item_description:"Description",item_unit:"Unit",item_qty:"Quantity",item_fxprice:"Unit Price",item_netamount:"Net Amount",item_discount:"Discount",item_taxcode:"Tax Rate",item_vatamount:"VAT",item_amount:"Amount",item_deposit:"Deposit/Option",item_deposit_1:"Deposit",item_deposit_2:"Option",item_actionprice:"Action Price",item_ownstock:"Own Stock",payment_view:"Payment",payment_paiddate:"Payment Date",payment_paiddate2:"Date",payment_place:"BankAcc/Petty cash",payment_place_cash:"Petty cash",payment_place_bank:"Bank Account",payment_curr:"Currency",payment_amount:"Amount",payment_description:"Description",payment_paidnumber:"Payment No.",payment_pcurr:"Payment Curr.",payment_invnumber:"Invoice No.",payment_icurr:"Invoice Curr.",payment_iamount:"Invoice Amount",payment_rate:"Rate",payment_invoices:"Invoices",payment_item:"Item No.",payment_expense:"Expense",payment_income:"Income",payment_balance:"Balance",shipping_view:"Shipping",shipping_item_product:"Item Product",shipping_movement_product:"Shipped Product",shipping_product:"Product",shipping_sqty:"Shipping Quantity",shipping_items:"Document Items",shipping_create:"Create Delivery",shipping_delivery:"Delivery Items",shipping_qty:"Doc. qty",shipping_turnover:"Turnover",shipping_diff:"Difference",shipping_stock_label:"STOCK",shipping_add_label:"ADD",shipping_all_label:"ALL DIFFERENCE",shipping_create_label:"CREATE",shipping_stocks:"PRODUCT STOCKS",shipping_stock:"Stock",shipping_lastdate:"Last Date",inventory_view:"Inventory",inventory_warehouse:"Warehouse",inventory_sqty:"Quantity",inventory_posdate:"Inventory Date",movement_view:"Product Movement",toolmovement_view:"Tool Movement",movement_shippingdate:"Shipping Date",movement_shippingdate2:"Shipping",movement_place:"Warehouse",movement_target:"Target warehouse",movement_batchnumber:"Batch No.",movement_qty:"Quantity",movement_refnumber:"Reference No.",movement_refcustomer:"Ref.Customer",movement_mvnotes:"Additional information",formula_view:"Formula",formula_type:"Type",formula_shared:"Not Split",employee_view:"Employee Data",employee_empnumber:"Employee No.",employee_username:"Username",employee_startdate:"Start Date",employee_enddate:"End Date",employee_usergroup:"Usergroup",employee_department:"Department",employee_inactive:"Inactive",employee_notes:"Comment",employee_firstname:"Firstname",employee_surname:"Surname",report_repname:"Name",report_label:"Rep. Label",report_description:"Description",servercmd_description:"Description",product_view:"Product Data",product_partnumber:"Product No.",product_protype:"Product Type",product_description:"Product Name",product_unit:"Unit",product_tax:"Tax",product_webitem:"WEB Item",product_inactive:"Inactive",product_notes:"Comment",product_item_partnumber:"Product No.",product_item_protype:"Product Type",product_item_description:"Product Name",product_item_tax:"Tax",barcode_view:"Barcode",barcode_unit:"Unit",barcode_description:"Description",barcode_barcodetype:"Type",barcode_qty:"Quantity",barcode_defcode:"Default",barcode_code:"Barcode",price_view:"Price",discount_view:"Discount",price_vendor:"Supplier",price_custname:"Customer Name",price_custgroup:"Customer Group",price_validfrom:"Start Date",price_validto:"End Date",price_curr:"Currency",price_qty:"Quantity",price_pricevalue:"Price",price_calcmode:"Calculation",price_limit:"Limit",price_discount:"Discount",project_view:"Projects",project_pronumber:"Project No.",project_description:"Description",project_customer:"Customer",project_startdate:"Start Date",project_enddate:"End Date",project_inactive:"Inactive",project_notes:"Comment",place_planumber:"Place No.",place_placetype:"Type",place_description:"Description",place_curr:"Currency",place_notes:"Comment",place_inactive:"Inactive",place_bank_planumber:"Place No.",place_bank_description:"Description",place_bank_curr:"Currency",place_cash_planumber:"Place No.",place_cash_description:"Description",place_cash_curr:"Currency",place_warehouse_planumber:"Place No.",place_warehouse_description:"Description",tool_view:"Tools",tool_serial:"Serial",tool_description:"Description",tool_product:"Product",tool_toolgroup:"Group",tool_state:"State",tool_inactive:"Inactive",tool_notes:"Comment",rate_view:"Interest and Exchange Rate",rate_ratetype:"Type",rate_ratedate:"Date",rate_curr:"Currency",rate_ratevalue:"Value",rate_rategroup:"Group",rate_planumber:"Account No.",numberdef_numberkey:"Code",numberdef_prefix:"Prefix",numberdef_curvalue:"Value",numberdef_isyear:"Year",numberdef_sep:"Separator",numberdef_sep_short:"Sep.",numberdef_len:"Length",numberdef_description:"Description",numberdef_visible:"Visible",numberdef_readonly:"Read-only",groups_groupname:"Group Type",groups_groupvalue:"Group",groups_description:"Description",groups_inactive:"Inactive",groups_transfilter:"Data filter",audit_nervatype:"Type",audit_subtype:"Subtype",audit_inputfilter:"Filter",audit_supervisor:"Supervisor",menucmd_menukey:"Menukey",menucmd_description:"Description",menucmd_modul:"Modul",menucmd_icon:"Icon",menucmd_funcname:"Funcname",menucmd_method:"Method",menucmd_address:"Address",menufields_fieldname:"Name",menufields_description:"Description",menufields_fieldtype:"Type",menufields_orderby:"Order",deffield_fieldname:"Data GUID",deffield_nervatype:"Data Type",deffield_subtype:"???",deffield_fieldtype:"Value Type",deffield_description:"Description",deffield_valuelist:"Value list (row separator: | sign)",deffield_addnew:"Auto create",deffield_visible:"Visible",deffield_readonly:"Read-only",currency_curr:"Currency",currency_description:"Description",currency_digit:"Digit",currency_defrate:"Round",currency_cround:"Def.Rate",tax_taxcode:"Code",tax_description:"Description",tax_rate:"Rate",tax_inactive:"Inactive",log_crdate:"Date",log_fromdate:"Start Date",log_todate:"End Date",log_empnumber:"Employee No.",log_logstate:"State",log_nervatype:"Type",log_refnumber:"Doc.No./Description",password_username:"Username",password_new:"New password",password_verify:"Verify password",program_page:"Data count/page",program_history:"History size",program_export_sep:"Export data sep.",program_page_size:"Default paper size",program_date_format:"Date representation",program_auto_focus:"Auto focus",program_barcode_scanner:"Barcode Scanner",program_disabled_scanner:"Missing or disabled Barcode Scanner.",program_calendar:"Calendar location",report_previous:"PREVIOUS PAGE",report_next:"NEXT PAGE",report_portrait:"Portrait",report_landscape:"Landscape",report_full_width:"FULL WIDTH",report_missing_template:"Output template is not specified!",report_add_groups:"The document has been added to the Report Queue!",report_nodata:"There are no data in the report!",report_page:"Page",report_orientation:"Orientation",report_size:"Size",report_copy:"Copy",template_title:"REPORT TEMPLATE",template_label_template:"TEMPLATE",template_label_new:"NEW TEMPLATE",template_label_list:"LIST",template_label_map:"MAP",template_label_data:"DATA",template_label_new_data:"NEW DATA",template_data_name:"Name",template_data_type:"Data type",template_data_columns:"Columns names (separated by commas)",template_missing_columns:"Missing column names!",template_new_blank:"NEW BLANK",template_new_sample:"NEW SAMPLE",template_save:"SAVE TEMPLATE",template_create_from:"CREATE FROM",template_export_json:"JSON EXPORT",template_export_xml:"XML EXPORT",template_preview_data:"PREVIEW DATA",template_preview_input:"Enter a valid docname No.:",template_preview_invalid:"Incorrect or non-existing docname No.:",msg_loader_text:"Waiting for the response...",msg_bookmark_new:"New Bookmark",msg_bookmark_name:"Bookmark name:",msg_pattern_missing:"Missing template name!",msg_pattern_new:"New Template",msg_pattern_name:"Template name:",msg_pattern_default:"Do you want to make the template default?",msg_pattern_save:"Do you want to save the text as a template?",msg_editor_invalid:"The data are invalid or deleted!",msg_empty_password:"Empty password:<br> Please change after the first login!",msg_input_invalid:"Invalid or empty value:",msg_back:"Back",msg_cancel:"Cancel",msg_copy_text:"Are you sure you want to copy this document?",msg_create_title:"Create a new document",msg_create_new:"New type",msg_create_deduction:"Invoiced amount deduction",msg_create_delivery:"Create based on delivery",msg_create_disabled_err:"Disabled type:",msg_create_cancellation_err1:"Cancelled document, copy cannot be made!",msg_create_cancellation_err2:"To create a cancellation document the original should be changed to Deleted!",msg_create_cancellation_err3:"Already existing document No.: ",msg_create_amendment_err:"Deleted document, copy cannot be made!",msg_create_setref:"Set Reference No.",msg_dirty_text:"The data has changed, but has not been saved!",msg_dirty_info:"Save changes?",msg_delete_info:"This action cannot be undone.",msg_delete_text:"Are you sure you want to delete these data?",msg_delete:"Delete",msg_close_text:"Are you sure you want to close this document?",msg_input_title:"Enter the value:",msg_new_fieldname:"New fieldname",msg_new_template_info:"Are you sure you want to continue?",msg_new_template_text:"If you continue, all the changes made will be lost!",msg_no_data:"No data available",msg_ok:"OK",msg_save:"Save",msg_value_exists:"The value invalid or already exists!",msg_warning:"Warning!",msg_successful:"Successful action!",msg_integrity_err:"Integrity error. The object can not be deleted!",msg_required:"Required data:",ms_login_empty_server:"Invalid server URL!",ms_password_username:"Missing username!",ms_password_pswerr:"Password fields don't match!",msg_password_ok:"The password was successfully changed!",ms_login_invalid_engine:"Invalid database type!",ms_diff_warehouse_err:"The warehouse and the target warehouse cannot be the same!",ms_no_stock:"The product is not in stock.",ms_missing_formula:"Missing product formula template!",ms_load_formula:"Will delete all the items and reload based on the formula.",ms_continue_warning:"Are you sure you want to continue?",ms_disabled:"Disabled",ms_disabled_command:"Disabled command (local database mode)!",ms_enabled:"Enabled",ms_server_response:"Response",ms_export_invalid:"Invalid export mode: ",ms_barcode_invalid:"Invalid barcode: ",ms_database_invalid:"The database does not exist. Do you want to create it?",ms_database_demo:"Create a DEMO database (optional)",ms_database_demo_info:"For testing you can fill in the database with some dummy data.",ms_database_ok:"The database created successfully!",ms_database_error:"Error when creating the database!",ms_database_connect_error:"Database connect error",msg_template:"Output Template",msg_report_prop:"Orientation/Size/Copy",msg_print:"Print PDF",msg_export_pdf:"PDF Export",msg_export_xml:"XML Export",msg_printqueue:"Report Queue","info_font-style":"'' (default), 'bold', 'italic', 'bolditalic'",info_color:"value in hexadecimal (example: #A0522D) or in decimal (example: 10506797)","info_border-color":"gray color (in range from 0 to 255)","info_background-color":"gray color (in range from 0 to 255)",info_hgap:"default gap between these two elements",info_visible:"table data source name - only if there is data",info_src:"an inlined image (jpg/png), encoded in base64 (or a valid databind key)",info_width:"number or percentage",info_name:"XML output node name",info_value:"static text or databind value",info_align:"left (default value); right; center;",info_multiline:"if 'true', text printed with line breaks (default 'false')","info_code-type":"'ITF' (Interleaved 2of5), 'CODE_39' (Code 39), CODE_128 (Code 128), EAN or QR",info_barcode_value:"barcode text","info_visible-value":"1 (show barcode text) or 0 (default)",info_optional:"optional",info_height:"vertical gap",info_height_image:"Default: height of parent Row. Image width will be calculated from the height dimension so that the aspect ratio is maintained.",info_gap:"horizontal line (greater than 0 = double line)",info_html:"The text specified here can include Basic HTML format elements (bold, italic, etc.) Experimental!",info_datagrid_name:"XML output node name (only details section)",info_databind:"table data source name",info_merge:"1(all fields will be displayed in a single column) or 0(default)",info_fieldname:"dictonary key (special value: counter)",info_label:"column caption",info_thousands:"character, only number format",info_digit:"number, only number format",info_footer:"static text or databind value"},ie=[["bg","bg"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["is","is"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["nb","nb"],["nl","nl"],["nn","nn"],["pl","pl"],["pt","pt"],["ro","ro"],["ru","ru"],["sk","sk"],["sv","sv"],["th","th"],["tr","tr"],["uz","uz"],["vi","vi"],["zh","zh"]];ie.forEach((function(e){Object(re.registerLocale)(e[0],ne[e[0]])}));var oe={session:{version:ae.a,locales:n,configServer:!0,proxy:"http://localhost:5000",apiPath:"/api",engines:["sqlite","sqlite3","mysql","postgres","mssql"],service:["dev","5.0.0-beta.2"],helpPage:"https://nervatura.github.io/nervatura/docs/"},ui:{toastTime:7e3,paginationPage:10,selectorPage:5,history:5,calendar:"en",calendarLocales:ie,dateFormat:"yyyy-MM-dd",dateStyle:[["yyyy-MM-dd","yyyy-MM-dd"],["dd-MM-yyyy","dd-MM-yyyy"],["MM-dd-yyyy","MM-dd-yyyy"]],timeFormat:"HH:mm",timeIntervals:15,searchSubtract:3,filter_opt_1:[["===","EQUAL"],["==N","IS NULL"],["!==","NOT EQUAL"]],filter_opt_2:[["===","EQUAL"],["==N","IS NULL"],["!==","NOT EQUAL"],[">==",">="],["<==","<="]],export_sep:";",page_size:"a4",page_orient:"portrait",printqueue_mode:[["print","printqueue_mode_print"],["pdf","printqueue_mode_pdf"],["xml","printqueue_mode_xml"]],printqueue_type:[["customer","title_customer"],["product","title_product"],["employee","title_employee"],["tool","title_tool"],["project","title_project"],["order","title_order"],["offer","title_offer"],["invoice","title_invoice"],["receipt","title_receipt"],["rent","title_rent"],["worksheet","title_worksheet"],["delivery","title_delivery"],["inventory","title_inventory"],["waybill","title_waybill"],["production","title_production"],["formula","title_formula"],["bank","title_bank"],["cash","title_cash"]],report_orientation:[["portrait","report_portrait"],["landscape","report_landscape"]],report_size:[["a3","A3"],["a4","A4"],["a5","A5"],["letter","Letter"],["legal","Legal"]],rtf_inline:[{label:"Bold",style:"BOLD",icon:L.g},{label:"Italic",style:"ITALIC",icon:L.O},{label:"Underline",style:"UNDERLINE",icon:L.xb}],rtf_block:[{label:"UL",style:"unordered-list-item",icon:L.T},{label:"OL",style:"ordered-list-item",icon:L.S}]},current:{home:"search",module:"login",side:"auto",lang:localStorage.getItem("lang")&&n[localStorage.getItem("lang")]?localStorage.getItem("lang"):"en",theme:localStorage.getItem("theme")||"light"},login:{username:localStorage.getItem("username")||"",database:localStorage.getItem("database")||"",server:localStorage.getItem("server")&&""!==localStorage.getItem("server")?localStorage.getItem("server"):"nervatura.github.io"!==window.location.hostname?window.location.origin+"/api":""},search:{group_key:"transitem",result:[],vkey:null,qview:"transitem",qfilter:"",filters:{},columns:{},browser_filter:!0},edit:{dataset:{},current:{},dirty:!1,form_dirty:!1,preview:null},setting:{dirty:!1,result:[]},bookmark:{history:null,bookmark:[]}},se=function(e){Object(b.a)(r,e);var t=Object(y.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).state=h()(oe,{$merge:e.data||{}}),n.setData=n.setData.bind(Object(_.a)(n)),n}return Object(g.a)(r,[{key:"setData",value:function(e,t,r){e&&this.state[e]&&"object"===typeof t&&null!==t?this.setState(Object(m.a)({},e,h()(this.state[e],{$merge:t})),(function(){r&&r()})):e&&this.setState(Object(m.a)({},e,t),(function(){r&&r()}))}},{key:"getPath",value:function(){var e=function(e){var t={};return e.split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),t};if(window.location.hash)return["hash",e(window.location.hash.substring(1))];if(window.location.search)return["search",e(window.location.search.substring(1))];var t=window.location.pathname.substring(1).split("/");return[t[0],t.slice(1)]}},{key:"onResize",value:function(){this.state.current.clientHeight===window.innerHeight&&this.state.current.clientWidth===window.innerWidth||this.setData("current",{clientHeight:window.innerHeight,clientWidth:window.innerWidth})}},{key:"onScroll",value:function(){var e=document.body.scrollTop>100||document.documentElement.scrollTop>100;this.state.current.scrollTop!==e&&this.setData("current",{scrollTop:e})}},{key:"setHashToken",value:function(e){var t=e.path?"/"+e.path:"/";localStorage.setItem("token",e.access_token||null),window.location.assign(t)}},{key:"setCodeToken",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var r,n,a,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadConfig(!0);case 2:if(!(r=e.sent)||!r.provider_token_callback){e.next=19;break}return n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({code:t.code,client_id:r.provider_client_id||"missing_config",client_secret:r.provider_client_secret||"missing_config"})},e.prev=5,e.next=8,Object(A.c)(r.provider_token_callback,n);case 8:(a=e.sent).access_token&&(l=t.path?"/"+t.path:"/",localStorage.setItem("token",a.access_token||null),window.location.assign(l)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),!r.provider_token_login||""===r.provider_token_login){e.next=16;break}return e.abrupt("return",window.location.assign(r.provider_token_login+"&state="+Object(A.b)()));case 16:this.setData("error",e.t0);case 17:e.next=20;break;case 19:this.setData("error",{id:"error_unauthorized",type:"error",message:this.getText("error_unauthorized","Unauthorized user")});case 20:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadConfig",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h()({},{$merge:this.state.session}),e.prev=1,e.next=4,Object(A.c)(this.state.login.server+"/config",{method:"GET",headers:{"Content-Type":"application/json"}});case 4:if((n=e.sent).locales&&"object"==typeof n.locales&&(r=h()(r,{locales:{$merge:n.locales}})),!t){e.next=8;break}return e.abrupt("return",r);case 8:this.setData("session",r),localStorage.getItem("lang")&&r.locales[localStorage.getItem("lang")]&&localStorage.getItem("lang")!==this.state.current.lang&&this.setData("current",{lang:localStorage.getItem("lang")}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.setData("error",e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(te);o.a.render(Object(O.jsx)(se,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");s?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):d(t,e)}))}}()},62:function(e,t,r){"use strict";r.d(t,"a",(function(){return C}));var n=r(11),a=r.n(n),l=r(17),i=r(14),o=r(13),s=r(6),d=r(1),c=r.n(d),u=r(28),p=r(64),m=r(285),f=r(57),g=r(30),_=r(283),b=r(88),y=r(24),v=r(18),h=r(25),x=r(86),w=r(79),j=r(80),T=r(81),E=r(136),C=function(){var e=Object(s.useContext)(y.b),t=e.data,r=e.setData,n=Object(v.e)(),d=Object(T.a)(),C=Object(T.b)(),O=Object(w.a)(),k=Object(j.a)(),S=Object(h.e)(),N=Object(h.h)(),A=Object(h.g)(),q=Object(h.d)(),P=Object(h.j)(),F=Object(h.k)(),M=Object(h.m)(),D=Object(E.a)(),I=function(e,t){if(e=parseFloat(e),isNaN(e))return e;t||(t=0);var r=Math.pow(10,t);return Math.floor(e*r+(e*r*10%10>=5?1:0))/r},$=function(e,a,l){var s=c()({},{$set:l||t.edit});if("undefined"===typeof s.dataset[s.current.type]||0===s.dataset[s.current.type].length)return n.showToast({type:"error",autoClose:!1,title:n.getText("msg_warning"),message:n.getText("msg_editor_invalid")}),!1;if("disabled"===(s=c()(s,{$merge:{template:a,panel:a.options.panel,caption:a.options.title,audit:n.getAuditFilter(s.current.type,s.current.transtype)[0]}})).audit)return!1;if(null===s.dataset[s.current.type][0].id?(s=c()(s,{current:{$merge:{item:s.dataset[s.current.type][0]}}}),a.options.search_form?s=c()(s,{$merge:{title_field:a.options.title_field}}):("all"!==s.audit&&"update"!==s.audit||(s=c()(s,{$merge:{dirty:!0}})),s=c()(s,{$merge:{title_field:n.getText("label_new")+" "+a.options.title}})),"undefined"!==typeof a.options.extend&&(s=c()(s,{current:{$merge:{extend:d({tablename:a.options.extend,dataset:s.dataset,current:s.current})}}}))):(s=c()(s,{current:{$merge:{item:c()(d({tablename:s.current.type,dataset:s.dataset,current:s.current}),{$merge:s.dataset[s.current.type][0]})}}}),"undefined"!==typeof a.options.extend&&"undefined"!==typeof(s=c()(s,{current:{$merge:{extend:d({tablename:a.options.extend,dataset:s.dataset,current:s.current})}}})).dataset[a.options.extend]&&s.dataset[a.options.extend].length>0&&(s=c()(s,{current:{$merge:{extend:c()(s.current.extend,{$merge:s.dataset[a.options.extend][0]})}}}))),"trans"===(s=c()(s,{current:{$merge:{state:"normal",pagination:{page:1,perPage:n.getSetting("selectorPage")}}}})).current.type&&("undefined"!==typeof s.dataset.trans[0].transcast&&"cancellation"===s.dataset.trans[0].transcast&&(s=c()(s,{current:{$merge:{state:"cancellation"}}})),(s=s.current.item.fnote?c()(s,{current:{$merge:{note:g.EditorState.createWithContent(Object(_.a)(s.current.item.fnote))}}}):c()(s,{current:{$merge:{note:g.EditorState.createEmpty()}}})).dataset.pattern)){var m=s.dataset.pattern.filter((function(e){return 1===e.defpattern}))[0];s=c()(s,{current:{$merge:{template:m?m.id:""}}})}if("normal"===s.current.state&&1===s.current.item.deleted?s=c()(s,{current:{$merge:{state:"deleted"}}}):1===s.current.item.closed&&(s=c()(s,{current:{$merge:{state:"closed"}}})),s=c()(s,{current:{$merge:{fieldvalue:s.dataset.fieldvalue||[]}}}),Object.keys(s.template.view).forEach((function(e){s=c()(s,{template:{view:Object(o.a)({},e,{$merge:{view_audit:"all"}})}}),s="setting"===e?c()(s,{template:{view:Object(o.a)({},e,{$merge:{view_audit:"disabled"}})}}):c()(s,{template:{view:Object(o.a)({},e,{$merge:{view_audit:n.getAuditFilter(a.view[e].audit_type||e,a.view[e].audit_transtype||null)[0]}})}})})),"report"===s.current.type){var f=JSON.parse(s.dataset.report[0].report);Object.keys(f.fields).forEach((function(e,t){var r=f.fields[e],n=r.selected?r.selected:"in"===r.wheretype,a=c()({},{$set:{id:t+1,rowtype:"reportfield",datatype:r.fieldtype,name:e,label:r.description,selected:n,empty:"in"===r.wheretype?"false":"true",value:r.value}});switch(r.fieldtype){case"bool":break;case"valuelist":a=c()(a,{$merge:{description:"in"!==r.wheretype?r.valuelist.split("|").unshift(""):r.valuelist.split("|")}});break;case"date":"undefined"===typeof a.value&&(a=r.defvalue?c()(a,{$merge:{value:Object(u.a)(Object(p.default)(new Date,parseInt(r.defvalue,10)),{representation:"date"})}}):"in"===r.wheretype?c()(a,{$merge:{value:Object(u.a)(new Date,{representation:"date"})}}):c()(a,{$merge:{value:""}}));break;case"integer":case"float":"undefined"===typeof a.value&&(a=c()(a,{$merge:{value:r.defvalue&&""!==r.defvalue?r.defvalue:"0"}}));break;default:a=c()(a,{$merge:{datatype:"string"}})}"undefined"===typeof a.value&&(a=c()(a,{$merge:{value:r.defvalue?r.defvalue:""}})),s=c()(s,{current:{fieldvalue:{$push:[a]}}})}))}e.shipping&&("undefined"===typeof(s=c()(s,{current:{$merge:{form_type:"transitem_shipping",direction:s.dataset.groups.filter((function(e){return e.id===s.current.item.direction}))[0].groupvalue}}})).dataset.shiptemp&&(s=c()(s,{dataset:{$merge:{shiptemp:[]}}})),(s=c()(s,{current:{item:{$merge:{delivery_type:n.getText("delivery_"+s.current.direction)}}}})).current.shippingdate?s=c()(s,{current:{item:{$merge:{shippingdate:s.current.shippingdate}}}}):(s=c()(s,{current:{$merge:{shippingdate:Object(u.a)(new Date,{representation:"date"})+"T00:00:00"}}}),s=c()(s,{current:{item:{$merge:{shippingdate:Object(u.a)(new Date,{representation:"date"})+"T00:00:00"}}}})),s.current.shipping_place_id?s=c()(s,{current:{item:{$merge:{shipping_place_id:s.current.shipping_place_id}}}}):(s=c()(s,{current:{$merge:{shipping_place_id:null}}}),s=c()(s,{current:{item:{$merge:{shipping_place_id:null}}}})),(s=c()(s,{dataset:{$merge:{shipping_items_:[]}}})).dataset.shipping_items.forEach((function(e,t){var r=c()(e,{$merge:{id:t+1,qty:parseFloat(e.qty)}}),n=s.dataset.transitem_shipping.filter((function(e){return e.id===r.item_id+"-"+r.product_id}))[0];if("undefined"!==typeof n){var a="out"===s.current.direction?-parseFloat(n.sqty):parseFloat(n.sqty);r=c()(r,{$merge:{tqty:a,diff:parseFloat(r.qty)-a}})}else r=c()(r,{$merge:{qty:parseFloat(r.qty),tqty:0,diff:parseFloat(r.qty)}});"undefined"!==typeof s.dataset.shiptemp.filter((function(e){return e.id===r.item_id+"-"+r.product_id}))[0]&&(r=c()(r,{$merge:{edited:!0}})),s=c()(s,{dataset:{shipping_items_:{$push:[r]}}})}))),"printqueue"===s.current.type&&(s="undefined"===typeof s.printqueue?c()(s,{$merge:{printqueue:s.current.item}}):c()(s,{current:{item:{$merge:Object(i.a)({},s.printqueue)}}})),"normal"!==(s=c()(s,{panel:{$merge:{form:!0,state:s.current.state}}})).panel.state&&(s=c()(s,{$merge:{audit:"readonly"}})),"readonly"===s.audit&&"deleted"!==(s=c()(s,{panel:{$merge:{save:!1,link:!1,delete:!1,new:!1,pattern:!1,password:!1,formula:!1}}})).panel.state&&(s=c()(s,{panel:{$merge:{trans:!1}}})),"all"!==s.audit&&"deleted"!==(s=c()(s,{panel:{$merge:{delete:!1,new:!1}}})).panel.state&&(s=c()(s,{panel:{$merge:{trans:!1}}})),"deleted"===s.panel.state&&(s=c()(s,{panel:{$merge:{copy:!1,create:!1}}})),s=c()(s,{current:{$merge:{view:e.form||"form"}}}),r("edit",s),r("current",{module:"edit",edit:!0})},L=function(){var e=Object(l.a)(a.a.mark((function e(l){var i,s,u,p,m,f,g,_;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.ntype,s=l.ttype,u=l.id,p=c()({},{$set:{dataset:{},current:{type:i,transtype:s},dirty:!1,form_dirty:!1,preview:null}}),null===u&&(m=d({tablename:i,transtype:s,dataset:p.dataset,current:p.current})),f=[],x.a[i](s).forEach((function(e){var r={};"table"===e.infoType?(r={select:["*"],from:e.classAlias},e.where&&(r.where=e.where),e.order&&(r.order_by=e.order)):r="undefined"!==typeof O[i][e.sqlKey]?O[i][e.sqlKey](i):"undefined"!==typeof O[i][e.infoName]?O[i][e.infoName](i):O.all[e.infoName](i);var n=Object(v.a)(t.login.data.engine,r);null!==u||0===n.prmCount?f=c()(f,{$push:[{key:e.infoName,text:n.sql,values:n.prmCount>0&&null!==u?Array(n.prmCount).fill(u):[]}]}):p=c()(p,{dataset:{$merge:Object(o.a)({},e.infoName,[])}})})),!(f.length>0)){e.next=19;break}return"report"!==i&&x.a.report().forEach((function(e){var r={key:e.infoName,sql:O.report[e.infoName](i),values:[]};if("report"===e.infoName?"printqueue"!==i&&(r.values.push(t.login.data.employee.usergroup),r.values.push(p.current.type)):"message"===e.infoName?(r.values.push(p.current.type),r.values.push(p.current.type)):r.values.push(p.current.type),"trans"===p.current.type){var n=["and","r.transtype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'transtype'"],["and","groupvalue","=","?"]]}]];"message"===e.infoName?(r.sql.where[0][2][0].from[0][0][0].where[0].push(n),r.sql.where[0][2][0].from[0][0][1].where[0].push(n),r.values.splice(1,0,p.current.transtype)):r.sql.where.push(n),r.values.push(p.current.transtype)}f=c()(f,{$push:[{key:r.key,text:Object(v.a)(t.login.data.engine,r.sql).sql,values:r.values}]})})),g={method:"POST",data:f},e.next=11,n.requestData("/view",g);case 11:if(!(_=e.sent).error){e.next=14;break}return e.abrupt("return",n.resultError(_));case 14:p=c()(p,{dataset:{$merge:_}}),null===u&&(null===m&&(m=d({tablename:i,transtype:s,dataset:p.dataset,current:p.current})),"delivery"===s&&(m=c()(m,{$merge:{direction:p.dataset.groups.filter((function(e){return"direction"===e.groupname&&"transfer"===e.groupvalue}))[0].id}})),p=c()(p,{dataset:{$merge:Object(o.a)({},i,[m])}})),r("edit",p,(function(){if(!l.cb_key||"SET_EDITOR"===l.cb_key)return"trans"===i?l.shipping?$(l,k.shipping(p.dataset[i][0],p,n.getSetting("ui")),p):$(l,k[s](p.dataset[i][0],p,n.getSetting("ui")),p):$(l,k[i](p.dataset[i][0],p,n.getSetting("ui")),p)})),e.next=21;break;case 19:p=c()(p,{dataset:{$merge:Object(o.a)({},i,[d({tablename:i,transtype:s,dataset:p.dataset,current:p.current})])}}),r("edit",p,(function(){if(!l.cb_key||"SET_EDITOR"===l.cb_key)return $(l,k[i](p.dataset[i][0],p,n.getSetting("ui")),p)}));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){var a=c()(t.edit,{}),l=k[e.fkey]({},a,n.getSetting("ui")).options.data;switch("undefined"===typeof l&&(l=e.fkey),a=c()(a,{$merge:{form_dirty:!1}}),a=c()(a,{current:{$merge:{form_type:e.fkey,form_datatype:l}}}),a=c()(a,{current:{$merge:{form:d({tablename:l,dataset:a.dataset,current:a.current})}}}),a=null!==e.id?c()(a,{current:{$merge:{form:a.dataset[e.fkey].filter((function(t){return t.id===parseInt(e.id,10)}))[0]}}}):c()(a,{current:{$merge:{form_dirty:!0}}}),a=c()(a,{current:{$merge:{form_template:k[e.fkey](a.current.form,a,n.getSetting("ui"))}}}),e.fkey){case"price":case"discount":a=c()(a,{current:{$merge:{price_link_customer:null,price_customer_id:null}}}),null!==e.id&&(a=c()(a,{current:{$merge:{price_link_customer:a.current.form.link_customer,price_customer_id:a.current.form.customer_id}}}));break;case"invoice_link":var i={id:(a=c()(a,{current:{$merge:{invoice_link_fieldvalue:a.dataset.invoice_link_fieldvalue}}})).current.form.id,ref_id_1:"",transnumber:"",curr:""},s=a.dataset.invoice_link.filter((function(e){return e.id===a.current.form.id}))[0];"undefined"!==typeof s&&(i=s),a=c()(a,{current:{$merge:{invoice_link:[i]}}});break;case"payment_link":var u={id:(a=c()(a,{current:{$merge:{payment_link_fieldvalue:a.dataset.payment_link_fieldvalue}}})).current.form.id,ref_id_2:"",transnumber:"",curr:""},p=a.dataset.payment_link.filter((function(e){return e.id===a.current.form.id}))[0];"undefined"!==typeof p&&(u=p),a=c()(a,{current:{$merge:{payment_link:[u]}}}),e.link_field&&(a=c()(a,{current:{form:{$merge:Object(o.a)({},e.link_field,e.link_id)}}}))}var m=c()(a.current.form_template.options.panel,{$merge:{form:!0,state:a.current.state}});"normal"!==a.panel.state&&(a=c()(a,{$merge:{audit:"readonly"}})),"readonly"===a.audit&&(m=c()(m,{$merge:{save:!1}})),"all"!==a.audit&&(m=c()(m,{$merge:{link:!1,delete:!1,new:!1}})),a=c()(a,{$merge:{panel:m}}),r("edit",a)},B=function(e){var i=function(){L({ntype:t.edit.current.type,ttype:t.edit.current.transtype,id:t.edit.current.item.id,form:e.fkey})},o=function(){var t=Object(l.a)(a.a.mark((function t(){var r,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.id){t.next=4;break}i(),t.next=13;break;case 4:return r=e.table?e.table:e.fkey,t.next=7,n.requestData("/"+r,{method:"DELETE",query:{id:e.id}});case 7:if(!(l=t.sent)||!l.error){t.next=10;break}return t.abrupt("return",n.resultError(l));case 10:return t.next=12,n.createHistory("save");case 12:i();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.prompt?o():S({title:n.getText("msg_warning"),message:n.getText("msg_delete_text"),infoText:n.getText("msg_delete_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(e){r("current",{modalForm:null},(function(){o()}))}})},z=function(e,r,n,a,l){var i=e.findIndex((function(e){return e.ref_id===n&&e.fieldname===r}));if(-1===i){var s=c()(d({tablename:"fieldvalue",current:t.edit.current}),{$merge:{fieldname:r,ref_id:n,value:"undefined"===typeof l||null===l?a:l}});e=c()(e,{$push:[s]})}else l&&(e=c()(e,Object(o.a)({},i,{$merge:{value:l}})));return e},R=function(e,r){var n={},a=d({tablename:e,dataset:t.edit.dataset,current:t.edit.current});for(var l in r)a.hasOwnProperty(l)&&(n[l]=r[l]);return n},V=function(){var e=Object(l.a)(a.a.mark((function e(){var r,l,i,s,u,p,m,f,g,_,b,y;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c()(t.edit,{}),l=R(r.current.form_datatype,r.current.form),e.next=4,C(r.current.form_datatype,l);case 4:if(!(l=e.sent).error){e.next=8;break}return n.resultError(l),e.abrupt("return",null);case 8:return e.next=10,n.requestData("/"+r.current.form_datatype,{method:"POST",data:[l]});case 10:if(!(i=e.sent).error){e.next=14;break}return n.resultError(i),e.abrupt("return",null);case 14:return null===r.current.form.id&&(r=c()(r,{current:{form:{$merge:{id:i[0]}}}})),r=c()(r,{$merge:{form_dirty:!1}}),e.next=18,n.createHistory("save");case 18:e.t0=r.current.form_type,e.next="movement"===e.t0?21:"price"===e.t0||"discount"===e.t0?44:"invoice_link"===e.t0||"payment_link"===e.t0?62:75;break;case 21:if("delivery"!==r.current.transtype){e.next=43;break}return s=[],u=null,"undefined"!==typeof(p=r.dataset.movement_transfer.filter((function(e){return e.id===r.current.form.id}))[0])?(p=r.dataset.movement.filter((function(e){return e.id===p.ref_id}))[0],p=c()(d({tablename:"movement",dataset:r.dataset,current:r.current}),{$merge:p})):(p=c()(d({tablename:"movement",dataset:r.dataset,current:r.current}),{$merge:{place_id:r.current.item.place_id}}),u=c()(d({tablename:"link",dataset:r.dataset,current:r.current}),{$merge:{nervatype_1:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"movement"===e.groupvalue}))[0].id,nervatype_2:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"movement"===e.groupvalue}))[0].id,ref_id_2:r.current.form.id}})),p=c()(p,{$merge:{product_id:r.current.form.product_id,qty:-r.current.form.qty,notes:r.current.form.notes}}),s.push(R("movement",p)),r.dataset.movement_transfer.forEach((function(e){(p=c()(d({tablename:"movement",dataset:r.dataset,current:r.current}),{$merge:R("movement",e)})).id!==r.current.form.id&&p.place_id!==r.current.form.place_id&&(p=c()(p,{$merge:{place_id:r.current.form.place_id}}),s.push(p))})),e.next=31,n.requestData("/movement",{method:"POST",data:s});case 31:if(!(m=e.sent).error){e.next=35;break}return n.resultError(m),e.abrupt("return",null);case 35:if(null===u){e.next=43;break}return u=c()(u,{$merge:{ref_id_1:m[0]}}),e.next=39,n.requestData("/link",{method:"POST",data:[u]});case 39:if(!(m=e.sent).error){e.next=43;break}return n.resultError(m),e.abrupt("return",null);case 43:return e.abrupt("break",76);case 44:if(null===r.current.price_link_customer&&null===r.current.price_customer_id){e.next=61;break}if(null!==r.current.price_customer_id){e.next=54;break}return e.next=48,n.requestData("/link",{method:"DELETE",query:{id:r.current.price_link_customer}});case 48:if(!(i=e.sent)||!i.error){e.next=52;break}return n.resultError(i),e.abrupt("return",null);case 52:e.next=61;break;case 54:return f=c()(d({tablename:"link",dataset:r.dataset,current:r.current}),{$merge:{id:r.current.price_link_customer,nervatype_1:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"price"===e.groupvalue}))[0].id,ref_id_1:r.current.form.id,nervatype_2:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"customer"===e.groupvalue}))[0].id,ref_id_2:r.current.price_customer_id}}),e.next=57,n.requestData("/link",{method:"POST",data:[f]});case 57:if(!(i=e.sent).error){e.next=61;break}return n.resultError(i),e.abrupt("return",null);case 61:return e.abrupt("break",76);case 62:for(g=r.current.form_type+"_fieldvalue",_=0;_<r.current[g].length;_++)null===r.current[g][_].ref_id&&(r=c()(r,{current:Object(o.a)({},g,Object(o.a)({},_,{$merge:{ref_id:r.current.form.id}}))}));return b={link_qty:"0",link_rate:"1"},y=r.current[g],Object.keys(b).forEach((function(e){y=z(y,e,r.current.form.id,b[e])})),r=c()(r,{current:{$merge:Object(o.a)({},g,y)}}),e.next=70,n.requestData("/fieldvalue",{method:"POST",data:y});case 70:if(!(i=e.sent).error){e.next=74;break}return n.resultError(i),e.abrupt("return",null);case 74:case 75:return e.abrupt("break",76);case 76:return e.abrupt("return",r);case 77:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e,t,r){if(null!==t)switch(e){case"customer":return t===r.custtype;case"place":return t===r.placetype;case"product":return t===r.protype;case"tool":return t===r.toolgroup;case"trans":return t===r.transtype}return!0},U=function(){var e=Object(l.a)(a.a.mark((function e(){var r,l,i,s,p,g,_,b,y,h,x,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c()(t.edit,{}),l=R(r.current.type,r.current.item),e.next=4,C(r.current.type,l);case 4:if(!(l=e.sent).error){e.next=7;break}return e.abrupt("return",n.resultError(l));case 7:return null===r.current.item.id&&r.dataset.deffield&&r.dataset.deffield.forEach((function(e){if(1===e.addnew){var t=H(r.current.type,e.subtype,r.current.item);if(!r.current.fieldvalue.filter((function(t){return t.fieldname===e.fieldname}))[0]&&t)switch(r.dataset.groups.filter((function(t){return t.id===e.fieldtype}))[0].groupvalue){case"bool":case"integer":case"float":r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,e.fieldname,null,null,0)}}});break;case"valuelist":r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,e.fieldname,null,null,e.valuelist.split("|")[0])}}})}}})),e.next=10,n.requestData("/"+r.current.type,{method:"POST",data:[l]});case 10:if(!(i=e.sent).error){e.next=14;break}return n.resultError(i),e.abrupt("return",null);case 14:return null===r.current.item.id&&(r=c()(r,{current:{item:{$merge:{id:i[0]}}}})),r=c()(r,{$merge:{dirty:!1}}),e.next=18,n.createHistory("save");case 18:if("undefined"!==typeof r.current.extend&&(null===r.current.extend.ref_id&&(r=c()(r,{current:{extend:{$merge:{ref_id:r.current.item.id}}}})),null===r.current.extend.trans_id&&(r=c()(r,{current:{extend:{$merge:{trans_id:r.current.item.id}}}}))),"undefined"!==typeof r.current.fieldvalue)for(s=0;s<r.current.fieldvalue.length;s++)null===r.current.fieldvalue[s].ref_id&&(r=c()(r,{current:{fieldvalue:Object(o.a)({},s,{$merge:{ref_id:r.current.item.id}})}}));if("trans"!==r.current.type){e.next=50;break}r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,"trans_transcast",r.current.item.id,null,"normal")}}}),e.t0=r.current.transtype,e.next="invoice"===e.t0?25:"worksheet"===e.t0?33:"rent"===e.t0?36:"delivery"===e.t0?39:49;break;case 25:return p={method:"POST",data:[{key:"fields",text:Object(v.a)(t.login.data.engine,O.trans.invoice_customer()).sql,values:[r.current.item.customer_id]}]},e.next=28,n.requestData("/view",p);case 28:if(!(g=e.sent).error){e.next=31;break}return e.abrupt("return",n.resultError(g));case 31:return g.fields.length>0&&Object.keys(g.fields[0]).forEach((function(e){r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,e,r.current.item.id,null,g.fields[0][e])}}})})),e.abrupt("break",50);case 33:return _={trans_wsdistance:0,trans_wsrepair:0,trans_wstotal:0,trans_wsnote:""},Object.keys(_).forEach((function(e){r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,e,r.current.item.id,null,_[e])}}})})),e.abrupt("break",50);case 36:return b={trans_reholiday:0,trans_rebadtool:0,trans_reother:0,trans_rentnote:""},Object.keys(b).forEach((function(e){r=c()(r,{current:{$merge:{fieldvalue:z(r.current.fieldvalue,e,r.current.item.id,null,b[e])}}})})),e.abrupt("break",50);case 39:if(y=[],r.dataset.movement.forEach((function(e){var t=c()(d({tablename:"movement",dataset:r.dataset,current:r.current}),{$merge:e});Object(m.default)(Object(f.default)(t.shippingdate),Object(f.default)(r.current.item.transdate))||(t=c()(t,{$merge:{shippingdate:Object(u.a)(Object(f.default)(r.current.item.transdate))}}),y.push(t))})),!(y.length>0)){e.next=48;break}return e.next=44,n.requestData("/movement",{method:"POST",data:y});case 44:if(!(i=e.sent).error){e.next=48;break}return n.resultError(i),e.abrupt("return",null);case 48:case 49:return e.abrupt("break",50);case 50:if(!(r.current.fieldvalue.length>0)){e.next=58;break}return e.next=53,n.requestData("/fieldvalue",{method:"POST",data:r.current.fieldvalue});case 53:if(!(i=e.sent).error){e.next=57;break}return n.resultError(i),e.abrupt("return",null);case 57:for(h=0;h<i.length;h++)r.current.fieldvalue[h].id||(r=c()(r,{current:{fieldvalue:Object(o.a)({},h,{$merge:{id:i[h]}})}}));case 58:if("undefined"===typeof r.current.extend){e.next=96;break}x=String(r.template.options.extend).split("_")[0],w=c()(r.current.extend,{}),e.t1=r.current.transtype,e.next="waybill"===e.t1?64:"formula"===e.t1?81:"production"===e.t1?84:87;break;case 64:if(x=w.seltype,"transitem"!==w.seltype){e.next=72;break}x="link",w=d({tablename:"link",dataset:r.dataset,current:r.current}),w=r.dataset.translink.length>0?c()(w,{$merge:r.dataset.translink[0]}):c()(w,{$merge:{nervatype_1:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id,nervatype_2:t.login.data.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id,ref_id_1:r.current.item.id}}),w=c()(w,{$merge:{ref_id_2:r.current.extend.ref_id}}),e.next=80;break;case 72:if(w=null,!(r.dataset.translink.length>0)){e.next=80;break}return e.next=76,n.requestData("/link",{method:"DELETE",query:{id:r.dataset.translink[0].id}});case 76:if(!(i=e.sent)||!i.error){e.next=80;break}return n.resultError(i),e.abrupt("return",null);case 80:return e.abrupt("break",87);case 81:return w=c()(w,{$unset:["product"]}),w=c()(w,{$merge:{shippingdate:Object(u.a)(Object(f.default)(r.current.item.transdate))}}),e.abrupt("break",87);case 84:return w=c()(w,{$unset:["product"]}),w=c()(w,{$merge:{shippingdate:r.current.item.duedate,place_id:r.current.item.place_id}}),e.abrupt("break",87);case 87:if(null===w){e.next=96;break}return e.next=90,n.requestData("/"+x,{method:"POST",data:[w]});case 90:if(!(i=e.sent).error){e.next=94;break}return n.resultError(i),e.abrupt("return",null);case 94:null===w.id&&(w=c()(w,{$merge:{id:i[0]}})),r=c()(r,{current:{$merge:{extend:w}}});case 96:return e.abrupt("return",r);case 97:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(a.a.mark((function e(r){var l,i,o,s,m,f,g,_,b,y,h,x,w,j,T,E,C,k,S,N,A,q,P,F,M,D,$,X,B,V;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=function(e){return"waybill"===e.transtype?"link":"delivery"!==e.transtype||"normal"!==e.transcast||"in"!==e.direction&&"out"!==e.direction?"copy"===e.cmdtype&&"normal"===e.transcast?"":"normal"!==e.transcast||e.refno?"reflink":"refnumber":""},i=c()(t.edit.dataset.trans[0],{}),o=t.edit.dataset.groups.filter((function(e){return e.id===i.transtype}))[0].groupvalue,s=i.transtype,m=t.edit.dataset.groups.filter((function(e){return e.id===i.direction}))[0].groupvalue,f=i.direction,"undefined"===typeof r.new_transtype||"undefined"===typeof r.new_direction){e.next=16;break}if(o=r.new_transtype,"undefined"===typeof(g=t.login.data.audit.filter((function(e){return"trans"===e.nervatypeName&&e.subtypeName===o}))[0])){e.next=13;break}if("disabled"!==g.item.inputfilterName){e.next=13;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_create_disabled_err")+" "+o}),e.abrupt("return",!1);case 13:s=t.edit.dataset.groups.filter((function(e){return"transtype"===e.groupname&&e.groupvalue===o}))[0].id,m=r.new_direction,f=t.edit.dataset.groups.filter((function(e){return"direction"===e.groupname&&e.groupvalue===m}))[0].id;case 16:if("receipt"!==o&&"worksheet"!==o||"in"!==m){e.next=19;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_input_invalid")+" in"}),e.abrupt("return",!1);case 19:if("cancellation"!==i.transcast){e.next=22;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_create_cancellation_err1")}),e.abrupt("return",!1);case 22:if("cancellation"!==r.transcast||"invoice"!==o&&"receipt"!==o||0!==i.deleted){e.next=25;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_create_cancellation_err2")}),e.abrupt("return",!1);case 25:if(!("cancellation"===r.transcast&&t.edit.dataset.cancel_link.length>0)){e.next=28;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_create_cancellation_err3"+t.edit.dataset.cancel_link[0].transnumber)}),e.abrupt("return",!1);case 28:if("amendment"!==r.transcast||1!==i.deleted){e.next=31;break}return n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("msg_create_amendment_err")}),e.abrupt("return",!1);case 31:return _=c()({},{$set:{id:null,transtype:s,transnumber:null,crdate:Object(u.a)(new Date,{representation:"date"}),transdate:Object(u.a)(new Date,{representation:"date"}),duedate:null,customer_id:i.customer_id,employee_id:i.employee_id,department:i.department,project_id:i.project_id,place_id:i.place_id,paidtype:i.paidtype,curr:i.curr,notax:i.notax,paid:0,acrate:i.acrate,notes:i.notes,intnotes:i.intnotes,fnote:i.fnote,transtate:t.edit.dataset.transtate.filter((function(e){return"transtate"===e.groupname&&"ok"===e.groupvalue}))[0].id,closed:0,deleted:0,direction:f,cruser_id:t.login.data.employee.id,trans_transcast:r.transcast||"normal"}}),null!==i.duedate&&(_.duedate=Object(u.a)(new Date,{representation:"date"})+"T00:00:00"),"invoice"===o&&"out"===m?"undefined"!==typeof(b=t.edit.dataset.settings.filter((function(e){return"default_deadline"===e.fieldname}))[0])&&(_.duedate=Object(u.a)(Object(p.default)(new Date,parseInt(b.value,10)),{representation:"date"})+"T00:00:00"):"receipt"===o&&(_.customer_id=null),"refnumber"!==(y=l({transtype:o,transcast:r.transcast,direction:m,cmdtype:r.cmdtype,refno:r.refno}))&&"reflink"!==y||(_.ref_transnumber=i.transnumber),h=o+"_"+m,"waybill"!==o&&"cash"!==o||(h=o),x={method:"POST",data:{key:"nextNumber",values:{numberkey:h,step:!0}}},e.next=41,n.requestData("/function",x);case 41:if(!(w=e.sent).error){e.next=45;break}return n.resultError(w),e.abrupt("return",null);case 45:return"cancellation"===r.transcast?(_.transnumber=w+"/C","delivery"!==o&&"inventory"!==o&&(_.deleted=1),_.transdate=i.transdate,_.duedate=i.duedate):"amendment"===r.transcast?_.transnumber=w+"/A":_.transnumber=w,e.next=48,n.requestData("/trans",{method:"POST",data:[_]});case 48:if(!(w=e.sent).error){e.next=52;break}return n.resultError(w),e.abrupt("return",null);case 52:if(_.id=w[0],j=[],t.edit.current.fieldvalue.forEach((function(e){if("trans_transcast"!==e.fieldname){var n=t.edit.dataset.deffield.filter((function(t){return t.fieldname===e.fieldname}))[0],a=H("trans",n.subtype,_);if(0===e.deleted&&1===n.visible&&a||0===e.deleted&&a&&"copy"===r.cmdtype){var l=R("fieldvalue",e);l.id=null,l.ref_id=_.id,j.push(l)}}})),"invoice"!==o){e.next=63;break}return T={method:"POST",data:[{key:"fields",text:Object(v.a)(t.login.data.engine,O.trans.invoice_customer()).sql,values:[_.customer_id]}]},e.next=59,n.requestData("/view",T);case 59:if(!(E=e.sent).error){e.next=62;break}return e.abrupt("return",n.resultError(E));case 62:E.fields.length>0&&Object.keys(E.fields[0]).forEach((function(e){j=z(j,e,_.id,E.fields[0][e])}));case 63:if(!(j.length>0)){e.next=70;break}return e.next=66,n.requestData("/fieldvalue",{method:"POST",data:j});case 66:if(!(w=e.sent).error){e.next=70;break}return n.resultError(w),e.abrupt("return",null);case 70:if("link"!==y&&"reflink"!==y){e.next=78;break}return C=c()(d({tablename:"link"}),{$merge:{nervatype_1:t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id,ref_id_1:_.id,nervatype_2:t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id,ref_id_2:i.id}}),e.next=74,n.requestData("/link",{method:"POST",data:[C]});case 74:if(!(w=e.sent).error){e.next=78;break}return n.resultError(w),e.abrupt("return",null);case 78:if(k=[],"invoice"===o||"receipt"===o?(S=function(e,t,r){var n=0;return e.forEach((function(e){e.product_id===t&&e.deposit===r&&(n+=e.qty)})),n},N=function(e,t,r){return e.netamount=I(e.fxprice*(1-e.discount/100)*e.qty,r),e.vatamount=I(e.fxprice*(1-e.discount/100)*e.qty*t,r),e.amount=I(e.netamount+e.vatamount,r),e},A={},r.from_inventory&&t.edit.dataset.transitem_invoice?t.edit.dataset.transitem_shipping.forEach((function(e){var r=t.edit.dataset.item.filter((function(t){return t.id===e.id}))[0];if("undefined"!==typeof r){var n=e.sqty;if("out"===t.edit.dataset.groups.filter((function(e){return e.id===i.direction}))[0].groupvalue&&(n=-e.sqty),0===r.deleted&&n>0&&(Object.keys(A).includes(r.product_id)||(n-=S(t.edit.dataset.transitem_invoice,r.product_id,0),A[r.product_id]=!0),0!==n)){var a=R("item",r);a.qty=n,a=N(a,r.rate,i.digit),k.push(a)}}})):t.edit.dataset.item.forEach((function(e){if(0===e.deleted)if(r.netto_qty&&t.edit.dataset.transitem_invoice){var n=e.qty;if(Object.keys(A).includes(e.product_id)||(n-=S(t.edit.dataset.transitem_invoice,e.product_id,0),A[e.product_id]=!0),0!==n){var a=R("item",e);a.qty=n,a=N(a,e.rate,i.digit),k.push(a)}}else k.push(R("item",e))})),k.forEach((function(e){if(1===e.deposit){var r=S(t.edit.dataset.transitem_invoice,e.product_id,1);if(0!==r){var n=R("item",e);n.qty=-r,k.unshift(n)}}}))):t.edit.dataset.item.forEach((function(e){0===e.deleted&&k.push(R("item",e))})),k.forEach((function(e){if(e.id=null,e.trans_id=_.id,e.ownstock=0,"invoice"!==o&&"receipt"!==o&&(e.deposit=0),"cancellation"===r.transcast&&(e.qty=-e.qty,e.netamount=-e.netamount,e.vatamount=-e.vatamount,e.amount=-e.amount),"amendment"===r.transcast){var t=R("item",e);t.qty=-t.qty,t.netamount=-t.netamount,t.vatamount=-t.vatamount,t.amount=-t.amount,k.push(t)}})),!(k.length>0)){e.next=88;break}return e.next=84,n.requestData("/item",{method:"POST",data:k});case 84:if(!(w=e.sent).error){e.next=88;break}return n.resultError(w),e.abrupt("return",null);case 88:if(q=[],t.edit.dataset.payment.forEach((function(e){if(0===e.deleted){var t=R("payment",e);t.id=null,t.trans_id=_.id,"cancellation"===r.transcast&&(t.amount=-t.amount),q.push(t)}})),!(q.length>0)){e.next=97;break}return e.next=93,n.requestData("/payment",{method:"POST",data:q});case 93:if(!(w=e.sent).error){e.next=97;break}return n.resultError(w),e.abrupt("return",null);case 97:if(P=[],F=[],"formula"!==o&&"production"!==o||((M=R("movement",t.edit.dataset.movement_head[0])).id=null,M.trans_id=_.id,P.push(M)),(t.edit.dataset.movement||[]).forEach((function(e){if(0===e.deleted){(e.item_id||e.ref_id)&&F.push({id:e.id,item_id:e.item_id,ref_id:e.ref_id});var t=R("movement",e);t.id=null,t.trans_id=_.id,"cancellation"===r.transcast&&(t.qty=-t.qty),P.push(t)}})),!(P.length>0)){e.next=121;break}return e.next=105,n.requestData("/movement",{method:"POST",data:P});case 105:if(!(w=e.sent).error){e.next=109;break}return n.resultError(w),e.abrupt("return",null);case 109:for(D=[],$=t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"movement"===e.groupvalue}))[0].id,X=t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"item"===e.groupvalue}))[0].id,B=function(e){var r=c()(d({tablename:"link"}),{$merge:{nervatype_1:$}});null!==F[e].item_id?(r.ref_id_1=w[e].id,r.nervatype_2=X,r.ref_id_2=F[e].item_id,D.push(r)):null!==F[e].ref_id&&(r.ref_id_1=w[t.edit.dataset.movement.findIndex((function(t){return t.id===F[e].ref_id}))].id,r.nervatype_2=$,r.ref_id_2=w[t.edit.dataset.movement.findIndex((function(t){return t.id===F[e].id}))].id,D.push(r))},V=0;V<F.length;V++)B(V);if(!(D.length>0)){e.next=121;break}return e.next=117,n.requestData("/link",{method:"POST",data:D});case 117:if(!(w=e.sent).error){e.next=121;break}return n.resultError(w),e.abrupt("return",null);case 121:return e.next=123,n.createHistory("save");case 123:L({ntype:"trans",ttype:o,id:_.id});case 124:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,i,o){var s=function(i){switch(i){case"LOAD_EDITOR":L(e);break;case"SET_EDITOR_ITEM":X(e);break;case"LOAD_FORMULA":q({onChange:function(e){r("current",{modalForm:e})},calcFormula:function(e){!function(e){S({title:n.getText("msg_warning"),message:n.getText("ms_load_formula"),infoText:n.getText("msg_delete_info")+" "+n.getText("ms_continue_warning"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(i){r("current",{modalForm:null},Object(l.a)(a.a.mark((function l(){var i,o,s,u,p,m,f,g,_;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={method:"POST",data:[{key:"formula",text:Object(v.a)(t.login.data.engine,O.trans.formula_items()).sql,values:[e]}]},a.next=3,n.requestData("/view",i);case 3:if(!(o=a.sent).error){a.next=6;break}return a.abrupt("return",n.resultError(o));case 6:s=t.edit.dataset.movement_head[0].qty,u=t.edit.dataset.movement_head[0].place_id,p=t.edit.dataset.formula_head.filter((function(t){return t.id===e}))[0].qty,m=[],o.formula.forEach((function(e){var r=c()(d({tablename:"movement",dataset:t.edit.dataset,current:t.edit.current}),{$merge:{product_id:e.product_id,place_id:null===e.place_id?u:e.place_id,qty:1===e.shared?-Math.ceil(s/p):-I(s/p*e.qty,2)}});m.push(r)})),f=0;case 12:if(!(f<t.edit.dataset.movement.length)){a.next=21;break}return a.next=15,n.requestData("/movement",{method:"DELETE",query:{id:t.edit.dataset.movement[f].id}});case 15:if(!(g=a.sent)||!g.error){a.next=18;break}return a.abrupt("return",n.resultError(g));case 18:f++,a.next=12;break;case 21:return a.next=23,n.requestData("/movement",{method:"POST",data:m});case 23:if(!(_=a.sent).error){a.next=26;break}return a.abrupt("return",n.resultError(_));case 26:r("current",{modalForm:null},(function(){L({ntype:t.edit.current.type,ttype:t.edit.current.transtype,id:t.edit.current.item.id,form:"movement"})}));case 27:case"end":return a.stop()}}),l)}))))}})}(e)}});break;case"NEW_FIELDVALUE":!function(e){var i=function(){var e=Object(l.a)(a.a.mark((function e(r){var l,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={method:"POST",data:[r]},e.next=3,n.requestData("/fieldvalue",l);case 3:if(!(i=e.sent).error){e.next=6;break}return e.abrupt("return",n.resultError(i));case 6:L({ntype:t.edit.current.type,ttype:t.edit.current.transtype,id:t.edit.current.item.id,form:"fieldvalue",form_id:i[0]});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(""===e)return n.showToast({type:"error",title:n.getText("msg_warning"),message:n.getText("fields_deffield_missing")});var o=t.edit.dataset.deffield.filter((function(t){return t.fieldname===e}))[0],s=t.login.data.groups.filter((function(e){return e.id===o.fieldtype}))[0].groupvalue,p=c()(d({tablename:"fieldvalue"}),{$merge:{id:null,fieldname:o.fieldname}}),m=!1;switch(s){case"bool":p=c()(p,{$merge:{value:"false"}});break;case"date":p=c()(p,{$merge:{value:Object(u.a)(new Date,{representation:"date"})}});break;case"time":p=c()(p,{$merge:{value:"00:00"}});break;case"float":case"integer":p=c()(p,{$merge:{value:"0"}});break;case"valuelist":p=c()(p,{$merge:{value:o.valuelist.split("|")[0]}});break;case"customer":case"tool":case"trans":case"transitem":case"transmovement":case"transpayment":case"product":case"project":case"employee":case"place":m=!0}m?N({type:s,filter:"",onChange:function(e){r("current",{modalForm:e})},onSelect:function(e,t){r("current",{modalForm:null},(function(){var t=e.id.split("/");p=c()(p,{$merge:{value:String(parseInt(t[2],10))}}),i(p)}))}}):i(p)}(e.fieldname);break;case"REPORT_SETTINGS":A({onChange:function(e){r("current",{modalForm:e})},onOutput:function(e){r("current",{modalForm:null},(function(){D.reportOutput(e)}))}});break;case"CREATE_TRANS":K(e);break;case"CREATE_TRANS_OPTIONS":!function(){var e=c()(t.edit,{}),n={directions:["in","out"],base_transtype:e.current.transtype,transtype:e.current.transtype,direction:e.dataset.groups.filter((function(t){return t.id===e.current.item.direction}))[0].groupvalue,element_count:parseInt(e.dataset.element_count[0].pec,10),doctypes:["order","worksheet","rent","invoice","receipt"],refno:!0,netto:!0,from:!1,netto_color:!1,from_color:!1};switch(n.transtype){case"offer":n.doctypes=["offer","order","worksheet","rent"],n.transtype="order",n.netto_color=!1,n.from_color=!1;break;case"order":case"worksheet":case"rent":n.doctypes=["offer","order","worksheet","rent","invoice","receipt"],n.transtype="invoice",n.netto_color=!0,0===n.element_count?n.from_color=!0:n.from_color=!1;break;case"invoice":n.doctypes=["order","worksheet","rent","invoice","receipt"],n.transtype="order",n.netto_color=!1,n.from_color=!1;break;default:n.transtype="order"}M({options:n,onChange:function(e){r("current",{modalForm:e})},createTrans:function(e){r("current",{modalForm:null}),K({cmdtype:"create",transcast:"normal",new_transtype:e.new_transtype,new_direction:e.new_direction,refno:e.refno,from_inventory:e.from_inventory,netto_qty:e.netto_qty})}})}()}};!0===t.edit.dirty&&t.edit.current.item||!0===t.edit.dirty&&"template"===t.edit.current.type||!0===t.edit.form_dirty&&t.edit.current.form?S({title:n.getText("msg_warning"),message:n.getText("msg_dirty_text"),infoText:n.getText("msg_dirty_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null},(function(){o?r("edit",{dirty:!1,form_dirty:!1},(function(){s(o)})):s(i)}))},cbOK:function(e){r("current",{modalForm:null},Object(l.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!t.edit.form_dirty){e.next=7;break}return e.next=4,V();case 4:n=e.sent,e.next=13;break;case 7:if("template"!==t.edit.current.type){e.next=10;break}e.next=13;break;case 10:return e.next=12,U();case 12:n=e.sent;case 13:if(!n){e.next=15;break}return e.abrupt("return",r("edit",n,(function(){s(i)})));case 15:return e.abrupt("return",s(o));case 16:case"end":return e.stop()}}),e)}))))}}):s(o||i)},G=function(){var e=Object(l.a)(a.a.mark((function e(r,l,i){var o,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("trans"!==r.ntype&&"transitem"!==r.ntype&&"transmovement"!==r.ntype&&"transpayment"!==r.ntype||null!==r.ttype){e.next=10;break}return o={method:"POST",data:[{key:"transtype",text:Object(v.a)(t.login.data.engine,{select:["groupvalue"],from:"groups g",inner_join:["trans t","on",[["g.id","=","t.transtype"],["and","t.id","=","?"]]]}).sql,values:[r.id]}]},e.next=4,n.requestData("/view",o);case 4:if(!(s=e.sent).error){e.next=7;break}return e.abrupt("return",n.resultError(s));case 7:W({ntype:"trans",ttype:s.transtype[0].groupvalue,id:r.id},l,i),e.next=11;break;case 10:W(r,l,i);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(a.a.mark((function e(l){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",data:[{key:"stock",text:Object(v.a)(t.login.data.engine,O.trans.shipping_stock()).sql,values:[l.product_id]}]},e.next=3,n.requestData("/view",i);case 3:if(!(o=e.sent).error){e.next=6;break}return e.abrupt("return",n.resultError(o));case 6:0===o.stock.length&&n.showToast({type:"info",title:n.getText("msg_warning"),message:n.getText("ms_no_stock")}),F({partnumber:l.partnumber,partname:l.partname,rows:o.stock,onChange:function(e){r("current",{modalForm:e})}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.current.item,e.next=3,D.reportOutput({type:n.mode,template:r.reportkey,title:r.refnumber,orient:n.orientation,size:n.size,copy:r.copies,nervatype:r.typename,id:r.ref_id});case 3:B({fkey:"items",table:"ui_printqueue",id:r.id,prompt:!0});case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Q=function(e,r){switch(t.login.data.transfilterName){case"usergroup":e.where.push(["and","cruser_id","in",[{select:["id"],from:"employee",where:["usergroup","=","?"]}]]),r.push(t.login.data.employee.usergroup);break;case"own":e.where.push(["and","cruser_id","=","?"]),r.push(t.login.data.employee.id)}return[e,r]},Z=function(){var e=Object(l.a)(a.a.mark((function e(){var r,l,i,o,s,d,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("trans"===t.edit.current.type&&null!==t.edit.current.item.id){e.next=2;break}return e.abrupt("return");case 2:return r=t.edit.current.transtype,l=t.edit.dataset.groups.filter((function(e){return e.id===t.edit.current.item.direction}))[0].groupvalue,i={select:["max(id) as id"],from:"trans",where:[["transtype","=","?"]]},o=[t.edit.current.item.transtype],"cash"!==r&&"waybill"!==r&&(i.where.push(["and","direction","=","?"]),o.push(t.edit.current.item.direction)),null!==t.edit.current.item.id&&(i.where.push(["and","id","<","?"]),o.push(t.edit.current.item.id)),"invoice"===r&&"out"===l||"receipt"===r&&"out"===l||"cash"===r||i.where.push(["and","deleted","=","0"]),s=Q(i,o),d={method:"POST",data:[{key:"prev",text:Object(v.a)(t.login.data.engine,s[0]).sql,values:s[1]}]},e.next=13,n.requestData("/view",d);case 13:if(!(c=e.sent).error){e.next=16;break}return e.abrupt("return",n.resultError(c));case 16:null!==c.prev[0].id&&W({ntype:"trans",ttype:r,id:c.prev[0].id},"LOAD_EDITOR");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(l.a)(a.a.mark((function e(){var r,l,i,o,s,d,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.edit.current.transtype,l=t.edit.dataset.groups.filter((function(e){return e.id===t.edit.current.item.direction}))[0].groupvalue,i={select:["min(id) as id"],from:"trans",where:[["transtype","=","?"],["and","id",">","?"]]},o=[t.edit.current.item.transtype,t.edit.current.item.id],"cash"!==r&&"waybill"!==r&&(i.where.push(["and","direction","=","?"]),o.push(t.edit.current.item.direction)),"invoice"===r&&"out"===l||"receipt"===r&&"out"===l||"cash"===r||i.where.push(["and","deleted","=","0"]),s=Q(i,o),d={method:"POST",data:[{key:"next",text:Object(v.a)(t.login.data.engine,s[0]).sql,values:s[1]}]},e.next=10,n.requestData("/view",d);case 10:if(!(c=e.sent).error){e.next=13;break}return e.abrupt("return",n.resultError(c));case 13:if(null!==c.next[0].id){e.next=21;break}if("delivery"!==r||"transfer"===l){e.next=18;break}return e.abrupt("return");case 18:W({ntype:"trans",ttype:r,id:null},"LOAD_EDITOR");case 19:e.next=22;break;case 21:W({ntype:"trans",ttype:r,id:c.next[0].id},"LOAD_EDITOR");case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(l.a)(a.a.mark((function e(){var r,l,i,o,s,p,m,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t.edit.current.shipping_place_id){e.next=2;break}return e.abrupt("return",n.showToast({type:"error",title:n.getText("msg_warning"),message:n.getText("msg_required")+" "+n.getText("inventory_warehouse")}));case 2:if(!(t.edit.dataset.shiptemp.length>0)){e.next=42;break}return r=c()(d({tablename:"trans",dataset:t.edit.dataset,current:t.edit.current}),{$merge:{transtype:t.edit.dataset.groups.filter((function(e){return"transtype"===e.groupname&&"delivery"===e.groupvalue}))[0].id,direction:t.edit.dataset[t.edit.current.type][0].direction,transdate:Object(u.a)(Object(f.default)(t.edit.current.item.shippingdate),{representation:"date"}),duedate:null,curr:null,paidtype:null}}),"undefined"!==typeof(l=t.edit.dataset.delivery_pattern.filter((function(e){return 1===e.defpattern}))[0])&&(r=c()(r,{$merge:{fnote:l.notes}})),i={method:"POST",data:{key:"nextNumber",values:{numberkey:"delivery_"+t.edit.current.direction,step:!0}}},e.next=9,n.requestData("/function",i);case 9:if(!(o=e.sent).error){e.next=13;break}return n.resultError(o),e.abrupt("return",null);case 13:return r=c()(r,{$merge:{transnumber:o}}),e.next=16,n.requestData("/trans",{method:"POST",data:[r]});case 16:if(!(o=e.sent).error){e.next=20;break}return n.resultError(o),e.abrupt("return",null);case 20:return r.id=o[0],e.next=23,n.createHistory("save");case 23:return s=[],t.edit.dataset.shiptemp.forEach((function(e){var n=c()(d({tablename:"movement",dataset:t.edit.dataset,current:t.edit.current}),{$merge:{trans_id:r.id,shippingdate:Object(u.a)(Object(f.default)(t.edit.current.shippingdate)),product_id:e.product_id,place_id:t.edit.current.shipping_place_id,notes:e.batch_no,qty:"out"===t.edit.current.direction?-e.qty:e.qty}});s.push(n)})),e.next=27,n.requestData("/movement",{method:"POST",data:s});case 27:if(!(o=e.sent).error){e.next=31;break}return n.resultError(o),e.abrupt("return",null);case 31:return p=[],m=t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"movement"===e.groupvalue}))[0].id,g=t.edit.dataset.groups.filter((function(e){return"nervatype"===e.groupname&&"item"===e.groupvalue}))[0].id,o.forEach((function(e,r){var n=c()(d({tablename:"link",dataset:t.edit.dataset,current:t.edit.current}),{$merge:{nervatype_1:m,ref_id_1:e,nervatype_2:g,ref_id_2:t.edit.dataset.shiptemp[r].item_id}});p.push(n)})),e.next=37,n.requestData("/link",{method:"POST",data:p});case 37:if(!(o=e.sent).error){e.next=41;break}return n.resultError(o),e.abrupt("return",null);case 41:L({ntype:t.edit.current.type,ttype:t.edit.current.transtype,id:t.edit.current.item.id,shipping:!0});case 42:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{round:I,checkEditor:W,checkTranstype:G,loadEditor:L,setEditor:$,setFormActions:function(e,n,a){var l=n||{},s=a||t.edit;switch(e.action){case"loadEditor":W({ntype:e.ntype||s.current.type,ttype:e.ttype||s.current.transtype,id:l.id||null},"LOAD_EDITOR");break;case"newEditorItem":W({fkey:e.fkey,id:null},"SET_EDITOR_ITEM");break;case"editEditorItem":X({fkey:e.fkey,id:l.id});break;case"deleteEditorItem":B({fkey:e.fkey,table:e.table,id:l.id});break;case"loadShipping":W({ntype:e.ntype||s.current.type,ttype:e.ttype||s.current.transtype,id:e.id||s.current.item.id,shipping:!0},"LOAD_EDITOR");break;case"addShippingRow":!0!==l.edited&&(s=c()(s,{dataset:{shiptemp:{$push:[{id:l.item_id+"-"+l.product_id,item_id:l.item_id,product_id:l.product_id,product:l.product,partnumber:l.partnumber,partname:l.partname,unit:l.unit,batch_no:"",qty:l.diff,diff:0,oqty:l.qty,tqty:l.tqty}]}}}),$({shipping:!0,form:"shipping_items"},s.template,s));break;case"showShippingStock":J({product_id:l.product_id,partnumber:l.partnumber,partname:l.partname});break;case"editShippingRow":P(Object(i.a)(Object(i.a)({},l),{},{onChange:function(e){r("current",{modalForm:e})},updateShipping:function(e,t){r("current",{modalForm:null},(function(){var n=s.dataset.shiptemp.findIndex((function(e){return e.id===l.id}));s=c()(s,{dataset:{shiptemp:Object(o.a)({},n,{$merge:{batch_no:e,qty:t,diff:l.oqty-(l.tqty+t)}})}}),r("edit",s)}))}}));break;case"deleteShippingRow":var d=s.dataset.shiptemp.findIndex((function(e){return e.id===l.id}));s=c()(s,{dataset:{shiptemp:{$splice:[[d,1]]}}}),$({shipping:!0,form:"shiptemp_items"},s.template,s);break;case"exportQueueItem":Y(s,l)}},deleteEditorItem:B,deleteEditor:function(){var e=function(){r("edit",{dataset:{},current:{},dirty:!1,form_dirty:!1}),r("current",{module:"search"})},i=function(){var r=Object(l.a)(a.a.mark((function r(){var l;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.requestData("/"+t.edit.current.type,{method:"DELETE",query:{id:t.edit.current.item.id}});case 2:if(!(l=r.sent)||!l.error){r.next=5;break}return r.abrupt("return",n.resultError(l));case 5:return r.next=7,n.createHistory("delete");case 7:e();case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();S({title:n.getText("msg_warning"),message:n.getText("msg_delete_text"),infoText:n.getText("msg_delete_info"),onChange:function(e){r("current",{modalForm:e})},cbCancel:function(){r("current",{modalForm:null})},cbOK:function(o){r("current",{modalForm:null},Object(l.a)(a.a.mark((function r(){var l,o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==t.edit.current.item.id){r.next=4;break}e(),r.next=16;break;case 4:if("undefined"===typeof O[t.edit.current.type].delete_state){r.next=15;break}return l=Object(v.a)(t.login.data.engine,O[t.edit.current.type].delete_state()),o={method:"POST",data:[{key:"state",text:l.sql,values:Array(l.prmCount).fill(t.edit.current.item.id)}]},r.next=9,n.requestData("/view",o);case 9:if(!(s=r.sent).error){r.next=12;break}return r.abrupt("return",n.resultError(s));case 12:s.state[0].sco>0?n.showToast({type:"error",title:n.getText("msg_warning"),message:n.getText("msg_integrity_err")}):i(),r.next=16;break;case 15:i();case 16:case"end":return r.stop()}}),r)}))))}})},prevTransNumber:Z,nextTransNumber:ee,setFieldvalue:z,saveEditorForm:V,saveEditor:U,createShipping:te,exportEvent:function(){var e=t.edit.current.item,r=new b.Component(["vcalendar",[],[]]);r.updatePropertyWithValue("prodid","-//nervatura.com/NONSGML Nervatura Calendar//EN"),r.updatePropertyWithValue("version","2.0");var n=new b.Component("vevent"),a=new b.Event(n);if(null!==e.uid?a.uid=e.uid:a.uid=Object(v.b)(),null!==e.fromdate){var l=e.fromdate.split("T")[0].split("-"),i=e.fromdate.split("T")[1].split(":");a.startDate=new b.Time({year:parseInt(l[0],10),month:parseInt(l[1],10),day:parseInt(l[2],10),hour:parseInt(i[0],10),minute:parseInt(i[1],10),isDate:!1})}if(null!==e.todate){var o=e.todate.split("T")[0].split("-"),s=e.todate.split("T")[1].split(":");a.endDate=new b.Time({year:parseInt(o[0],10),month:parseInt(o[1],10),day:parseInt(o[2],10),hour:parseInt(s[0],10),minute:parseInt(s[1],10),isDate:!1})}if(null!==e.subject&&(a.summary=e.subject),null!==e.place&&(a.location=e.place),null!==e.description&&(a.description=e.description),null!==e.eventgroup){var d=t.edit.dataset.eventgroup.filter((function(t){return t.id===e.eventgroup}))[0];"undefined"!==typeof d&&n.updatePropertyWithValue("category",d.groupvalue)}r.addSubcomponent(n);var c=e.calnumber.replace(/\//g,"_")+".ics",u=URL.createObjectURL(new Blob([r.toString()],{type:"text/ics;charset=utf-8;"}));Object(v.d)(u,c)}}}},65:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return d}));r(6);var n=r(47),a=r.n(n),l=r(288),i=r.n(l),o=(r(613),r(614),r(0)),s=function(e){var t=e.pagination,r=e.pages,n=e.onSelect;return Object(o.jsx)("div",{id:"pagination",className:"pagination",children:Object(o.jsxs)(a.a.Context,{className:"pagify-pagination",segments:i()({page:t.page,pages:r,beginPages:3,endPages:3,sidePages:2}),onSelect:n,children:[Object(o.jsx)(a.a.Button,{page:t.page-1,children:"\u276e"}),Object(o.jsx)(a.a.Segment,{field:"beginPages"}),Object(o.jsx)(a.a.Ellipsis,{className:"ellipsis",previousField:"beginPages",nextField:"previousPages"}),Object(o.jsx)(a.a.Segment,{field:"previousPages"}),Object(o.jsx)(a.a.Segment,{field:"centerPage",className:"selected"}),Object(o.jsx)(a.a.Segment,{field:"nextPages"}),Object(o.jsx)(a.a.Ellipsis,{className:"ellipsis",previousField:"nextPages",nextField:"endPages"}),Object(o.jsx)(a.a.Segment,{field:"endPages"}),Object(o.jsx)(a.a.Button,{page:t.page+1,children:"\u276f"})]})})},d=function(e){var t=e.page,r=e.perPage;return function(e){var n=t-1||0,a=Math.ceil(e.length/Math.max(r,1)),l=n<a?n:0;return{amount:a,rows:e.slice(l*r,l*r+r),page:l}}}},7:function(e,t,r){"use strict";r.d(t,"d",(function(){return O})),r.d(t,"c",(function(){return k})),r.d(t,"e",(function(){return S})),r.d(t,"a",(function(){return N})),r.d(t,"b",(function(){return q}));var n=r(14),a=r(31),l=r(13),i=r(6),o=r(1),s=r.n(o),d=r(57),c=r(103),u=r(28),p=r(148),m=r(24),f=r(18),g=r(62),_=r(25),b=r(22),y=r.n(b),v=r(137),h=r.n(v),x=(r(427),r(428),r(0)),w=Object(i.memo)((function(e){var t=e.placeholder,r=e.dateTime,n=e.dateFormat,a=e.timeFormat,l=e.minDate,i=e.maxDate,o=e.excludeDates,s=e.includeDates,d=e.highlightDates,c=e.showTimeSelectOnly,u=e.showTimeInput,p=e.excludeTimes,m=e.includeTimes,f=e.timeIntervals,g=e.locale,_=e.isEmpty,b=e.readOnly,y=e.disabled,v=e.className,w=e.setValue,j=e.setFocus,T=e.selectedDate,E=function(){j(!1)};return Object(x.jsx)(h.a,{selected:T,placeholderText:t,dateFormat:n,timeFormat:a,minDate:l,maxDate:i,excludeDates:o,includeDates:s,highlightDates:d,showTimeSelect:r||c,showTimeSelectOnly:c,showTimeInput:u,timeIntervals:f,excludeTimes:p,includeTimes:m,locale:g,isClearable:_,readOnly:b,disabled:y,onChange:function(e){return w(e)},onFocus:function(){return j(!0)},onBlur:E,onCalendarClose:E,className:v})}),(function(e,t){return e.value===t.value&&e.focus===t.focus})),j=function(e){var t=e.value,r=e.onChange,l=e.placeholder,o=e.dateTime,s=e.dateFormat,p=e.timeFormat,m=e.className,f=e.minDate,g=e.maxDate,_=e.highlightDates,b=e.excludeDates,y=e.includeDates,v=e.showTimeSelectOnly,h=e.showTimeInput,j=e.excludeTimes,T=e.includeTimes,E=e.locale,C=e.isEmpty,O=e.readOnly,k=e.disabled,S=Object(i.useState)({focus:!1,placeholder:l,dateTime:o,dateFormat:v?p:o?s+" "+p:s,timeFormat:p,minDate:f,maxDate:g,excludeDates:b,includeDates:y,highlightDates:_,showTimeSelectOnly:v,showTimeInput:h,excludeTimes:j,includeTimes:T,locale:E,className:m}),N=Object(a.a)(S,2),A=N[0],q=N[1];return A.isEmpty=C,A.readOnly=O,A.disabled=k,A.value=t,A.selectedDate=t?Object(d.default)(t):null,t&&!Object(c.default)(A.selectedDate)&&v&&(A.selectedDate=new Date(Object(u.a)(new Date,{representation:"date"})+"T"+t)),A.setValue=function(e){if(r)return r(null===e?C?null:A.value:v?Object(u.a)(e,{representation:"time"}):o?Object(u.a)(e):Object(u.a)(e,{representation:"date"}))},A.setFocus=function(e){q(Object(n.a)(Object(n.a)({},A),{},{focus:e}))},Object(x.jsx)(w,Object(n.a)({},A))},T=r(5),E=function(e,t){var r=Object(i.useContext)(m.b);return e&&3===e.length?r.data[e[0]][e[1]][e[2]]||"":e&&2===e.length?r.data[e[0]][e[1]]||"":t},C=function(){var e=Object(i.useContext)(m.b);return function(t,r){if(t&&Array.isArray(t)&&t.length>1){if(3===t.length){var n=s()(e.data[t[0]][t[1]],{$merge:Object(l.a)({},t[2],r)});e.setData(t[0],Object(l.a)({},t[1],n))}2===t.length&&e.setData(t[0],Object(l.a)({},t[1],r))}}},O=function(e){var t=Object(f.e)().getText(e.text),r=E(e.keys),n=e.text?t:e.keys?r:"";return"undefined"!==typeof e.value&&(n+=e.value),e.leftIcon?Object(x.jsxs)("div",{className:"row".concat(" ",e.center?y.a.centered:null),children:[Object(x.jsx)("div",{className:"cell".concat(" ",y.a.label_icon_left),style:{width:e.col||"auto"},children:e.leftIcon}),Object(x.jsx)("div",{className:"cell".concat(" ",y.a.label_info_left," ").concat(e.className||""),style:e.style||{},children:n})]}):e.rightIcon?Object(x.jsxs)("div",{className:"row full",children:[Object(x.jsx)("div",{className:"".concat(y.a.label_info_right," ").concat(e.className||""),style:e.style||{},children:n}),Object(x.jsx)("div",{className:"cell".concat(" ",y.a.label_icon_right),style:{width:e.col||"auto"},children:e.rightIcon})]}):Object(x.jsx)("span",{className:e.className||"",style:e.style||{},children:n})},k=function(e){var t=Object(f.e)(),r=Object(i.useState)({focus:!1}),l=Object(a.a)(r,2),o=l[0],s=l[1],d=t.getText(e.placeholder),c=E(e.keys,e.value),u=C();if("integer"===e.itype&&(c=parseInt(String(c).replace(/[^0-9-]|-(?=.)/g,""),10),isNaN(c)&&(c=0),e.min&&c<e.min&&(c=e.min),e.max&&c>e.max&&(c=e.max)),"float"===e.itype){var p=parseFloat(String(c).replace(/[^0-9.-]+/g,""));isNaN(p)&&(p=0),c!==p&&c!==p+"."&&(c=p)}return Object(x.jsx)("input",{id:e.id,type:e.type||"text",className:"".concat(e.className),style:e.style,placeholder:d,onChange:e.onChange?e.onChange:function(t){return u(e.keys,t.target.value)},onFocus:function(){s(Object(n.a)(Object(n.a)({},o),{},{focus:!0}))},onBlur:function(){s(Object(n.a)(Object(n.a)({},o),{},{focus:!1}))},onKeyDown:e.onEnter?function(t){13===t.keyCode&&e.onEnter()}:null,value:c})},S=function(e){var t=Object(f.e)(),r=Object(i.useState)({focus:!1}),l=Object(a.a)(r,2),o=l[0],s=l[1],d=t.getText(e.placeholder),c=E(e.keys,e.value),u=C(),p=[];return"undefined"!==typeof e.placeholder&&p.push(Object(x.jsx)("option",{className:y.a.optionPlaceholder,value:"",children:d},"placeholder")),e.options&&e.options.forEach((function(e,t){p.push(Object(x.jsx)("option",{className:y.a.option,value:e.value,children:e.text},t))})),Object(x.jsx)("select",{id:e.id,className:"".concat(e.className),style:e.style,onChange:e.onChange?e.onChange:function(t){return u(e.keys,t.target.value)},onFocus:function(){s(Object(n.a)(Object(n.a)({},o),{},{focus:!0}))},onBlur:function(){s(Object(n.a)(Object(n.a)({},o),{},{focus:!1}))},value:c,children:p})},N=function(e){var t=Object(f.e)(),r=t.getText(e.placeholder),a=E(e.keys,e.value),l=C(),i=s()(e,{$merge:{value:e.default&&""===a?e.default:a,placeholder:r,onChange:e.onChange?e.onChange:function(t){return l(e.keys,t)},dateFormat:t.getSetting("dateFormat"),timeFormat:t.getSetting("timeFormat"),locale:t.getSetting("calendar")}});return Object(x.jsx)(j,Object(n.a)({},i))},A=function(e){var t=Object(f.e)(),r=Object(g.a)(),l=Object(i.useContext)(m.b).data,o=Object(i.useState)({}),b=Object(a.a)(o,2),v=b[0],h=b[1],w=Object(_.h)(),E=e.field,C=e.values,k=e.rowdata,S=k.dataset,N=k.current,A=k.audit,q=k.onEdit,P=E.disabled,F=E.name,M=C[E.name],D=E.datatype,I=E.description,$=E.map||null,L="true"===E.empty||!0===E.empty,X=function(e,t){var r=!1;$&&($.fieldname&&(F=$.fieldname),$.extend&&(r=!0,$.text&&(F=$.text))),q({id:E.id||1,name:F,value:e,extend:r,refnumber:t&&t.label?t.label:E.link_label,item:t})},B=function(e,t){var r=s()(v.selector,{$merge:{text:"",id:null,filter:t||""}});if(e){var a=e.id.split("/");r=s()(r,{$merge:{text:e.label||e.item.lslabel}}),r=s()(r,{$merge:{id:parseInt(a[2],10),ttype:a[1]}}),"trans"===a[0]&&""!==a[1]&&e.trans_id&&(r=s()(r,{$merge:{id:e.trans_id}}))}r=s()(r,{$merge:{value:r.id||""}}),h(Object(n.a)(Object(n.a)({},v),{},{selector:r,form:null})),X(r.id,e)};v.selector||"selector"!==D||h(Object(n.a)(Object(n.a)({},v),{},{selector:function(){var e,t=s()({},{$set:{value:C.value||"",filter:I||"",text:I||"",type:E.fieldtype,ntype:E.fieldtype,ttype:null,id:C.value||null,table:{name:"fieldvalue",fieldname:"value",id:E.id}}});return $&&(t=s()(t,{$merge:{value:M||"",type:$.seltype,filter:String(t.text).split(" | ")[0],table:{name:$.table,fieldname:$.fieldname},ntype:$.lnktype,ttype:""!==M?$.transtype:t.ttype,id:""!==M?M:t.id}}),"undefined"===typeof(e=!0===$.extend||"extend"===$.table?N.extend:"undefined"!==typeof N[$.table]&&Array.isArray(N[$.table])?N[$.table].filter((function(e){return e.id===C.id}))[0]:S[$.table].filter((function(e){return e.id===C.id}))[0])&&N[$.table]&&Array.isArray(N[$.table])&&(e=N[$.table].filter((function(e){return e[$.fieldname]===t.value}))[0]),"undefined"===typeof e&&(e=S[$.table].filter((function(e){return e[$.fieldname]===t.value}))[0]),"undefined"===typeof e&&N[$.table]&&Array.isArray(N[$.table])&&(e=N[$.table].filter((function(e){return e.id===t.value}))[0]),"undefined"===typeof e&&(e=S[$.table].filter((function(e){return e.id===t.value}))[0]),"undefined"!==typeof e?(t="undefined"!==typeof e[$.label_field]&&null!==e[$.label_field]?s()(t,{$merge:{text:e[$.label_field],filter:e[$.label_field]}}):s()(t,{$merge:{text:"",filter:""}}),"undefined"!==typeof e[$.fieldname]&&""===t.value&&null!==e[$.fieldname]&&(t=s()(t,{$merge:{ntype:$.lnktype,ttype:$.transtype,id:e[$.fieldname]}})),"trans"===$.lnktype&&"undefined"!==typeof e.transtype&&(t.selector_edit={ntype:$.lnktype,ttype:e.transtype},t="undefined"!==typeof $.lnkid?s()(t,{$merge:{id:e[$.lnkid]}}):"undefined"!==typeof e[$.fieldname]?s()(t,{$merge:{id:e[$.fieldname]}}):s()(t,{$merge:{id:t.value}}))):t=s()(t,{$merge:{text:"",filter:""}})),t}()}));var z=function(e){return l.edit.template.options.opposite&&parseFloat(e)<0?String(e).replace("-",""):l.edit.template.options.opposite&&parseFloat(e)>0?"-"+e:e},R=function(){if("undefined"===typeof C[E.name])return[N[$.source]?N[$.source].filter((function(e){return e.ref_id===C.id&&e[$.value]===E.name}))[0]:S[$.source].filter((function(e){return e.ref_id===C.id&&e[$.value]===E.name}))[0],!1];var e="id"===F&&""===M?null:M;return[N[$.source]?N[$.source].filter((function(t){return t[$.value]===e}))[0]:S[$.source].filter((function(t){return t[$.value]===e}))[0],!0]};if("reportfield"!==E.rowtype&&"fieldvalue"!==E.rowtype||(M=C.value),"undefined"!==typeof M&&null!==M||(M=E.default?E.default:""),"fieldvalue"===D)if(C.datatype)D=C.datatype;else if($){var V=S[$.source].filter((function(e){return e[$.value]===C.id}))[0];D=V.fieldtype,$=null,null!==V.valuelist&&(I=V.valuelist.split("|"))}switch(D){case"password":case"color":return Object(x.jsx)("input",{className:"full",name:F,type:D,value:M||"",onChange:function(e){return X(e.target.value)},disabled:P||"readonly"===A?"disabled":""});case"date":case"datetime":var H=Object(d.default)(M);if($)if($.extend)H=Object(d.default)(N.extend[$.text]),F=$.text;else{var U=R();"undefined"!==typeof U[0]&&(H=Object(d.default)(U[0][$.text]),P=U[1]?U[1]:P)}return M=Object(c.default)(H)?Object(u.a)(H):"",Object(x.jsx)(j,{value:M,dateTime:"datetime"===D,isEmpty:L,disabled:P||"readonly"===A,onChange:function(e){X("datetime"===D?Object(p.default)(Object(d.default)(e),t.getSetting("dateFormat")+" "+t.getSetting("timeFormat")):e)},dateFormat:t.getSetting("dateFormat"),timeFormat:t.getSetting("timeFormat"),locale:t.getSetting("calendar")});case"bool":case"flip":var K=P||"readonly"===A?y.a.toggleDisabled:"";return 1===M||"1"===M||"true"===M||!0===M?Object(x.jsx)("div",{className:" ".concat("toggle"," ",y.a.toggle," ").concat(K),onClick:P||"readonly"===A?null:function(){return X("fieldvalue_value"!==E.name&&0)},children:Object(x.jsx)(T.vb,{className:"".concat(y.a.toggleOn),width:40,height:32.6})}):Object(x.jsx)("div",{className:" ".concat("toggle"," ",y.a.toggle," ").concat(K),onClick:P||"readonly"===A?null:function(){return X("fieldvalue_value"===E.name||1)},children:Object(x.jsx)(T.ub,{className:"".concat(y.a.toggleOff),width:40,height:32.6})});case"label":return null;case"select":E.extend&&(M=N.extend[E.name]||"");var W=[];return L&&W.push(Object(x.jsx)("option",{value:""},"empty")),$?S[$.source].forEach((function(e,r){var n=e[$.text];"undefined"!==typeof $.label&&"undefined"!==typeof t.getText($.label+"_"+n)&&(n=t.getText($.label+"_"+n)),W.push(Object(x.jsx)("option",{value:e[$.value],children:n},r))})):E.options.forEach((function(e,r){var n=e[1];t.getText(n)&&(n=t.getText(n)),"undefined"!==typeof E.olabel&&"undefined"!==typeof t.getText(E.olabel+"_"+e[1])&&(n=t.getText(E.olabel+"_"+e[1])),W.push(Object(x.jsx)("option",{value:e[0],children:n},r))})),Object(x.jsx)("select",{className:"full",name:E.name,value:M,disabled:P||"readonly"===A?"disabled":"",onChange:function(e){var t=isNaN(parseInt(e.target.value,10))?e.target.value:parseInt(e.target.value,10);X(t)},children:W});case"valuelist":return Object(x.jsx)("select",{className:"full",name:E.name,value:M,disabled:P||"readonly"===A?"disabled":"",onChange:function(e){return X(e.target.value)},children:I.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))});case"link":var G=C,J=R();"undefined"!==typeof J[0]&&(G=J[0],J[0][$.text]&&(M=J[0][$.text]));var Y=M;return"undefined"!==typeof $.label_field&&"undefined"!==typeof G[$.label_field]&&(Y=G[$.label_field]),Object(x.jsx)("div",{className:"link".concat(" ",y.a.link),children:Object(x.jsx)("span",{className:"".concat(y.a.lnkText),onClick:function(){return r.checkEditor({ntype:$.lnktype,ttype:$.transtype,id:M},"LOAD_EDITOR")},children:Y})});case"selector":var Q=[],Z=v&&v.selector?v.selector.text:"",ee=v&&v.selector?v.selector.type:"",te=v&&v.selector?v.selector.filter:"",re=v&&v.selector?v.selector.ntype:"",ne=v&&v.selector?v.selector.ttype:"",ae=v&&v.selector?v.selector.id:"";return $&&(!0!==$.extend&&"extend"!==$.table||N.extend&&N.extend.seltype&&(Z=N.extend[$.label_field],ee=N.extend.seltype,te=Z,re=N.extend.ntype||N.extend.seltype,ne=N.extend.transtype,ae=N.extend.ref_id)),P||"readonly"===A||Q.push(Object(x.jsx)("div",{className:" ".concat("cell"," ",y.a.searchCol),children:Object(x.jsx)("button",{className:"border-button".concat(" ",y.a.selectorButton),disabled:P||"readonly"===A?"disabled":"",onClick:function(){return w({type:ee,filter:te,onChange:function(e){h(Object(n.a)(Object(n.a)({},v),{},{form:e}))},onSelect:B})},children:Object(x.jsx)(T.gb,{})})},"sel_show")),L&&Q.push(Object(x.jsx)("div",{className:" ".concat("cell"," ",y.a.timesCol),children:Object(x.jsx)("button",{className:"border-button".concat(" ",y.a.selectorButton),disabled:P||"readonly"===A?"disabled":"",onClick:function(){return B()},children:Object(x.jsx)(T.tb,{})})},"sel_delete")),Q.push(Object(x.jsx)("div",{className:"link".concat(" ",y.a.link),children:""!==Z?Object(x.jsx)("span",{className:"".concat(y.a.lnkText),onClick:function(){return r.checkTranstype({ntype:re,ttype:ne,id:ae},"LOAD_EDITOR")},children:Z}):null},"sel_text")),Object(x.jsxs)(i.Fragment,{children:[Object(x.jsx)("div",{className:"row full",children:Q}),v.form?v.form:null]});case"button":return Object(x.jsx)("button",{className:"border-button".concat(" ",y.a.selectorButton," ").concat(E.class),disabled:P||"readonly"===A?"disabled":"",autoFocus:E.focus||!1,onClick:function(){return q(F)},children:Object(x.jsx)(O,{value:E.title?E.title:"",leftIcon:E.icon?Object(i.createElement)(E.icon):null,col:E.icon?20:null})});case"percent":case"integer":case"float":if($)if($.extend)M=N.extend[$.text],F=$.text;else{var le=R();"undefined"!==typeof le[0]&&(M=le[0][$.text],P=le[1]?le[1]:P)}if(""===M&&(M=0),"integer"===D&&(M=parseInt(String(M).replace(/[^0-9-]|-(?=.)/g,""),10),isNaN(M)&&(M=0)),"float"===D){var ie=parseFloat(String(M).replace(/[^0-9.-]+/g,""));isNaN(ie)&&(ie=0),"undefined"!==typeof E.min&&ie<E.min&&(ie=E.min),"undefined"!==typeof E.max&&ie>E.max&&(ie=E.max),M===ie||M===ie+"."&&"blur"!==v.event_type||(M=ie),(""===M||isNaN(M)||null===M)&&(M=0)}return"undefined"!==typeof E.opposite&&(M=z(M)),Object(x.jsx)("input",{name:F,type:"text",value:M||"0",className:"align-right",onChange:function(e){h(Object(n.a)(Object(n.a)({},v),{},{event_type:e.type})),X(E.opposite?parseFloat(z(e.target.value)):parseFloat(e.target.value))},onBlur:function(e){h(Object(n.a)(Object(n.a)({},v),{},{event_type:e.type})),X(E.opposite?parseFloat(z(e.target.value)):parseFloat(e.target.value))},disabled:P||"readonly"===A?"disabled":""});case"notes":case"text":case"string":default:if($)if($.extend)M=N.extend[$.text],F=$.text;else{var oe=R();"undefined"!==typeof oe[0]&&(M=oe[0][$.text],P=oe[1]?oe[1]:P,"undefined"!==typeof $.label&&"undefined"!==typeof t.getText($.label+"_"+M)&&(M=t.getText($.label+"_"+M)))}return"notes"===D||"text"===D?Object(x.jsx)("textarea",{className:"full",name:F,value:M||"",rows:E.rows?E.rows:null,onChange:function(e){return X(e.target.value)},disabled:P||"readonly"===A?"disabled":""}):Object(x.jsx)("input",{className:"full",name:F,type:"text",value:M||"",maxLength:E.length?E.length:null,size:E.length?E.length:null,onChange:function(e){return X(e.target.value)},disabled:P||"readonly"===A?"disabled":""})}},q=function(e){var t=e.values,r=e.rowdata,n=e.row,a=n.id,l=n.rowtype,i=n.label,o=n.columns,s=n.name,d=n.disabled,c=n.audit,u=n.notes,p=n.selected,m=n.empty,f=n.datatype,g=n.info,_=function(){var e=t[s]||"";return""!==e&&null!==e&&"data:image"!==e.toString().substr(0,10)&&"undefined"!==typeof r.dataset[e]&&(e=r.dataset[e]),e};switch(l){case"label":return Object(x.jsx)("div",{className:"row full padding-small section-small border-bottom".concat(" ",y.a.labelRow),children:Object(x.jsx)("div",{className:"cell padding-small",children:t[s]||i})});case"flip":var b="undefined"!==typeof t[s],v=Object(x.jsxs)("div",{className:" ".concat(y.a.reportField),onClick:function(t){return r.onEdit({id:a,selected:!0,datatype:f,defvalue:e.row.default,name:s,value:!b,extend:!1})},children:[b?Object(x.jsx)(T.vb,{className:"".concat(y.a.toggleOn),width:40,height:32.6}):Object(x.jsx)(T.ub,{className:"".concat(y.a.toggleOff),width:40,height:32.6}),Object(x.jsx)(O,{className:"bold padding-tiny".concat(" ",b?y.a.toggleOn:""),value:s})]});switch(f){case"text":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsx)("div",{className:"row full",children:Object(x.jsx)("div",{className:"cell padding-small",children:v})}),b?Object(x.jsx)("div",{className:"row full",children:Object(x.jsx)("div",{className:"cell padding-small",children:Object(x.jsx)(A,{values:t,rowdata:r,field:e.row})})}):null,g?Object(x.jsx)("div",{className:"row full padding-small",children:Object(x.jsx)("div",{className:"cell padding-small info".concat(" ",y.a.leftbar),children:g})}):null]});case"image":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"row full",children:[Object(x.jsx)("div",{className:"cell padding-small",children:v}),b?Object(x.jsx)("div",{className:"cell padding-small",children:Object(x.jsx)("input",{className:"full small",type:"file",onChange:function(e){return r.onEdit({id:a,file:!0,name:s,value:e.target.files,extend:!1})}})}):null]}),b?Object(x.jsx)("div",{className:"row full",children:Object(x.jsxs)("div",{className:"cell padding-small",children:[Object(x.jsx)("textarea",{className:"full small",value:_(),rows:5,onChange:function(e){return r.onEdit({id:a,name:s,value:e.target.value})}}),Object(x.jsx)("div",{className:"full padding-normal center",children:Object(x.jsx)("img",{src:_(),alt:""})})]})}):null,g?Object(x.jsx)("div",{className:"row full padding-small",children:Object(x.jsx)("div",{className:"cell padding-small info".concat(" ",y.a.leftbar),children:g})}):null]});case"checklist":var h=t[s]||"",w=[];return e.row.values.forEach((function(e,t){var n=e.split("|"),l=h.indexOf(n[0])>-1;w.push(Object(x.jsx)("div",{className:" ".concat("cell padding-small"," ",y.a.reportField),onClick:function(e){return r.onEdit({id:a,checklist:!0,name:s,checked:!l,value:n[0],extend:!1})},children:Object(x.jsx)(O,{className:"bold".concat(" ",l?y.a.toggleOn:""),value:n[1],leftIcon:l?Object(x.jsx)(T.p,{className:"".concat(y.a.toggleOn)}):Object(x.jsx)(T.kb,{})})},t))})),Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsx)("div",{className:"row full",children:Object(x.jsx)("div",{className:"cell padding-small",children:v})}),b?Object(x.jsx)("div",{className:"row full padding-small",children:Object(x.jsx)("div",{className:"cell padding-small toggle".concat(" ",y.a.toggle),children:w})}):null,g?Object(x.jsx)("div",{className:"row full padding-small",children:Object(x.jsx)("div",{className:"cell padding-small info".concat(" ",y.a.leftbar),children:g})}):null]});default:return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"row full",children:[Object(x.jsx)("div",{className:"cell padding-small half",children:v}),b?Object(x.jsx)("div",{className:"cell padding-small half",children:Object(x.jsx)(A,{values:t,rowdata:r,field:e.row})}):null]}),g?Object(x.jsx)("div",{className:"row full padding-small",children:Object(x.jsx)("div",{className:"cell padding-small info".concat(" ",y.a.leftbar),children:g})}):null]})}case"field":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsx)("div",{className:"cell padding-small hide-small".concat(" ",y.a.fieldCell),children:Object(x.jsx)(O,{className:"bold",value:i})}),Object(x.jsxs)("div",{className:"cell padding-small",children:[Object(x.jsx)("div",{className:"hide-medium hide-large",children:Object(x.jsx)(O,{className:"bold",value:i})}),Object(x.jsx)(A,{values:t,rowdata:r,field:e.row})]})]});case"reportfield":return Object(x.jsxs)("div",{className:"cell padding-small s12 m6 l4",children:[Object(x.jsx)("div",{className:"padding-small".concat(" ","false"!==m?y.a.reportField:""),onClick:function(){"false"!==m&&r.onEdit({id:a,name:"selected",value:!p,extend:!1})},children:Object(x.jsx)(O,{className:"bold",value:i,leftIcon:p?Object(x.jsx)(T.p,{}):Object(x.jsx)(T.kb,{})})}),Object(x.jsx)(A,{values:t,rowdata:r,field:e.row})]});case"fieldvalue":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"row full",children:[Object(x.jsx)("div",{className:"cell container-small",children:Object(x.jsx)(O,{className:"bold",value:i})}),Object(x.jsx)("div",{className:"cell align-right container-small",children:Object(x.jsx)("span",{className:"".concat(y.a.fieldvalueDelete),onClick:function(){return r.onEdit({id:a,name:"fieldvalue_deleted"})},children:Object(x.jsx)(T.tb,{})})})]}),Object(x.jsxs)("div",{className:"row full",children:[Object(x.jsx)("div",{className:"cell padding-small s12 m6 l6",children:Object(x.jsx)(A,{values:t,rowdata:r,field:e.row})}),Object(x.jsx)("div",{className:"cell padding-small s12 m6 l6",children:Object(x.jsx)("input",{name:"fieldvalue_notes",type:"text",value:u,className:"full",onChange:function(e){return r.onEdit({id:a,name:"fieldvalue_notes",value:e.target.value})},disabled:d||"readonly"===c?"disabled":""})})]})]});case"col2":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"cell padding-small s12 m6 l6",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[0].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[0]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m6 l6",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[1].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[1]})]})]});case"col3":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"cell padding-small s12 m4 l4",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[0].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[0]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m4 l4",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[1].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[1]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m4 l4",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[2].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[2]})]})]});case"col4":return Object(x.jsxs)("div",{className:"row full padding-small section-small border-bottom",children:[Object(x.jsxs)("div",{className:"cell padding-small s12 m3 l3",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[0].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[0]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m3 l3",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[1].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[1]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m3 l3",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[2].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[2]})]}),Object(x.jsxs)("div",{className:"cell padding-small s12 m3 l3",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O,{className:"bold",value:o[3].label})}),Object(x.jsx)(A,{values:t,rowdata:r,field:o[3]})]})]});default:return null}}},77:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(11),a=r.n(n),l=r(13),i=r(17),o=r(6),s=r(1),d=r.n(s),c=r(24),u=r(18),p=r(130),m=r(25),f=function(){var e=Object(o.useContext)(c.b),t=e.data,r=e.setData,n=Object(u.e)(),s=Object(p.a)(),f=Object(m.i)(),g=function(e,t,r){switch(e){case"customer":case"product":break;case"transitem":"disabled"===n.getAuditFilter("trans","offer")[0]&&(t=t.concat.push(["and",["tg.groupvalue","<>","'offer'"]])),"disabled"===n.getAuditFilter("trans","order")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'order'"]])),"disabled"===n.getAuditFilter("trans","worksheet")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'worksheet'"]])),"disabled"===n.getAuditFilter("trans","rent")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'rent'"]])),"disabled"===n.getAuditFilter("trans","invoice")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'invoice'"]]));break;case"transpayment":"disabled"===n.getAuditFilter("trans","bank")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'bank'"]])),"disabled"===n.getAuditFilter("trans","cash")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'cash'"]]));break;case"transmovement":"InventoryView"!==r&&("disabled"===n.getAuditFilter("trans","delivery")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'delivery'"]])),"disabled"===n.getAuditFilter("trans","inventory")[0]&&(t=t.concat(["and",["tg.groupvalue","<>","'inventory'"]])))}return t},_=function(e){var r={params:[],where:[]},n=s[e];if(!n)return r;switch(t.login.data.transfilterName){case"all":break;case"usergroup":null!==n().options.usergroup_filter&&(r.where=["and",n().options.usergroup_filter],r.params=[t.login.data.employee.usergroup]);break;case"own":null!==n().options.employee_filter&&(r.where=["and",n().options.employee_filter],r.params=[t.login.data.employee.id])}return r};return{showBrowser:function(e,o){r("current",{side:n.getSideBar()},Object(i.a)(a.a.mark((function i(){var c,p,m,f,g,_,b,y,v;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((c=d()(t.search,{$merge:{vkey:e,view:o,filters:{},columns:{},result:[],page:1}})).vkey===e||!s[e]){a.next=10;break}return p=[{key:"deffield",text:Object(u.a)(t.login.data.engine,s[e]().options.deffield_sql).sql,values:[]}],m={method:"POST",data:p},a.next=6,n.requestData("/view",m);case 6:if(!(f=a.sent).error){a.next=9;break}return a.abrupt("return",n.resultError(f));case 9:c=d()(c,{$merge:{deffield:f.deffield}});case 10:if("undefined"===typeof o&&(o=Object.keys(s[e]())[1]),(c=d()(c,{$merge:{vkey:e,view:o,dropdown:"",result:[]}})).filters[o]||(c=d()(c,{filters:{$merge:Object(l.a)({},o,[])}})),g=s[e]()[o],"undefined"===typeof c.columns[o]&&(c=d()(c,{columns:{$merge:Object(l.a)({},o,{})}}),"undefined"!==typeof g.columns))for(_=0;_<Object.keys(g.columns).length;_++)b=Object.keys(g.columns)[_],c=d()(c,{columns:Object(l.a)({},o,{$merge:Object(l.a)({},b,g.columns[b])})});if(0===Object.keys(c.columns[o]).length)for(y=0;y<3;y++)v=Object.keys(g.fields)[y],c=d()(c,{columns:Object(l.a)({},o,{$merge:Object(l.a)({},v,!0)})});r("search",c),r("current",{module:"search"});case 18:case"end":return a.stop()}}),i)}))))},quickSearch:function(){var e=Object(i.a)(a.a.mark((function e(r,l){var i,o,c,p,m,f,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.quick[r](String(t.login.data.employee.usergroup)),o=d()({},{$set:i.sql}),c=[],p=[],""!==l&&("{CCS}{JOKER}{SEP}lower(?){SEP}{JOKER}{CCE} ",i.columns.forEach((function(e,t){p.push([0!==t?"or":"",["lower(".concat(e[1],")"),"like","{CCS}{JOKER}{SEP}lower(?){SEP}{JOKER}{CCE} "]]),c.push(l)})),p=["and",[p]]),(p=g(r,p)).length>0&&(o=d()(o,{where:{$push:[p]}})),(m=_(r)).where.length>0&&(o=d()(o,{where:{$push:m.where}}),c=c.concat(m.params)),f=[{key:"result",text:Object(u.a)(t.login.data.engine,o).sql,values:c}],b={method:"POST",data:f},e.next=13,n.requestData("/view",b);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),getUserFilter:_,getDataFilter:g,showServerCmd:function(e){var l=t.login.data.menuCmds.filter((function(t){return t.id===parseInt(e,10)}))[0];if(l){var o=t.login.data.menuFields.filter((function(t){return t.menu_id===parseInt(e,10)})),s=d()({},{$set:{cmd:l,fields:o,values:{}}});o.forEach((function(e){switch(e.fieldtypeName){case"bool":s.values[e.fieldname]=!1;break;case"float":case"integer":s.values[e.fieldname]=0;break;default:s.values[e.fieldname]=""}})),f({params:s,onChange:function(e){r("current",{modalForm:e})},sendServerCmd:function(e){r("current",{modalForm:null},Object(i.a)(a.a.mark((function r(){var l,i,o,s,c,p;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l=new URLSearchParams,i=d()({},{$set:e.values}),e.fields.forEach((function(t){"bool"===t.fieldtypeName?(l.append(t.fieldname,e.values[t.fieldname]?1:0),i[t.fieldname]=e.values[t.fieldname]?1:0):l.append(t.fieldname,e.values[t.fieldname])})),"get"!==e.cmd.methodName){r.next=9;break}""===(o=e.cmd.address||"")&&e.cmd.funcname&&""!==e.cmd.funcname&&(o=t.session.configServer?t.session.proxy+t.session.apiPath+"/"+e.cmd.funcname:t.login.server+"/"+e.cmd.funcname),""!==o&&window.open(o+"?"+l.toString(),"_system"),r.next=32;break;case 9:if(s={method:"POST",data:{key:e.cmd.funcname||e.cmd.menukey,values:i}},!e.cmd.address||""===e.cmd.address){r.next=23;break}return r.prev=11,r.next=14,Object(u.c)(e.cmd.address,e);case 14:c=r.sent,r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(11),n.resultError(r.t0),r.abrupt("return",null);case 21:r.next=26;break;case 23:return r.next=25,n.requestData("/function",s);case 25:c=r.sent;case 26:if(!c.error){r.next=29;break}return n.resultError(c),r.abrupt("return",null);case 29:p=c,"object"===typeof c&&(p=JSON.stringify(c,null,"  ")),n.showToast({type:"success",title:n.getText("ms_server_response"),message:p});case 32:case"end":return r.stop()}}),r,null,[[11,17]])}))))}})}}}}},79:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(18),a=function(){var e=Object(n.e)();return{all:{deffield_prop:function(e){return[{select:["'customer' as ftype","c.id as id","c.custname as description"],from:"customer c",where:[["{CAS_TEXT}c.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'customer'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'tool' as ftype","t.id as id","t.serial as description"],from:"tool t",where:[["{CAS_TEXT}t.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'tool'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'trans' as ftype","t.id as id","t.transnumber as description"],from:"trans t",where:[["{CAS_TEXT}t.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'trans'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'transitem' as ftype","t.id as id","t.transnumber as description"],from:"trans t",where:[["{CAS_TEXT}t.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'transitem'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'transmovement' as ftype","t.id as id","t.transnumber as description"],from:"trans t",where:[["{CAS_TEXT}t.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'transmovement'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'transpayment' as ftype","t.id as id","t.transnumber as description"],from:"trans t",where:[["{CAS_TEXT}t.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'transpayment'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'product' as ftype","p.id as id","p.partnumber as description"],from:"product p",where:[["{CAS_TEXT}p.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'product'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'project' as ftype","p.id as id","p.pronumber as description"],from:"project p",where:[["{CAS_TEXT}p.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'project'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'employee' as ftype","e.id as id","e.empnumber as description"],from:"employee e",where:[["{CAS_TEXT}e.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'employee'"]]]],where:["fv.deleted","=","0"]}]]]},{union_select:["'place' as ftype","p.id as id","p.planumber as description"],from:"place p",where:[["{CAS_TEXT}p.id {CAE_TEXT}","in",[{select:["fv.value"],from:"deffield df",inner_join:[["fieldvalue fv","on",[["df.fieldname","=","fv.fieldname"],["and","fv.ref_id","=","?"]]],["groups nt","on",[["df.nervatype","=","nt.id"],["and","nt.groupvalue","=","'"+e+"'"]]],["groups ft","on",[["df.fieldtype","=","ft.id"],["and","ft.groupvalue","=","'place'"]]]],where:["fv.deleted","=","0"]}]]]}]}},currency:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(place.id) as co"],from:"place",inner_join:["currency","on",["place.curr","=","currency.curr"]],where:[["place.deleted","=","0"],["and","currency.id","=","?"]]},{union_select:["count(price.id) as co"],from:"price",inner_join:["currency","on",["price.curr","=","currency.curr"]],where:[["price.deleted","=","0"],["and","currency.id","=","?"]]},{union_select:["count(rate.id) as co"],from:"rate",inner_join:["currency","on",["rate.curr","=","currency.curr"]],where:[["rate.deleted","=","0"],["and","currency.id","=","?"]]},{union_select:["count(trans.id) as co"],from:"trans",inner_join:["currency","on",["trans.curr","=","currency.curr"]],where:[["trans.deleted","=","0"],["and","currency.id","=","?"]]}]],"foo"]}},currency_view:function(){return{select:["*"],from:"currency"}}},customer:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"trans",where:["customer_id","=","?"]},{union_select:["count(*) as co"],from:"project",where:["customer_id","=","?"]},{union_select:["count(*) as co"],from:"event",inner_join:[["groups nt","on",["event.nervatype","=","nt.id"]],["and","nt.groupvalue","=","'customer'"]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","ref_id_2","=","?"]]}]],"foo"]}},address:function(){return{select:["*","{CCS} case when city is null then '' else city end{SEP} ' | '{SEP} case when street is null then '' else street end{CCE} as lslabel","{CCS}'"+e.getText("address_country")+": '{SEP} case when country is null then '' else country end{SEP} ' | '{SEP} '"+e.getText("address_zipcode")+": '{SEP}case when zipcode is null then '' else zipcode end {SEP} ' | '{SEP} '"+e.getText("address_state")+": '{SEP} case when state is null then '' else state end{CCE} as lsvalue","{CCS}'"+e.getText("address_notes")+": '{SEP} case when notes is null then '' else notes end{CCE} as lsinfo"],from:"address",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","ref_id","=","?"]]}},contact:function(){return{select:["*","{CCS} case when firstname is null then '' else {CCS} firstname{SEP}' '{CCE} end{SEP}case when surname is null then '' else surname end{SEP}' '{SEP} case when status is null then '' else {CCS}' | "+e.getText("contact_status")+": '{SEP}status{CCE} end{CCE} as lslabel","{CCS}'"+e.getText("contact_phone")+": '{SEP}case when phone is null then '' else phone end {SEP}' | "+e.getText("contact_mobil")+": '{SEP}case when mobil is null then '' else mobil end {SEP}' | "+e.getText("contact_fax")+": '{SEP}case when fax is null then '' else fax end{CCE} as lsvalue","{CCS}'"+e.getText("contact_email")+": '{SEP}case when email is null then '' else email end {SEP}' | "+e.getText("contact_notes")+": '{SEP}case when notes is null then '' else notes end{CCE} as lsinfo"],from:"contact",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","ref_id","=","?"]]}},event:function(){return{select:["e.id","e.calnumber","{FMS_DATETIME}e.fromdate {FME_DATETIME} as fromdate","eg.groupvalue as eventgroup","e.subject","e.deleted","{CCS}case when e.fromdate is null then '' else {FMS_DATETIME}e.fromdate {FME_DATETIME} end{SEP}' | '{SEP}case when e.subject is null then '' else e.subject end{CCE} as lslabel","{CCS}e.calnumber{SEP}' | '{SEP}'"+e.getText("event_group")+": '{SEP}case when eg.groupvalue is null then '' else eg.groupvalue end{CCE} as lsvalue"],from:"event e",left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","e.ref_id","=","?"]]}}},deffield:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(fieldvalue.id) as co"],from:"fieldvalue",inner_join:["deffield","on",["deffield.fieldname","=","fieldvalue.fieldname"]],where:[["fieldvalue.deleted","=","0"],["and","deffield.id","=","?"]]}]],"foo"]}},deffield_view:function(){return{select:["df.*","df.description as lslabel","{CCS}ntype.groupvalue{SEP}' | '{SEP}ftype.groupvalue {CCE} as lsvalue"],from:"deffield df",inner_join:[["groups ntype","on",["df.nervatype","=","ntype.id"]],["groups ftype","on",[["df.fieldtype","=","ftype.id"],["and","ntype.groupvalue","in",[[],"'customer'","'employee'","'event'","'formula'","'place'","'product'","'project'","'tool'","'trans'"]]]]],where:[["df.deleted","=","0"],["and","df.visible","=","1"]],order_by:["df.description"]}}},employee:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"trans",where:["employee_id","=","?"]},{union_select:["count(*) as co"],from:"trans",where:["cruser_id","=","?"]},{union_select:["count(*) as co"],from:"log",where:["employee_id","=","?"]},{union_select:["count(*) as co"],from:"ui_printqueue",where:["employee_id","=","?"]},{union_select:["count(*) as co"],from:"ui_userconfig",where:["employee_id","=","?"]},{union_select:["count(*) as co"],from:"event",inner_join:[["groups nt","on",["event.nervatype","=","nt.id"]],["and","nt.groupvalue","=","'employee'"]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]],["and","ref_id_2","=","?"]]}]],"foo"]}},employee:function(){return{select:["*","{FMS_DATE}startdate {FME_DATE} as startdate","{FMS_DATE}enddate {FME_DATE} as enddate"],from:"employee",where:[["deleted","=","0"],["and","id","=","?"]]}},address:function(){return{select:["*","{CCS}case when city is null then '' else city end{SEP} ' | '{SEP} case when street is null then '' else street end{CCE} as lslabel","{CCS}'"+e.getText("address_country")+": '{SEP} case when country is null then '' else country end{SEP} ' | '{SEP} '"+e.getText("address_zipcode")+": '{SEP}case when zipcode is null then '' else zipcode end {SEP} ' | '{SEP} '"+e.getText("address_state")+": '{SEP} case when state is null then '' else state end{CCE} as lsvalue","{CCS}'"+e.getText("address_notes")+": '{SEP} case when notes is null then '' else notes end{CCE} as lsinfo"],from:"address",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]],["and","ref_id","=","?"]]}},contact:function(){return{select:["*","{CCS} case when firstname is null then '' else {CCS} firstname{SEP}' '{CCE} end{SEP}case when surname is null then '' else surname end{SEP}' '{SEP} case when status is null then '' else {CCS}' | "+e.getText("contact_status")+": '{SEP}status{CCE} end{CCE} as lslabel","{CCS}'"+e.getText("contact_phone")+": '{SEP}case when phone is null then '' else phone end {SEP}' | "+e.getText("contact_mobil")+": '{SEP}case when mobil is null then '' else mobil end {SEP}' | "+e.getText("contact_fax")+": '{SEP}case when fax is null then '' else fax end{CCE} as lsvalue","{CCS}'"+e.getText("contact_email")+": '{SEP}case when email is null then '' else email end {SEP}' | "+e.getText("contact_notes")+": '{SEP}case when notes is null then '' else notes end{CCE} as lsinfo"],from:"contact",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]],["and","ref_id","=","?"]]}},event:function(){return{select:["e.id","e.calnumber","{FMS_DATETIME}e.fromdate {FME_DATETIME} as fromdate","eg.groupvalue as eventgroup","e.subject","e.deleted","{CCS}case when e.fromdate is null then '' else {FMS_DATETIME}e.fromdate {FME_DATETIME} end{SEP} ' | '{SEP}case when e.subject is null then '' else e.subject end{CCE} as lslabel","{CCS}e.calnumber{SEP}' | '{SEP}'"+e.getText("event_group")+": '{SEP}case when eg.groupvalue is null then '' else eg.groupvalue end{CCE} as lsvalue"],from:"event e",left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]],["and","e.ref_id","=","?"]]}}},event:{event:function(){return{select:["*","{FMS_DATETIME}fromdate {FME_DATETIME} as fromdate","{FMS_DATETIME}todate {FME_DATETIME} as todate"],from:"event",where:[["deleted","=","0"],["and","id","=","?"]]}}},groups:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"groups",where:[["groupname","in",[[],"'nervatype'","'custtype'","'fieldtype'","'logstate'","'movetype'","'transtype'","'placetype'","'calcmode'","'protype'","'ratetype'","'direction'","'transtate'","'inputfilter'","'filetype'","'wheretype'","'aggretype'"]],["and","id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'groups'"]]}]],["and","ref_id_2","=","?"]]},{union_select:["count(*)"],from:"barcode",where:["barcode.barcodetype","=","?"]},{union_select:["count(*)"],from:"deffield",where:[["deffield.deleted","=","0"],["and","deffield.subtype","=","?"]]},{union_select:["count(*)"],from:"employee",where:[["employee.deleted","=","0"],["and","employee.usergroup","=","?"]]},{union_select:["count(*)"],from:"employee",where:[["employee.deleted","=","0"],["and","employee.department","=","?"]]},{union_select:["count(*)"],from:"event",where:[["event.deleted","=","0"],["and","event.eventgroup","=","?"]]},{union_select:["count(*)"],from:"rate",where:[["rate.deleted","=","0"],["and","rate.rategroup","=","?"]]},{union_select:["count(*)"],from:"tool",where:[["tool.deleted","=","0"],["and","tool.toolgroup","=","?"]]},{union_select:["count(*)"],from:"trans",where:[["trans.deleted","=","0"],["and","trans.department","=","?"]]}]],"foo"]}},groups_view:function(){return{select:["*","groupvalue as lslabel","{CCS}groupname{SEP} case when description is null then '' else {CCS}' | '{SEP}description{CCE} end{CCE} as lsvalue"],from:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'department'","'eventgroup'","'paidtype'","'toolgroup'","'rategroup'"]]]}}},log:{result:function(){return{select:["{FMS_DATE}l.crdate {FME_DATE} as crdate","e.empnumber","ls.groupvalue as logstate","l.nervatype as nervatype","l.ref_id as refnumber","l.id as id"],from:"log l",inner_join:[["employee e","on",["l.employee_id","=","e.id"]],["groups ls","on",["l.logstate","=","ls.id"]]],where:[]}}},numberdef:{numberdef_view:function(){return{select:["*","case when isyear = 1 then '"+e.getText("label_yes")+"'else '"+e.getText("label_no")+"' end as is_year"],from:"numberdef"}}},place:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"event",inner_join:[["groups nt","on",["event.nervatype","=","nt.id"]],["and","nt.groupvalue","=","'place'"]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'place'"]]}]],["and","ref_id_2","=","?"]]},{union_select:["count(*) as co"],from:"movement",where:[["movement.deleted","=","0"],["and","movement.place_id","=","?"]]},{union_select:["count(*) as co"],from:"rate",where:[["rate.deleted","=","0"],["and","rate.place_id","=","?"]]},{union_select:["count(*) as co"],from:"trans",where:[["trans.deleted","=","0"],["and","trans.place_id","=","?"]]}]],"foo"]}},contact:function(){return{select:["*","{CCS} case when firstname is null then '' else {CCS} firstname{SEP}' '{CCE} end{SEP}case when surname is null then '' else surname end{SEP}' '{SEP} case when firstname is null then '' else firstname end{SEP} case when status is null then '' else {CCS}' | "+e.getText("contact_status")+": '{SEP}status{CCE} end{CCE} as lslabel","{CCS}'"+e.getText("contact_phone")+": '{SEP}case when phone is null then '' else phone end {SEP}' | "+e.getText("contact_mobil")+": '{SEP}case when mobil is null then '' else mobil end {SEP}' | "+e.getText("contact_fax")+": '{SEP}case when fax is null then '' else fax end{CCE} as lsvalue","{CCS}'"+e.getText("contact_email")+": '{SEP}case when email is null then '' else email end {SEP}' | "+e.getText("contact_notes")+": '{SEP}case when notes is null then '' else notes end{CCE} as lsinfo"],from:"contact",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'place'"]]}]],["and","ref_id","=","?"]]}},place_view:function(){return{select:["p.*","pt.groupvalue as place_type"],from:"place p",inner_join:["groups pt","on",["p.placetype","=","pt.id"]],where:["p.deleted","=","0"]}}},printqueue:{server_printers:function(){return{select:["m.*"],from:"ui_menu m",inner_join:["groups g","on",[["m.method","=","g.id"],["and","g.groupvalue","=","'printer'"]]]}},items:function(t){var r={select:["pq.id","ntg.groupvalue as typename","case when ntg.groupvalue='trans' then tg.groupvalue else ntg.groupvalue end as stypename","case when ntg.groupvalue='trans' then tg.groupvalue else null end as transtype","case when ntg.groupvalue in ('customer') then rf_customer.custnumber when ntg.groupvalue in ('tool') then rf_tool.serial when ntg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when ntg.groupvalue in ('product') then rf_product.partnumber when ntg.groupvalue in ('project') then rf_project.pronumber when ntg.groupvalue in ('employee') then rf_employee.empnumber when ntg.groupvalue in ('place') then rf_place.planumber else 'REFNUMBER' end as refnumber, pq.ref_id, pq.qty as copies","{CCS}case when ntg.groupvalue in ('customer') then rf_customer.custnumber when ntg.groupvalue in ('tool') then rf_tool.serial when ntg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when ntg.groupvalue in ('product') then rf_product.partnumber when ntg.groupvalue in ('project') then rf_project.pronumber when ntg.groupvalue in ('employee') then rf_employee.empnumber when ntg.groupvalue in ('place') then rf_place.planumber else null end{SEP}' | '{SEP} '"+e.getText("printqueue_copies")+"'{SEP}': '{SEP}{CAS_TEXT}pq.qty{CAE_TEXT}{CCE} as lslabel","case when ntg.groupvalue='trans' then dg.groupvalue else null end as direction","{CCS}{FMS_DATE}pq.crdate{FME_DATE}{SEP}' | '{SEP}e.username {SEP}' | '{SEP}r.repname{CCE} as lsvalue","r.reportkey"],from:"ui_printqueue pq",inner_join:[["groups ntg","on",["pq.nervatype","=","ntg.id"]],["employee e","on",["pq.employee_id","=","e.id"]]],left_join:[["customer rf_customer","on",["pq.ref_id","=","rf_customer.id"]],["tool rf_tool","on",["pq.ref_id","=","rf_tool.id"]],["trans rf_trans","on",["pq.ref_id","=","rf_trans.id"]],["groups dg","on",["rf_trans.direction","=","dg.id"]],["groups tg","on",["rf_trans.transtype","=","tg.id"]],["product rf_product","on",["pq.ref_id","=","rf_product.id"]],["project rf_project","on",["pq.ref_id","=","rf_project.id"]],["employee rf_employee","on",["pq.ref_id","=","rf_employee.id"]],["place rf_place","on",["pq.ref_id","=","rf_place.id"]],["ui_report r","on",["pq.report_id","=","r.id"]]]};if("object"!==typeof t)r.where=[["pq.id","=","-1"]];else{if(r.where=[["1","=","1"]],""!==t.nervatype&&null!==t.nervatype)switch(t.nervatype){case"customer":case"product":case"employee":case"tool":case"project":r.where.push(["and","ntg.groupvalue","=","'"+t.nervatype+"'"]);break;default:r.where.push(["and","ntg.groupvalue","=","'trans'"]),r.where.push(["and","tg.groupvalue","=","'"+t.nervatype+"'"])}""!==t.startdate&&null!==t.startdate&&r.where.push(["and","pq.crdate",">=","'"+t.startdate+"'"]),""!==t.enddate&&null!==t.enddate&&r.where.push(["and","pq.crdate","<=","'"+t.enddate+"'"]),""!==t.transnumber&&null!==t.transnumber&&r.where.push(["and","case when ntg.groupvalue in ('customer') then rf_customer.custnumber when ntg.groupvalue in ('tool') then rf_tool.serial when ntg.groupvalue in ('trans', 'transitem', 'transmovement', 'transpayment') then rf_trans.transnumber when ntg.groupvalue in ('product') then rf_product.partnumber when ntg.groupvalue in ('project') then rf_project.pronumber when ntg.groupvalue in ('employee') then rf_employee.empnumber when ntg.groupvalue in ('place') then rf_place.planumber else null end","like","'"+t.transnumber+"'"]),""!==t.username&&null!==t.username&&r.where.push(["and","e.username","like","'"+t.username+"'"])}return r}},product:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"event",inner_join:["groups nt","on",[["event.nervatype","=","nt.id"],["and","nt.groupvalue","=","'product'"]]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"address",inner_join:["groups nt","on",[["address.nervatype","=","nt.id"],["and","nt.groupvalue","=","'product'"]]],where:[["address.deleted","=","0"],["and","address.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"contact",inner_join:["groups nt","on",[["contact.nervatype","=","nt.id"],["and","nt.groupvalue","=","'product'"]]],where:[["contact.deleted","=","0"],["and","contact.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]],["and","ref_id_2","=","?"]]},{union_select:["count(*) as co"],from:"barcode",where:["barcode.product_id","=","?"]},{union_select:["count(*) as co"],from:"movement",where:[["movement.deleted","=","0"],["and","movement.product_id","=","?"]]},{union_select:["count(*) as co"],from:"item",where:[["item.deleted","=","0"],["and","item.product_id","=","?"]]},{union_select:["count(*) as co"],from:"price",where:[["price.deleted","=","0"],["and","price.product_id","=","?"]]},{union_select:["count(*) as co"],from:"tool",where:[["tool.deleted","=","0"],["and","tool.product_id","=","?"]]}]],"foo"]}},barcode:function(){return{select:["bc.*","bc.code as lslabel","{CCS}g.groupvalue {SEP} ' | ' {SEP} case when bc.description is null then '' else bc.description end{CCE} as lsvalue"],from:"barcode bc",inner_join:["groups g","on",["bc.barcodetype","=","g.id"]],where:["bc.product_id","=","?"]}},barcode_check:function(e){return{select:["p.id","p.partnumber","p.description","p.unit","p.tax_id"],from:"barcode bc",inner_join:["product p","on",["bc.product_id","=","p.id"]],where:["bc.code","=","'"+e+"'"]}},price:function(){return{select:["pr.*","{FMS_DATE}pr.validfrom{FME_DATE} as validfrom","{FMS_DATE}pr.validto{FME_DATE} as validto","ln0.id as link_customer","c.id as customer_id","c.custname"],from:"price pr",left_join:[["link ln0","on",[["ln0.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'price'"]]}]],["and","ln0.ref_id_1","=","pr.id"],["and","ln0.deleted","=","0"],["and","ln0.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]]],["customer c","on",[["ln0.ref_id_2","=","c.id"],["and","c.deleted","=","0"]]]],where:[["pr.deleted","=","0"],["and","pr.discount","is null"],["and","pr.product_id","=","?"]]}},discount:function(){return{select:["pr.*","{FMS_DATE}pr.validfrom{FME_DATE} as validfrom","{FMS_DATE}pr.validto{FME_DATE} as validto","ln0.id as link_customer","c.id as customer_id","c.custname"],from:"price pr",left_join:[["link ln0","on",[["ln0.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'price'"]]}]],["and","ln0.ref_id_1","=","pr.id"],["and","ln0.deleted","=","0"],["and","ln0.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]]],["customer c","on",[["ln0.ref_id_2","=","c.id"],["and","c.deleted","=","0"]]]],where:[["pr.deleted","=","0"],["and","pr.discount","is not null"],["and","pr.product_id","=","?"]]}},event:function(){return{select:["e.id","e.calnumber","{FMS_DATETIME}e.fromdate {FME_DATETIME} as fromdate","eg.groupvalue as eventgroup","e.subject","e.deleted","{CCS}case when e.fromdate is null then '' else {FMS_DATETIME}e.fromdate {FME_DATETIME} end{SEP} ' | '{SEP}case when e.subject is null then '' else e.subject end{CCE} as lslabel","{CCS}e.calnumber{SEP}' | '{SEP}'"+e.getText("event_group")+": '{SEP}case when eg.groupvalue is null then '' else eg.groupvalue end{CCE} as lsvalue"],from:"event e",left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]],["and","e.ref_id","=","?"]]}}},project:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"trans",where:["project_id","=","?"]},{union_select:["count(*) as co"],from:"event",inner_join:["groups nt","on",[["event.nervatype","=","nt.id"],["and","nt.groupvalue","=","'project'"]]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]],["and","ref_id_2","=","?"]]}]],"foo"]}},project:function(){return{select:["pr.*","c.custname","{FMS_DATE}pr.startdate {FME_DATE} as startdate","{FMS_DATE}pr.enddate {FME_DATE} as enddate"],from:"project pr",left_join:["customer c","on",["pr.customer_id","=","c.id"]],where:[["pr.deleted","=","0"],["and","pr.id","=","?"]]}},address:function(){return{select:["*","{CCS} case when city is null then '' else city end{SEP} ' | '{SEP} case when street is null then '' else street end{CCE} as lslabel","{CCS}'"+e.getText("address_country")+": '{SEP} case when country is null then '' else country end{SEP} ' | '{SEP} '"+e.getText("address_zipcode")+": '{SEP}case when zipcode is null then '' else zipcode end {SEP} ' | '{SEP} '"+e.getText("address_state")+": '{SEP} case when state is null then '' else state end{CCE} as lsvalue","{CCS}'"+e.getText("address_notes")+": '{SEP} case when notes is null then '' else notes end{CCE} as lsinfo"],from:"address",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]],["and","ref_id","=","?"]]}},contact:function(){return{select:["*","{CCS} case when firstname is null then '' else {CCS} firstname{SEP}' '{CCE} end{SEP}case when surname is null then '' else surname end{SEP}' '{SEP} case when status is null then '' else {CCS}' | "+e.getText("contact_status")+": '{SEP}status{CCE} end{CCE} as lslabel","{CCS}'"+e.getText("contact_phone")+": '{SEP}case when phone is null then '' else phone end {SEP}' | "+e.getText("contact_mobil")+": '{SEP}case when mobil is null then '' else mobil end {SEP}' | "+e.getText("contact_fax")+": '{SEP}case when fax is null then '' else fax end{CCE} as lsvalue","{CCS}'"+e.getText("contact_email")+": '{SEP}case when email is null then '' else email end {SEP}' | "+e.getText("contact_notes")+": '{SEP}case when notes is null then '' else notes end{CCE} as lsinfo"],from:"contact",where:[["deleted","=","0"],["and","nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]],["and","ref_id","=","?"]]}},event:function(){return{select:["e.id","e.calnumber","{FMS_DATETIME}e.fromdate {FME_DATETIME} as fromdate","eg.groupvalue as eventgroup","e.subject","e.deleted","{CCS}case when e.fromdate is null then '' else {FMS_DATETIME}e.fromdate {FME_DATETIME} end{SEP} ' | '{SEP}case when e.subject is null then '' else e.subject end{CCE} as lslabel","{CCS}e.calnumber{SEP}' | '{SEP}'"+e.getText("event_group")+": '{SEP}case when eg.groupvalue is null then '' else eg.groupvalue end{CCE} as lsvalue"],from:"event e",left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]],["and","e.ref_id","=","?"]]}}},rate:{delete_state:function(){return{select:["0"]}},rate:function(){return{select:["r.*","p.planumber","{FMS_DATE}r.ratedate {FME_DATE} as ratedate"],from:"rate r",left_join:["place p","on",["r.place_id","=","p.id"]],where:[["r.deleted","=","0"],["and","r.id","=","?"]]}}},report:{report:function(e){switch(e){case"report":return{select:["r.*","fg.groupvalue as ftype"],from:"ui_report r",inner_join:["groups fg","on",["r.filetype","=","fg.id"]],where:["r.id","=","?"]};case"printqueue":return{select:["*"],from:"ui_report",where:["id","in",[{select_distinct:["report_id"],from:"ui_printqueue"}]]};default:return{select:["r.id","r.reportkey","r.repname","r.description","r.label","fg.groupvalue as filetype","case when ig.groupvalue='disabled' then 0 else 1 end as usereports","r.nervatype","r.report","r.direction"],from:"ui_report r",inner_join:["groups fg","on",["r.filetype","=","fg.id"]],left_join:[["ui_audit au","on",[["r.id","=","au.subtype"],["and","au.usergroup","=","?"],["and","au.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'report'"]]}]]]],["groups ig","on",["au.inputfilter","=","ig.id"]]],where:[["r.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","?"]]}]],["and","fg.groupvalue","in",[[],"'pdf'"]],["and","r.repname","is not null"]],order_by:["r.repname"]}}}},setting:{setting_view:function(){return{select:["fv.id","fv.fieldname","fv.value","fv.notes","df.description","df.valuelist","ft.groupvalue as fieldtype","df.description as lslabel","{CCS}case when fv.value is null then '' else fv.value end {SEP} case when fv.notes is null then '' else {CCS}' | '{SEP}fv.notes{CCE} end{CCE} as lsvalue"],from:"deffield df",inner_join:[["fieldvalue fv","on",["fv.fieldname","=","df.fieldname"]],["groups ft","on",["df.fieldtype","=","ft.id"]],["groups g","on",[["df.nervatype","=","g.id"],["and","g.groupname","=","'nervatype'"],["and","g.groupvalue","=","'setting'"]]]],where:[["df.deleted","=","0"],["and","df.visible","=","1"],["and","fv.deleted","=","0"]],order_by:["df.description"]}}},tax:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"item",where:[["item.deleted","=","0"],["and","item.tax_id","=","?"]]},{union_select:["count(*) as co"],from:"product",where:[["product.deleted","=","0"],["and","product.tax_id","=","?"]]}]],"foo"]}},tax_view:function(){return{select:["*","case when inactive = 1 then '"+e.getText("label_yes")+"' else '"+e.getText("label_no")+"' end as inact"],from:"tax"}}},template:{template:function(){return{select:["r.*","ng.groupvalue as ntype","tt.groupvalue as ttype","dir.groupvalue as dirtype"],from:"ui_report r",inner_join:["groups ng","on",["r.nervatype","=","ng.id"]],left_join:[["groups tt","on",["r.transtype","=","tt.id"]],["groups dir","on",["r.direction","=","dir.id"]]],where:["r.id","=","?"]}},template_view:function(){return{select:["r.*","r.reportkey as lslabel","r.repname as lsvalue"],from:"ui_report r",inner_join:[["groups fg","on",["r.filetype","=","fg.id"]],["groups ng","on",["r.nervatype","=","ng.id"]]],where:["fg.groupvalue","=","'pdf'"]}}},tool:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"movement",where:["tool_id","=","?"]},{union_select:["count(*) as co"],from:"event",inner_join:["groups nt","on",[["event.nervatype","=","nt.id"],["and","nt.groupvalue","=","'tool'"]]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]],["and","ref_id_2","=","?"]]}]],"foo"]}},tool:function(){return{select:["too.*","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product"],from:"tool too",inner_join:["product p","on",["too.product_id","=","p.id"]],where:[["too.deleted","=","0"],["and","too.id","=","?"]]}},event:function(){return{select:["e.id","e.calnumber","{FMS_DATETIME}e.fromdate {FME_DATETIME} as fromdate","eg.groupvalue as eventgroup","e.subject","e.deleted","{CCS}case when e.fromdate is null then '' else {FMS_DATETIME}e.fromdate {FME_DATETIME} end{SEP} ' | '{SEP}case when e.subject is null then '' else e.subject end{CCE} as lslabel","{CCS}e.calnumber{SEP}' | '{SEP}'"+e.getText("event_group")+": '{SEP}case when eg.groupvalue is null then '' else eg.groupvalue end{CCE} as lsvalue"],from:"event e",left_join:["groups eg","on",["e.eventgroup","=","eg.id"]],where:[["e.deleted","=","0"],["and","e.nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]],["and","e.ref_id","=","?"]]}}},trans:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"event",inner_join:["groups nt","on",[["event.nervatype","=","nt.id"],["and","nt.groupvalue","=","'trans'"]]],where:[["event.deleted","=","0"],["and","event.ref_id","=","?"]]},{union_select:["count(*) as co"],from:"link",where:[["nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","ref_id_2","=","?"]]}]],"foo"]}},item:function(){return{select:["i.*","p.partnumber","ta.rate"],from:"item i",inner_join:[["product p","on",["i.product_id","=","p.id"]],["tax ta","on",["i.tax_id","=","ta.id"]]],where:[["i.deleted","=","0"],["and","trans_id","=","?"]],order_by:["i.id"]}},element_count:function(){return{select:["count(t.id) as pec"],from:"trans t",inner_join:[["item i","on",[["t.id","=","i.trans_id"],["and","i.deleted","=","0"]]],["fieldvalue fv","on",[["i.product_id","=","fv.ref_id"],["and","fv.fieldname","=","'product_element'"]]]],where:["t.id","=","?"]}},payment:function(){return{select:["*","id as rid","{FMS_DATE}paiddate {FME_DATE} as paiddate"],from:"payment",where:[["deleted","=","0"],["and","trans_id","=","?"]],order_by:["id"]}},movement_delivery:function(){return{select_distinct:["mv.*","mv.id as rid","lnk_item.ref_id_2 as item_id","it.transnumber as item_refnumber","lnk_ref.ref_id_1 as ref_id","pl.planumber","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product","p.partnumber","p.unit","it.id as item_ref_id","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate"],from:"movement mv",inner_join:["groups mt","on",[["mv.movetype","=","mt.id"],["and","mt.groupvalue","in",[[],"'inventory'","'tool'","'plan'"]]]],left_join:[["product p","on",["mv.product_id","=","p.id"]],["link lnk_item","on",[["mv.id","=","lnk_item.ref_id_1"],["and","lnk_item.deleted","=","0"],["and","lnk_item.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","lnk_item.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'item'"]]}]]]],["item mi","on",["lnk_item.ref_id_2","=","mi.id"]],["trans it","on",["mi.trans_id","=","it.id"]],["link lnk_ref","on",[["mv.id","=","lnk_ref.ref_id_2"],["and","lnk_ref.deleted","=","0"],["and","lnk_ref.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","lnk_ref.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]]]],["place pl","on",["mv.place_id","=","pl.id"]]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},movement_transfer:function(){return{select_distinct:["mv.*","mv.id as rid","lnk_ref.ref_id_1 as ref_id","pl.planumber","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product","p.partnumber","p.unit","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate"],from:"movement mv",inner_join:[["trans t","on",["mv.trans_id","=","t.id"]],["product p","on",["mv.product_id","=","p.id"]],["place pl","on",["mv.place_id","=","pl.id"]],["link lnk_ref","on",[["mv.id","=","lnk_ref.ref_id_2"],["and","lnk_ref.deleted","=","0"],["and","lnk_ref.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","lnk_ref.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]]]]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},movement_inventory:function(){return{select:["mv.*","p.partnumber","p.description","p.unit","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product"],from:"movement mv",inner_join:["product p","on",["mv.product_id","=","p.id"]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},movement_waybill:function(){return{select:["mv.*","too.serial","too.description as tooldesc","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate"],from:"movement mv",inner_join:["tool too","on",["mv.tool_id","=","too.id"]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},movement_formula_head:function(){return{select:["mv.*","p.partnumber","p.description","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product"],from:"movement mv",inner_join:[["groups mt","on",[["mv.movetype","=","mt.id"],["and","mt.groupvalue","=","'head'"]]],["product p","on",["mv.product_id","=","p.id"]]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]]}},movement_formula:function(){return{select:["mv.*","p.partnumber","p.description","pl.planumber","p.unit","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product",'case when mv.shared = 1 then \'<div align="center" width="100&#37;"><a class="ui-btn ui-btn-icon-notext ui-icon-check ui-state-disabled ui-btn-b" style="background-color:#838B83;border-style:none;">YES</a></div>\' else \'<div align="center" width="100&#37;"><a class="ui-btn ui-btn-icon-notext ui-icon-delete ui-state-disabled ui-btn-b" style="background-color:#EEE8CD;border-style:none;">NO</a></div>\' end as cb_shared'],from:"movement mv",inner_join:[["groups mt","on",[["mv.movetype","=","mt.id"],["and","mt.groupvalue","=","'plan'"]]],["product p","on",["mv.product_id","=","p.id"]]],left_join:["place pl","on",["mv.place_id","=","pl.id"]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},movement_production_head:function(){return{select:["mv.*","p.partnumber","p.description","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product"],from:"movement mv",inner_join:["product p","on",["mv.product_id","=","p.id"]],where:[["mv.deleted","=","0"],["and","mv.shared","=","1"],["and","mv.trans_id","=","?"]]}},movement_production:function(){return{select:["mv.*","p.partnumber","p.description","pl.planumber","p.unit","-(mv.qty) as opposite_qty","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as product"],from:"movement mv",inner_join:["product p","on",["mv.product_id","=","p.id"]],left_join:["place pl","on",["mv.place_id","=","pl.id"]],where:[["mv.deleted","=","0"],["and","mv.shared","=","0"],["and","mv.trans_id","=","?"]],order_by:["mv.id"]}},formula_head:function(){return{select:["t.id","t.transnumber","mv.qty"],from:"trans t",inner_join:[["movement mv","on",[["mv.trans_id","=","t.id"],["and","mv.deleted","=","0"]]],["groups fmt","on",[["mv.movetype","=","fmt.id"],["and","fmt.groupvalue","=","'head'"]]],["movement pv","on",[["pv.product_id","=","mv.product_id"],["and","pv.deleted","=","0"],["and","pv.shared","=","1"]]],["groups pmt","on",[["pv.movetype","=","pmt.id"],["and","pmt.groupvalue","=","'inventory'"]]]],where:[["t.deleted","=","0"],["and","pv.trans_id","=","?"]]}},formula_items:function(){return{select:["mv.*","{FMS_DATETIME}mv.shippingdate {FME_DATETIME} as shippingdate"],from:"trans t",inner_join:[["movement mv","on",[["mv.trans_id","=","t.id"],["and","mv.deleted","=","0"]]],["groups fmt","on",[["mv.movetype","=","fmt.id"],["and","fmt.groupvalue","=","'plan'"]]]],where:["t.id","=","?"],order_by:["mv.id"]}},trans:function(){return{select:["t.*","p.pronumber","e.empnumber","c.custname","c.terms","c.discount","c.notax as cust_notax","{CCS}pl.planumber{SEP} case when pl.curr is null then '' else {CCS}' | '{SEP} pl.curr{CCE} end{CCE} as planumber","{FMS_DATE}t.crdate {FME_DATE} as crdate","{FMS_DATE}t.transdate {FME_DATE} as transdate","{FMS_DATETIME}t.duedate {FME_DATETIME} as duedate","tfp.place_id as target_place","tfp.planumber as target_planumber","case when irow.netamount is null then 0 else irow.netamount end as netamount","case when irow.vatamount is null then 0 else irow.vatamount end as vatamount","case when irow.amount is null then 0 else irow.amount end as amount","case when prow.expense is null then 0 else prow.expense end as expense","case when prow.income is null then 0 else prow.income end as income","case when prow.balance is null then 0 else prow.balance end as balance","case when fv.value is null then 'normal' else fv.value end as transcast","cu.digit"],from:"trans t",inner_join:[["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:[["fieldvalue fv","on",[["t.id","=","fv.ref_id"],["and","fieldname","=","'trans_transcast'"]]],["customer c","on",["t.customer_id","=","c.id"]],["project p","on",["t.project_id","=","p.id"]],["employee e","on",["t.employee_id","=","e.id"]],["place pl","on",["t.place_id","=","pl.id"]],["currency cu","on",["t.curr","=","cu.curr"]],[[[{select:["mv.trans_id","mv.place_id","pl.planumber"],from:"movement mv",inner_join:["place pl","on",["mv.place_id","=","pl.id"]],where:[["mv.deleted","=","0"],["and","mv.trans_id","=","?"]],group_by:["mv.trans_id","mv.place_id","pl.planumber"]}],"tfp"],"on",[["tfp.trans_id","=","t.id"],["and","tfp.place_id","<>","t.place_id"]]],[[[{select:["trans_id","sum(netamount) as netamount","sum(vatamount) as vatamount","sum(amount) as amount"],from:"item",where:[["deleted","=","0"],["and","trans_id","=","?"]],group_by:["trans_id"]}],"irow"],"on",["t.id","=","irow.trans_id"]],[[[{select:["trans_id","sum(case when amount<0 then amount else 0 end) as expense","sum(case when amount>0 then amount else 0 end) as income","sum(amount) as balance"],from:"payment",where:[["deleted","=","0"],["and","trans_id","=","?"]],group_by:["trans_id"]}],"prow"],"on",["t.id","=","prow.trans_id"]]],where:[["t.id","=","?"],["and",[["t.deleted","=","0"],["or",[["tg.groupvalue","=","'invoice'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'receipt'"],["and","dg.groupvalue","=","'out'"]]],["or",[["tg.groupvalue","=","'cash'"]]]]]]}},translink:function(){return{select:["l.*","tt.groupvalue as transtype","tr2.transnumber"],from:"link l",inner_join:[["groups t1","on",[["l.nervatype_1","=","t1.id"],["and","t1.groupname","=","'nervatype'"],["and","t1.groupvalue","=","'trans'"]]],["groups t2","on",[["l.nervatype_2","=","t2.id"],["and","t2.groupname","=","'nervatype'"],["and","t2.groupvalue","=","'trans'"]]],["fieldvalue tc","on",[["tc.ref_id","=","l.ref_id_1"],["and","tc.fieldname","=","'trans_transcast'"],["and","tc.value","in",[[],"'normal'","'cancellation'"]]]],["trans tr2","on",[["l.ref_id_2","=","tr2.id"],["and",["tr2.deleted","=","0"]]]],["groups tt","on",["tr2.transtype","=","tt.id"]]],where:[["l.deleted","=","0"],["and","l.ref_id_1","=","?"]]}},cancel_link:function(){return{select:["l.*","tt.groupvalue as transtype","tr1.transnumber"],from:"link l",inner_join:[["groups t1","on",[["l.nervatype_1","=","t1.id"],["and","t1.groupname","=","'nervatype'"],["and","t1.groupvalue","=","'trans'"]]],["groups t2","on",[["l.nervatype_2","=","t2.id"],["and","t2.groupname","=","'nervatype'"],["and","t2.groupvalue","=","'trans'"]]],["trans tr1","on",[["l.ref_id_1","=","tr1.id"]]],["groups tt","on",["tr1.transtype","=","tt.id"]],["fieldvalue tc","on",[["tc.ref_id","=","tr1.id"],["and","tc.fieldname","=","'trans_transcast'"],["and","tc.value","=","'cancellation'"]]]],where:[["l.deleted","=","0"],["and","l.ref_id_2","=","?"]]}},invoice_customer:function(){return{select:["comp.custname as trans_custinvoice_compname","{CCS}comp.zipcode{SEP}' '{SEP}comp.city{SEP}' '{SEP}comp.street{CCE} as trans_custinvoice_compaddress","comp.taxnumber as trans_custinvoice_comptax","cust.custname as trans_custinvoice_custname","{CCS}cust.zipcode{SEP}' '{SEP}cust.city{SEP}' '{SEP}cust.street{CCE} as trans_custinvoice_custaddress","cust.taxnumber as trans_custinvoice_custtax"],from:[[[{select:["c.custname","adr.zipcode","adr.city","adr.street","c.taxnumber"],from:"customer c",left_join:[[[{select:["ref_id as customer_id","case when zipcode is null then '' else zipcode end as zipcode","case when city is null then '' else city end as city","case when street is null then '' else street end as street"],from:"address",where:["id","in",[{select:["min(id)"],from:"address",where:[["nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","deleted","=","0"]],group_by:["ref_id"]}]]}],"adr"],"on",["c.id","=","adr.customer_id"]],where:["c.id","in",[{select:["min(customer.id)"],from:"customer",inner_join:["groups","on",[["customer.custtype","=","groups.id"],["and","groups.groupvalue","=","'own'"]]]}]]}],"comp,"],[[{select:["c.custname","adr.zipcode","adr.city","adr.street","c.taxnumber"],from:"customer c",left_join:[[[{select:["ref_id as customer_id","case when zipcode is null then '' else zipcode end as zipcode","case when city is null then '' else city end as city","case when street is null then '' else street end as street"],from:"address",where:["id","in",[{select:["min(id)"],from:"address",where:[["nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]],["and","deleted","=","0"]],group_by:["ref_id"]}]]}],"adr"],"on",["c.id","=","adr.customer_id"]],where:["c.id","=","?"]}],"cust"]]}},invoice_link:function(){return{select:["ln.*","{CCS}t.transnumber{SEP}case when tg.groupvalue='bank' then {CCS}' ~ '{SEP}{CAS_TEXT}p.id {CAE_TEXT}{CCE} else '' end{SEP}' | '{SEP}tg.groupvalue{SEP}'-'{SEP}dg.groupvalue{CCE} as lsvalue","{CCS}{CAS_TEXT}p.paiddate {CAE_TEXT}{SEP}' | ' {SEP}pa.description{SEP}' | ' {SEP}{CAS_TEXT}{CAS_FLOAT}af.value {CAE_FLOAT}*{CAS_FLOAT}rf.value {CAE_FLOAT}{CAE_TEXT}{CCE} as lslabel","t.id as trans_id","tg.groupvalue as transtype","pa.curr","{CCS}t.transnumber{SEP}case when tg.groupvalue='bank' then {CCS}' ~ '{SEP}{CAS_TEXT}p.id {CAE_TEXT}{CCE} else '' end{CCE} as transnumber"],from:"link ln",inner_join:[["payment p","on",[["ln.ref_id_1","=","p.id"],["and","p.deleted","=","0"]]],["trans t","on",["p.trans_id","=","t.id"]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["place pa","on",["t.place_id","=","pa.id"]],["fieldvalue af","on",[["ln.id","=","af.ref_id"],["and","af.fieldname","=","'link_qty'"]]],["fieldvalue rf","on",[["ln.id","=","rf.ref_id"],["and","rf.fieldname","=","'link_rate'"]]]],where:[["ln.deleted","=","0"],["and","ln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'payment'"]]}]],["and","ln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","ln.ref_id_2","=","?"]],order_by:["p.paiddate"]}},payment_link:function(){return{select:["ln.*","p.id as rid","t.transnumber","t.curr","af.value as amount","rf.value as rate","{CCS}t.curr{SEP}' | '{SEP}af.value{SEP}' | '{SEP}'"+e.getText("payment_rate")+" :'{SEP}rf.value{CCE} as lslabel","{CCS}'"+e.getText("payment_item")+": '{SEP}{CAS_TEXT}p.id {CAE_TEXT}{SEP}' | '{SEP}'"+e.getText("payment_invnumber")+": '{SEP}t.transnumber{CCE} as lsvalue"],from:"link ln",inner_join:[["payment p","on",[["ln.ref_id_1","=","p.id"],["and","p.deleted","=","0"]]],["trans t","on",["ln.ref_id_2","=","t.id"]],["groups tg","on",["t.transtype","=","tg.id"]],["groups dg","on",["t.direction","=","dg.id"]],["fieldvalue af","on",[["ln.id","=","af.ref_id"],["and","af.fieldname","=","'link_qty'"]]],["fieldvalue rf","on",[["ln.id","=","rf.ref_id"],["and","rf.fieldname","=","'link_rate'"]]]],where:[["ln.deleted","=","0"],["and","ln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'payment'"]]}]],["and","ln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","p.trans_id","=","?"]],order_by:["p.paiddate"]}},tool_movement:function(){return{select:["t.id","{CCS}t.transnumber{SEP}' | '{SEP}dg.groupvalue{CCE} as lsvalue","{CCS}{CAS_TEXT}mv.shippingdate {CAE_TEXT}{SEP}' | '{SEP}tl.serial{SEP}' | '{SEP}tl.description{CCE} as lslabel"],from:"trans t",inner_join:[["movement mv","on",["t.id","=","mv.trans_id"]],["tool tl","on",["mv.tool_id","=","tl.id"]],["groups tg","on",[["t.transtype","=","tg.id"],["and","tg.groupvalue","=","'waybill'"]]],["groups dg","on",["t.direction","=","dg.id"]]],left_join:[["link lnk","on",[["t.id","=","lnk.ref_id_1"],["and","lnk.deleted","=","0"],["and","lnk.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","lnk.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]]]],["trans lt","on",["lnk.ref_id_2","=","lt.id"]]],where:[["t.deleted","=","0"],["and","mv.deleted","=","0"],["and","lt.id","=","?"]],order_by:["shippingdate"]}},transitem_invoice:function(){return{select:["t1.id as id","ti.product_id","ti.deposit","ti.qty","{CCS}t1.transnumber{SEP}' | '{SEP} {CAS_TEXT}t1.transdate {CAE_TEXT}{SEP} case when ti.deposit=1 then {CCS}' | '{SEP}'Deposit'{CCE} else '' end{CCE} as lsinfo","ti.description as lsvalue","{CCS}ti.unit{SEP}' | '{SEP}{CAS_TEXT}ti.qty {CAE_TEXT}{SEP}' | '{SEP} t1.curr{SEP}' | '{SEP}{CAS_TEXT}ti.amount {CAE_TEXT}{CCE} as lslabel"],from:"link ln",inner_join:[["trans t1","on",[["ln.ref_id_1","=","t1.id"],["and","t1.deleted","=","0"]]],["groups t1type","on",[["t1.transtype","=","t1type.id"],["and",[["t1type.groupvalue","=","'invoice'"],["or","t1type.groupvalue","=","'receipt'"]]]]],["groups t1dir","on",["t1.direction","=","t1dir.id"]],["item ti","on",[["t1.id","=","ti.trans_id"],["and","ti.deleted","=","0"]]],["trans t2","on",["ln.ref_id_2","=","t2.id"]]],where:[["ln.deleted","=","0"],["and","ln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","ln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","t1.direction","=","t2.direction"],["and","ln.ref_id_2","=","?"]],order_by:["ti.id"]}},transitem_shipping:function(){return{select:["{CCS}i.id{SEP}'-'{SEP}mt.product_id{CCE} as id","mt.product_id","ip.description as item_product","mp.description as movement_product","sum(mt.qty) as sqty"],from:"item i",inner_join:[["product ip","on",["i.product_id","=","ip.id"]],["link ln","on",[["ln.ref_id_2","=","i.id"],["and","ln.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'item'"]]}]]]],["movement mt","on",[["ln.ref_id_1","=","mt.id"],["and","mt.deleted","=","0"],["and","ln.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]]]],["product mp","on",["mt.product_id","=","mp.id"]]],where:[["i.deleted","=","0"],["and","i.trans_id","=","?"]],group_by:["i.id","ip.description","mt.product_id","mp.description"],order_by:["ip.description"]}},shipping_items:function(){return{select:["i.id as item_id","i.description","case when pe.id is null then i.product_id else pe.id end as product_id","case when pf.notes is null then 1 else {CAS_FLOAT}pf.notes {CAE_FLOAT} end * i.qty as qty","case when pe.id is null then p.unit else pe.unit end as unit","case when pe.id is null then p.partnumber else pe.partnumber end as partnumber","case when pe.id is null then p.description else pe.description end as partname","case when pe.id is null then {CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} else {CCS}pe.partnumber{SEP}' | '{SEP}pe.description{CCE} end as product","case when pe.id is null then 0 else 1 end as pgroup"],from:"item i",inner_join:[["product p","on",["i.product_id","=","p.id"]],["groups pg","on",[["p.protype","=","pg.id"],["and","pg.groupvalue","=","'item'"]]]],left_join:[["fieldvalue pf","on",[["pf.ref_id","=","i.product_id"],["and","pf.fieldname","=","'product_element'"]]],["product pe","on",["{CAS_INT}pf.value {CAE_INT}","=","pe.id"]]],where:[["i.deleted","=","0"],["and","trans_id","=","?"]],order_by:["i.id"]}},shipping_delivery:function(){return{select:["t.id","{CCS}p.unit{SEP}' | '{SEP}{CAS_TEXT}mv.qty {CAE_TEXT}{SEP}' | '{SEP}mv.notes{CCE} as lslabel","{CCS}p.partnumber{SEP}' | '{SEP}p.description{CCE} as lsvalue","{CCS}t.transnumber{SEP}' | '{SEP} {CAS_TEXT}{FMS_DATETIME}mv.shippingdate {FME_DATETIME} {CAE_TEXT}{SEP}' | '{SEP}pl.planumber{CCE} as lsinfo"],from:"movement mv",inner_join:[["product p","on",["mv.product_id","=","p.id"]],["trans t","on",["mv.trans_id","=","t.id"]],["link lnk_item","on",[["mv.id","=","lnk_item.ref_id_1"],["and","lnk_item.deleted","=","0"],["and","lnk_item.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'movement'"]]}]],["and","lnk_item.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'item'"]]}]]]],["item mi","on",["lnk_item.ref_id_2","=","mi.id"]],["trans it","on",["mi.trans_id","=","it.id"]],["place pl","on",["mv.place_id","=","pl.id"]]],where:[["mv.deleted","=","0"],["and","mi.trans_id","=","?"]],order_by:["mv.id"]}},shipping_stock:function(){return{select:["pl.id","p.partnumber","p.description","p.unit","mv.notes as batch_no","{CCS}pl.planumber{SEP}' | '{SEP}pl.description{CCE} as warehouse","sum(mv.qty) as sqty","{FMS_DATETIME}max(mv.shippingdate) {FME_DATETIME} as shipping"],from:"movement mv",inner_join:[["groups g","on",[["mv.movetype","=","g.id"],["and","g.groupvalue","=","'inventory'"]]],["place pl","on",["mv.place_id","=","pl.id"]],["product p","on",["mv.product_id","=","p.id"]],["trans t","on",[["mv.trans_id","=","t.id"],["and","t.deleted","=","0"]]]],where:[["mv.deleted","=","0"],["and","p.id","=","?"]],group_by:["pl.id","pl.planumber","pl.description","p.id","p.partnumber","p.description","p.unit","mv.notes"],order_by:["sum(mv.qty)"]}}},ui_menu:{ui_menufields:function(){return{select:["f.*","ft.groupvalue as fieldtype_name"],from:"ui_menufields f",inner_join:["groups ft","on",["f.fieldtype","=","ft.id"]],where:["menu_id","=","?"]}},ui_menu_view:function(){return{select:["*","menukey as lslabel","description as lsvalue"],from:"ui_menu"}}},usergroup:{delete_state:function(){return{select:["sum(co) as sco"],from:[[[{select:["count(*) as co"],from:"employee",where:[["employee.deleted","=","0"],["and","employee.usergroup","=","?"]]}]],"foo"]}},reportkey:function(){return{select:["id","reportkey"],from:"ui_report",order_by:["reportkey"]}},menukey:function(){return{select:["id","menukey"],from:"ui_menu",order_by:["menukey"]}},datafilter:function(){return{select:["*"],from:"link l",where:[["l.deleted","=","0"],["and","l.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'groups'"]]}]],["and","l.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'groups'"]]}]],["and","l.ref_id_1","=","?"]]}},audit:function(){return{select:["a.*","nt.groupvalue as nervatype_name","case when nt.groupvalue ='trans' then st.groupvalue when nt.groupvalue ='report' then ur.reportkey when nt.groupvalue ='menu' then um.menukey else null end as subtype_name","inf.groupvalue as inputfilter_name","case when a.supervisor = 1 then '"+e.getText("label_yes")+"' else '"+e.getText("label_no")+"' end as supervisor_name"],from:"ui_audit a",inner_join:[["groups nt","on",["a.nervatype","=","nt.id"]],["groups inf","on",["a.inputfilter","=","inf.id"]]],left_join:[["groups st","on",["a.subtype","=","st.id"]],["ui_report ur","on",["a.subtype","=","ur.id"]],["ui_menu um","on",["a.subtype","=","um.id"]]],where:["a.usergroup","=","?"]}},usergroup_view:function(){return{select:["ug.*","ug.groupvalue as lslabel","case when ug.description is null then '' else ug.description end as lsvalue","l.ref_id_2 as transfilter","l.id as translink"],from:"groups ug",left_join:["link l","on",[["l.ref_id_1","=","ug.id"],["and","l.deleted","=","0"],["and","l.nervatype_1","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'groups'"]]}]],["and","l.nervatype_2","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'groups'"]]}]]]],where:[["ug.deleted","=","0"],["and","ug.groupname","in",[[],"'usergroup'"]]]}}}}}},80:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),a=r.n(n),l=r(18),i=r(5),o=function(){var e=Object(l.e)();return{address:function(t){var r={options:{title:e.getText("address_view"),title_field:"",icon:i.L,panel:{}},rows:[{rowtype:"col3",columns:[{name:"country",label:e.getText("address_country"),datatype:"string"},{name:"state",label:e.getText("address_state"),datatype:"string"},{name:"zipcode",label:e.getText("address_zipcode"),datatype:"string"}]},{rowtype:"field",name:"city",label:e.getText("address_city"),datatype:"string"},{rowtype:"field",name:"street",label:e.getText("ddress_street"),datatype:"string"},{rowtype:"field",name:"notes",label:e.getText("address_notes"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},bank:function(t,r){var n={options:{title:e.getText("title_bank"),title_field:"transnumber",icon:i.Y,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,create:!1,bookmark:["editor","trans","transnumber"],help:"payment"}},view:{payment:{type:"table",icon:i.S,title:e.getText("item_view"),data:"payment",total:{expense:e.getText("payment_expense"),income:e.getText("payment_income"),balance:e.getText("payment_balance")},fields:{rid:{fieldtype:"number",label:e.getText("payment_item")},paiddate:{fieldtype:"date",label:e.getText("payment_paiddate2")},amount:{fieldtype:"number",label:e.getText("payment_amount")},notes:{fieldtype:"string",label:e.getText("payment_description")}}},payment_link:{type:"list",data:"payment_link",icon:i.F,title:e.getText("invoice_view"),actions:{new:null,edit:{action:"editEditorItem",fkey:"payment_link"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"crdate",label:e.getText("bank_crdate"),datatype:"date",disabled:!1},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"transdate",label:e.getText("bank_transdate"),datatype:"date"},{name:"place_id",label:e.getText("payment_place_bank"),datatype:"selector",empty:!1,map:{seltype:"place_bank",table:"trans",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):r.dataset.translink.length>0&&(n=a()(n,{rows:{0:{columns:{0:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}))),n},barcode:function(t){var r={options:{title:e.getText("barcode_view"),title_field:"",icon:i.e,panel:{}},rows:[{rowtype:"field",name:"code",label:e.getText("barcode_code"),datatype:"string"},{rowtype:"col3",columns:[{name:"barcodetype",label:e.getText("barcode_barcodetype"),datatype:"select",map:{source:"barcodetype",value:"id",text:"description"}},{name:"qty",label:e.getText("barcode_qty"),datatype:"float"},{name:"defcode",label:e.getText("barcode_defcode"),datatype:"flip"}]},{rowtype:"field",name:"description",label:e.getText("barcode_description"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},cash:function(t,r){var n={options:{title:e.getText("title_cash"),title_field:"transnumber",icon:i.Y,fieldvalue:!0,pattern:!0,extend:"payment",panel:{arrow:!0,more:!0,trans:!0,create:!1,cancellation:!0,bookmark:["editor","trans","transnumber"],help:"payment",link:!0,link_type:"payment_link",link_field:"ref_id_1",link_label:e.getText("label_link_invoice")}},view:{payment_link:{type:"list",data:"payment_link",icon:i.F,title:e.getText("invoice_view"),actions:{new:null,edit:{action:"editEditorItem",fkey:"payment_link"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"crdate",label:e.getText("invoice_crdate"),datatype:"date",disabled:!0},{name:"closed",label:e.getText("document_closed"),datatype:"flip"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"direction",label:e.getText("document_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"cash"}},{name:"id",label:e.getText("payment_paiddate"),datatype:"date",map:{source:"payment",value:"trans_id",text:"paiddate",extend:!0}},{name:"id",label:e.getText("payment_amount"),datatype:"float",opposite:!0,map:{source:"payment",value:"trans_id",text:"amount",extend:!0}}]},{rowtype:"col2",columns:[{name:"place_id",label:e.getText("payment_place_cash"),datatype:"selector",empty:!1,map:{seltype:"place_cash",table:"trans",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}},{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}}]},{rowtype:"col2",columns:[{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"}]};"undefined"!==typeof t&&("out"===r.dataset.groups.filter((function(e){return e.id===t.direction}))[0].groupvalue&&(n=a()(n,{options:{$merge:{opposite:!0}}})),null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1,link:!1}}}}):(n=a()(n,{rows:{1:{columns:{0:{$merge:{disabled:!0}}}}}}),r.dataset.translink.length>0?n=a()(n,{rows:{3:{columns:{0:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}):r.dataset.cancel_link.length>0&&(n=a()(n,{rows:{3:{columns:{0:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"cancel_link",value:"ref_id_2",text:"ref_id_1",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.cancel_link[0].transtype}}}}}}}))));return n},contact:function(t){var r={options:{title:e.getText("contact_view"),title_field:"",icon:i.ab,panel:{}},rows:[{rowtype:"col2",columns:[{name:"firstname",label:e.getText("contact_firstname"),datatype:"string"},{name:"surname",label:e.getText("contact_surname"),datatype:"string"}]},{rowtype:"col2",columns:[{name:"status",label:e.getText("contact_status"),datatype:"string"},{name:"phone",label:e.getText("contact_phone"),datatype:"string"}]},{rowtype:"col2",columns:[{name:"mobil",label:e.getText("contact_mobil"),datatype:"string"},{name:"fax",label:e.getText("contact_fax"),datatype:"string"}]},{rowtype:"field",name:"email",label:e.getText("contact_email"),datatype:"string"},{rowtype:"field",name:"notes",label:e.getText("contact_notes"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},currency:function(t){var r={options:{icon:i.z,data:"currency",title:e.getText("title_currency"),panel:{page:"setting",more:!1,help:"currency"}},view:{setting:{type:"table",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}},fields:{curr:{fieldtype:"string",label:e.getText("currency_curr")},description:{fieldtype:"string",label:e.getText("currency_description")},digit:{fieldtype:"number",label:e.getText("currency_digit")},cround:{fieldtype:"number",label:e.getText("currency_cround")},defrate:{fieldtype:"number",label:e.getText("currency_defrate")}}}},rows:[{rowtype:"col2",columns:[{name:"curr",label:e.getText("currency_curr"),datatype:"string"},{name:"description",label:e.getText("currency_description"),datatype:"string"}]},{rowtype:"col3",columns:[{name:"digit",label:e.getText("currency_digit"),datatype:"integer"},{name:"cround",label:e.getText("currency_cround"),datatype:"integer"},{name:"defrate",label:e.getText("currency_defrate"),datatype:"float"}]}]};return"undefined"!==typeof t&&(r=null!==t.id?a()(r,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}):a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},customer:function(t,r){var n={options:{title:e.getText("title_customer"),title_field:"custnumber",icon:i.Ab,fieldvalue:!0,panel:{more:!0,bookmark:["editor","customer","custname","custnumber"],help:"customer"}},view:{address:{type:"list",data:"address",icon:i.L,title:e.getText("address_view")},contact:{type:"list",data:"contact",icon:i.ab,title:e.getText("contact_view")},event:{type:"list",data:"event",icon:i.k,title:e.getText("event_view"),actions:{new:{action:"loadEditor",ntype:"event",ttype:null},edit:{action:"loadEditor",ntype:"event",ttype:null},delete:{action:"deleteEditorItem",fkey:"event",table:"event"}}}},rows:[{rowtype:"field",name:"custname",label:e.getText("customer_custname"),datatype:"string"},{rowtype:"col3",columns:[{name:"custnumber",label:e.getText("customer_custnumber"),datatype:"string"},{name:"taxnumber",label:e.getText("customer_taxnumber"),datatype:"string"},{name:"account",label:e.getText("customer_account"),datatype:"string"}]}]};return"undefined"!==typeof t&&("undefined"!==typeof r.dataset.custtype&&(t.custtype===r.dataset.groups.filter((function(e){return"custtype"===e.groupname&&"own"===e.groupvalue}))[0].id?(n=a()(n,{options:{$merge:{title:e.getText("title_company"),icon:i.L}}}),n=a()(n,{options:{panel:{$merge:{new:!1,delete:!1}}}})):n=a()(n,{rows:{$push:[{rowtype:"col3",columns:[{name:"creditlimit",label:e.getText("customer_creditlimit"),datatype:"float"},{name:"terms",label:e.getText("customer_terms"),datatype:"integer"},{name:"discount",label:e.getText("customer_discount"),datatype:"float",min:0,max:100}]},{rowtype:"col3",columns:[{name:"custtype",label:e.getText("customer_custtype"),datatype:"select",map:{source:"custtype",value:"id",text:"groupvalue"}},{name:"inactive",label:e.getText("customer_inactive"),datatype:"flip"},{name:"notax",label:e.getText("customer_notax"),datatype:"flip"}]}]}}),n=a()(n,{rows:{$push:[{rowtype:"field",name:"notes",label:e.getText("customer_notes"),datatype:"text"}]}})),n=null===t.id?a()(n,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1}}}}):a()(n,{rows:{1:{$merge:{columns:n.rows[1].columns.slice(1,n.rows[1].columns.length),rowtype:"col2"}}}})),n},deffield:function(t,r){var n={options:{icon:i.ob,data:"deffield",title:e.getText("title_deffield"),panel:{page:"setting",more:!1,help:"deffield"}},view:{setting:{type:"list",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}}}},rows:[{rowtype:"field",name:"fieldname",label:e.getText("deffield_fieldname"),datatype:"string",disabled:!0},{rowtype:"col2",columns:[{name:"nervatype",label:e.getText("deffield_nervatype"),datatype:"select",empty:!0,map:{source:"nervatype",value:"id",text:"groupvalue"}},{name:"fieldtype",label:e.getText("deffield_fieldtype"),datatype:"select",empty:!0,map:{source:"fieldtype",value:"id",text:"groupvalue"}}]},{rowtype:"field",name:"description",label:e.getText("deffield_description"),datatype:"string"},{rowtype:"col3",columns:[{name:"addnew",label:e.getText("deffield_addnew"),datatype:"flip"},{name:"visible",label:e.getText("deffield_visible"),datatype:"flip"},{name:"readonly",label:e.getText("deffield_readonly"),datatype:"flip"}]}]};return"undefined"!==typeof t&&(null!==t.id?(n=a()(n,{rows:{1:{columns:{0:{$merge:{disabled:!0}},1:{$merge:{disabled:!0}}}}}}),t.fieldtype===r.dataset.fieldtype.filter((function(e){return"valuelist"===e.groupvalue}))[0].id&&(n=a()(n,{rows:{$push:[{rowtype:"field",name:"valuelist",label:e.getText("deffield_valuelist"),datatype:"text"}]}}))):n=a()(n,{options:{panel:{$merge:{new:!1,delete:!1}}}})),n},delivery:function(t,r){var n={options:{title:e.getText("title_delivery"),title_field:"transnumber",icon:i.wb,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,create:!1,copy:!1,cancellation:!0,delete:!1,new:!1,bookmark:["editor","trans","transnumber"],help:"delivery"}},view:{movement:{type:"table",icon:i.S,title:e.getText("item_view"),data:"movement",edited:!1,fields:{product:{fieldtype:"string",label:e.getText("product_description")},unit:{fieldtype:"string",label:e.getText("product_unit")},notes:{fieldtype:"string",label:e.getText("movement_batchnumber")},qty:{fieldtype:"number",label:e.getText("movement_qty")}}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("delivery_direction"),datatype:"string",map:{source:"groups",value:"id",text:"groupvalue",label:"delivery"}},{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"movement",value:"trans_id",text:"item_ref_id",label_field:"item_refnumber",lnktype:"trans",transtype:"order"}},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("delivery_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("delivery_transdate"),datatype:"date",disabled:!0},{name:"id",label:e.getText("delivery_place"),datatype:"string",map:{source:"movement",value:"trans_id",text:"planumber"}}]}]};"undefined"!==typeof t&&("transfer"===r.dataset.groups.filter((function(e){return e.id===t.direction}))[0].groupvalue&&(n=r.dataset.translink&&r.dataset.translink.length>0?a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}):r.dataset.cancel_link&&r.dataset.cancel_link.length>0?a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"cancel_link",value:"ref_id_2",text:"ref_id_1",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.cancel_link[0].transtype}}}}}}}):a()(n,{rows:{0:{columns:{1:{$set:{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"}}}}}}),n=a()(n,{rows:{1:{columns:{1:{$merge:{disabled:!1}},2:{$set:{name:"closed",label:e.getText("document_closed"),datatype:"flip"}}}}}}),n=a()(n,{rows:{$push:[{rowtype:"col2",columns:[{name:"place_id",label:e.getText("delivery_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"trans",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}},{name:"target_place",label:e.getText("movement_target"),datatype:"selector",empty:!1,disabled:!0,map:{seltype:"place_warehouse",table:"trans",fieldname:"target_place",lnktype:"place",transtype:"",label_field:"target_planumber"}}]}]}}),n=null===t.id?a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):a()(n,{options:{panel:{$merge:{copy:!0,new:!0}}},view:{movement:{$merge:{edit:!0,data:"movement_transfer"}}},rows:{2:{columns:{0:{$merge:{disabled:!0}}}}}})),n=a()(n,{rows:{$push:[{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]}}));return n},discount:function(t){var r={options:{title:e.getText("discount_view"),title_field:"",icon:i.z,panel:{}},rows:[{rowtype:"col3",columns:[{name:"validfrom",label:e.getText("price_validfrom"),datatype:"date"},{name:"validto",label:e.getText("price_validto"),datatype:"date",empty:!0},{name:"vendor",label:e.getText("price_vendor"),datatype:"flip"}]},{rowtype:"col3",columns:[{name:"curr",label:e.getText("price_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"qty",label:e.getText("price_qty"),datatype:"float"},{name:"pricevalue",label:e.getText("price_limit"),datatype:"float"}]},{rowtype:"col2",columns:[{name:"calcmode",label:e.getText("price_calcmode"),datatype:"select",map:{source:"calcmode",value:"id",text:"description"}},{name:"discount",label:e.getText("price_discount"),datatype:"float"}]},{rowtype:"field",name:"id",label:e.getText("customer_custname"),datatype:"selector",empty:!0,map:{seltype:"customer",table:"discount",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},employee:function(t){var r={options:{title:e.getText("title_employee"),title_field:"empnumber",icon:i.W,extend:"contact",fieldvalue:!0,panel:{more:!0,password:!0,bookmark:["editor","employee","empnumber","empnumber"],help:"employee"}},view:{address:{type:"list",data:"address",icon:i.L,title:e.getText("address_view")},event:{type:"list",data:"event",icon:i.k,title:e.getText("event_view"),actions:{new:{action:"loadEditor",ntype:"event",ttype:null},edit:{action:"loadEditor",ntype:"event",ttype:null},delete:{action:"deleteEditorItem",fkey:"event",table:"event"}}}},rows:[{rowtype:"col3",columns:[{name:"empnumber",label:e.getText("employee_empnumber"),datatype:"string"},{name:"id",label:e.getText("contact_firstname"),datatype:"string",map:{source:"contact",value:"ref_id",text:"firstname",extend:!0}},{name:"id",label:e.getText("contact_surname"),datatype:"string",map:{source:"contact",value:"ref_id",text:"surname",extend:!0}}]},{rowtype:"col3",columns:[{name:"id",label:e.getText("contact_status"),datatype:"string",map:{source:"contact",value:"ref_id",text:"status",extend:!0}},{name:"id",label:e.getText("contact_phone"),datatype:"string",map:{source:"contact",value:"ref_id",text:"phone",extend:!0}},{name:"id",label:e.getText("contact_mobil"),datatype:"string",map:{source:"contact",value:"ref_id",text:"mobil",extend:!0}}]},{rowtype:"field",name:"id",label:e.getText("contact_email"),datatype:"string",map:{source:"contact",value:"ref_id",text:"email",extend:!0}},{rowtype:"col3",columns:[{name:"startdate",label:e.getText("employee_startdate"),datatype:"date",empty:!0},{name:"enddate",label:e.getText("employee_enddate"),datatype:"date",empty:!0},{name:"department",label:e.getText("employee_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col3",columns:[{name:"usergroup",label:e.getText("employee_usergroup"),datatype:"select",empty:!1,map:{source:"usergroup",value:"id",text:"groupvalue"}},{name:"username",label:e.getText("employee_username"),datatype:"string"},{name:"inactive",label:e.getText("employee_inactive"),datatype:"flip"}]},{rowtype:"field",name:"id",label:e.getText("employee_notes"),datatype:"text",map:{source:"contact",value:"ref_id",text:"notes",extend:!0}}]};return"undefined"!==typeof t&&(r=null===t.id?a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1,password:!1}}}}):a()(r,{rows:{0:{$merge:{columns:r.rows[0].columns.slice(1,r.rows[0].columns.length),rowtype:"col2"}}}})),r},event:function(t){var r={options:{title:e.getText("title_event"),title_field:"calnumber",icon:i.k,fieldvalue:!0,panel:{back:!0,more:!0,bookmark:["editor","event","calnumber","calnumber"],help:"event",export_event:!0,report:!1}},view:{},rows:[{rowtype:"field",name:"subject",label:e.getText("event_subject"),datatype:"string"},{rowtype:"col2",columns:[{name:"place",label:e.getText("event_place"),datatype:"string"},{name:"eventgroup",label:e.getText("event_group"),datatype:"select",empty:!0,map:{source:"eventgroup",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"fromdate",label:e.getText("event_fromdate"),datatype:"datetime",empty:!0},{name:"todate",label:e.getText("event_todate"),datatype:"datetime",empty:!0}]},{rowtype:"field",name:"description",label:e.getText("event_description"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1,export_event:!1}}}})),r},formula:function(t,r){var n={options:{title:e.getText("title_formula"),title_field:"transnumber",icon:i.V,fieldvalue:!0,pattern:!0,extend:"movement_head",panel:{arrow:!0,more:!0,trans:!0,create:!1,bookmark:["editor","trans","transnumber"],help:"formula"}},view:{movement:{type:"table",icon:i.S,title:e.getText("item_view"),data:"movement",fields:{product:{fieldtype:"string",label:e.getText("product_description")},unit:{fieldtype:"string",label:e.getText("product_unit")},cb_shared:{fieldtype:"bool",label:e.getText("formula_shared")},qty:{fieldtype:"number",label:e.getText("movement_qty")}}}},rows:[{rowtype:"col3",columns:[{name:"crdate",label:e.getText("invoice_crdate"),datatype:"date",disabled:!0},{name:"closed",label:e.getText("document_closed"),datatype:"flip"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement_head",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product",extend:!0}},{rowtype:"col2",columns:[{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"qty",label:e.getText("movement_qty"),datatype:"float",map:{text:"qty",extend:!0}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"intnotes",name:"notes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,password:!1,trans:!1}}}}):r.dataset.translink.length>0&&(n=a()(n,{rows:{2:{columns:{0:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}))),n},groups:function(t){var r={options:{icon:i.rb,data:"groups",title:e.getText("title_groups"),panel:{page:"setting",more:!1,help:"groups"}},view:{setting:{type:"list",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}}}},rows:[{rowtype:"field",name:"groupvalue",label:e.getText("groups_groupvalue"),datatype:"string"},{rowtype:"col2",columns:[{name:"groupname",label:e.getText("groups_groupname"),datatype:"select",default:"",options:[["",""],["department","department"],["eventgroup","eventgroup"],["paidtype","paidtype"],["toolgroup","toolgroup"],["rategroup","rategroup"]]},{name:"inactive",label:e.getText("groups_inactive"),datatype:"flip"}]},{rowtype:"field",name:"description",label:e.getText("groups_description"),datatype:"text"}]};return"undefined"!==typeof t&&(r=null!==t.id?a()(r,{rows:{1:{columns:{0:{$merge:{disabled:!0}}}}}}):a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},inventory:function(t){var r={options:{title:e.getText("title_inventory"),title_field:"transnumber",icon:i.wb,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,create:!1,cancellation:!0,delete:!1,bookmark:["editor","trans","transnumber"],help:"inventory"}},view:{movement:{type:"table",icon:i.S,title:e.getText("item_view"),data:"movement",fields:{product:{fieldtype:"string",label:e.getText("product_description")},unit:{fieldtype:"string",label:e.getText("product_unit")},notes:{fieldtype:"string",label:e.getText("movement_batchnumber")},qty:{fieldtype:"number",label:e.getText("movement_qty")}}}},rows:[{rowtype:"col3",columns:[{name:"place_id",label:e.getText("delivery_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"trans",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("delivery_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("inventory_posdate"),datatype:"date"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}})),r},invoice_link:function(t){var r={options:{data:"link",title:e.getText("payment_view"),title_field:"",icon:i.Y,panel:{}},rows:[{rowtype:"field",name:"ref_id_1",label:e.getText("payment_paidnumber"),datatype:"selector",empty:!1,map:{seltype:"payment",table:"invoice_link",fieldname:"ref_id_1",lnktype:"trans",transtype:"",lnkid:"trans_id",label_field:"transnumber"}},{rowtype:"col3",columns:[{name:"id",label:e.getText("payment_curr"),datatype:"string",map:{source:"invoice_link",value:"id",text:"curr"}},{name:"link_qty",label:e.getText("payment_amount"),datatype:"float",map:{source:"invoice_link_fieldvalue",value:"fieldname",text:"value"}},{name:"link_rate",label:e.getText("payment_rate"),datatype:"float",map:{source:"invoice_link_fieldvalue",value:"fieldname",text:"value"}}]}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},invoice:function(t,r){var n={options:{title:e.getText("title_invoice"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}},invoice_link:{type:"list",data:"invoice_link",icon:i.Y,title:e.getText("payment_view"),actions:{new:{action:"newEditorItem",fkey:"invoice_link"},edit:{action:"editEditorItem",fkey:"invoice_link"},delete:{action:"deleteEditorItem",fkey:"invoice_link",table:"link"}}},tool_movement:{type:"list",data:"tool_movement",icon:i.j,title:e.getText("toolmovement_view"),audit_type:"trans",audit_transtype:"waybill",actions:{new:{action:"loadEditor",ntype:"trans",ttype:"waybill"},edit:{action:"loadEditor",ntype:"trans",ttype:"waybill"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("invoce_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"invoice"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("invoice_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("invoice_transdate"),datatype:"date"},{name:"duedate",label:e.getText("invoice_duedate"),datatype:"date"}]},{rowtype:"field",name:"customer_id",label:e.getText("customer_custname"),datatype:"selector",empty:!1,map:{seltype:"customer",table:"trans",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("document_acrate"),datatype:"float",default:0},{name:"paid",label:e.getText("invoice_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(n=a()(n,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}),r.dataset.translink.length>0?n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}):r.dataset.cancel_link.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"cancel_link",value:"ref_id_2",text:"ref_id_1",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.cancel_link[0].transtype}}}}}}})),"out"===r.dataset.groups.filter((function(e){return e.id===t.direction}))[0].groupvalue&&"normal"===t.transcast&&(n=0===t.deleted?a()(n,{options:{panel:{$merge:{corrective:!0}}}}):a()(n,{options:{panel:{$merge:{cancellation:!0}}}}))));return n},item:function(t,r){var n={options:{title:e.getText("item_view"),title_field:"",icon:i.S,panel:{help:"item"}},rows:[{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product",table:"item",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"partnumber"}},{rowtype:"field",name:"description",label:e.getText("item_description"),datatype:"text"},{rowtype:"col2",columns:[{name:"unit",label:e.getText("item_unit"),datatype:"string"},{name:"ownstock",label:e.getText("item_ownstock"),datatype:"float"}]},{rowtype:"col3",columns:[{name:"qty",label:e.getText("item_qty"),datatype:"float"},{name:"discount",label:e.getText("item_discount"),datatype:"float",min:0,max:100},{name:"fxprice",label:e.getText("item_fxprice"),datatype:"float"}]},{rowtype:"col3",columns:[{name:"netamount",label:e.getText("item_netamount"),datatype:"float"},{name:"tax_id",label:e.getText("item_taxcode"),datatype:"select",empty:!0,map:{source:"tax",value:"id",text:"taxcode"}},{name:"amount",label:e.getText("item_amount"),datatype:"float"}]}]};if("undefined"!==typeof t)switch(null===t.id&&(n=a()(n,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r.current.transtype){case"invoice":n=a()(n,{rows:{2:{$set:{rowtype:"col3",columns:[{name:"unit",label:e.getText("item_unit"),datatype:"string"},{name:"ownstock",label:e.getText("item_ownstock"),datatype:"float"},{name:"deposit",label:e.getText("item_deposit_1"),datatype:"flip"}]}}}});break;case"offer":n=a()(n,{rows:{2:{$set:{rowtype:"col3",columns:[{name:"unit",label:e.getText("item_unit"),datatype:"string"},{name:"ownstock",label:e.getText("item_ownstock"),datatype:"float"},{name:"deposit",label:e.getText("item_deposit_2"),datatype:"flip"}]}}}})}return n},log:function(){return{options:{title:e.getText("title_log"),title_field:"",edited:!1,icon:i.N,panel:{}},view:{setting:{type:"table",actions:{new:null,edit:null,delete:null},fields:{crdate:{fieldtype:"date",label:e.getText("log_crdate")},empnumber:{fieldtype:"string",label:e.getText("log_empnumber")},logstate:{fieldtype:"string",label:e.getText("log_logstate")},nervatype:{fieldtype:"string",label:e.getText("log_nervatype")},refnumber:{fieldtype:"string",label:e.getText("log_refnumber")}}}},rows:[{rowtype:"col3",columns:[{name:"fromdate",label:e.getText("log_fromdate"),datatype:"date"},{name:"todate",label:e.getText("log_todate"),datatype:"date",empty:!0},{name:"empnumber",label:e.getText("log_empnumber"),datatype:"string"}]},{rowtype:"col3",columns:[{name:"logstate",label:e.getText("log_logstate"),datatype:"select",empty:!1,options:[["update","update"],["closed","closed"],["deleted","deleted"],["print","print"],["login","login"],["logout","logout"]]},{name:"nervatype",label:e.getText("log_nervatype"),datatype:"select",default:"",options:[["",""],["customer","customer"],["employee","employee"],["event","event"],["place","place"],["product","product"],["project","project"],["tool","tool"],["trans","trans"]]},{name:"log_search",title:e.getText("browser_search"),label:"",focus:!0,class:"full",icon:i.gb,datatype:"button"}]}]}},movement:function(t,r){var n={options:{title:e.getText("movement_view"),title_field:"",icon:i.wb,opposite:!0,panel:{}}};switch(r.current.transtype){case"delivery":n.rows=[{rowtype:"col2",columns:[{name:"place_id",label:e.getText("movement_target"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"movement",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}},{name:"trans_id",label:e.getText("movement_place"),datatype:"link",map:{source:"trans",value:"id",text:"place_id",label_field:"planumber",lnktype:"place",transtype:""}}]},{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product"}},{rowtype:"col3",columns:[{name:"trans_id",label:e.getText("movement_shippingdate"),datatype:"date",map:{source:"trans",value:"id",text:"transdate"}},{name:"notes",label:e.getText("movement_batchnumber"),datatype:"string"},{name:"qty",label:e.getText("movement_qty"),datatype:"float"}]}];break;case"inventory":n.rows=[{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product"}},{rowtype:"col3",columns:[{name:"trans_id",label:e.getText("movement_shippingdate"),datatype:"date",map:{source:"trans",value:"id",text:"transdate"}},{name:"notes",label:e.getText("movement_batchnumber"),datatype:"string"},{name:"qty",label:e.getText("movement_qty"),datatype:"float"}]}];break;case"production":n.rows=[{rowtype:"col2",columns:[{name:"shippingdate",label:e.getText("movement_shippingdate"),datatype:"datetime",empty:!1},{name:"place_id",label:e.getText("movement_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"movement",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}}]},{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product"}},{rowtype:"col2",columns:[{name:"notes",label:e.getText("movement_batchnumber"),datatype:"string"},{name:"qty",label:e.getText("movement_qty"),datatype:"float",opposite:!0}]}];break;case"formula":n.rows=[{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product"}},{rowtype:"col3",columns:[{name:"qty",label:e.getText("movement_qty"),datatype:"float"},{name:"shared",label:e.getText("formula_shared"),datatype:"flip"},{name:"place_id",label:e.getText("movement_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"movement",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"}];break;case"waybill":n.rows=[{rowtype:"col2",columns:[{name:"shippingdate",label:e.getText("movement_shippingdate"),datatype:"datetime",empty:!1},{name:"tool_id",label:e.getText("tool_serial"),datatype:"selector",empty:!1,map:{seltype:"tool",table:"movement",fieldname:"tool_id",lnktype:"tool",transtype:"",label_field:"serial"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"}]}return"undefined"!==typeof t&&null===t.id&&(n=a()(n,{options:{panel:{$merge:{new:!1,delete:!1}}}})),n},numberdef:function(){var t={options:{icon:i.S,data:"numberdef",title:e.getText("title_numberdef"),panel:{page:"setting",delete:!1,new:!1,more:!1,help:"numberdef"}},view:{setting:{type:"table",actions:{new:null,edit:{action:"editItem"},delete:null},fields:{numberkey:{fieldtype:"string",label:e.getText("numberdef_numberkey")},prefix:{fieldtype:"string",label:e.getText("numberdef_prefix")},is_year:{fieldtype:"string",label:e.getText("numberdef_isyear"),align:"center"},sep:{fieldtype:"string",label:e.getText("numberdef_sep_short"),align:"center"},len:{fieldtype:"number",label:e.getText("numberdef_len")},curvalue:{fieldtype:"number",align:"right",label:e.getText("numberdef_curvalue")}}}},rows:[{rowtype:"field",name:"numberkey",label:e.getText("numberdef_numberkey"),datatype:"string",disabled:!0},{rowtype:"col2",columns:[{name:"prefix",label:e.getText("numberdef_prefix"),datatype:"string"},{name:"curvalue",label:e.getText("numberdef_curvalue"),datatype:"integer"}]},{rowtype:"col3",columns:[{name:"isyear",label:e.getText("numberdef_isyear"),datatype:"flip"},{name:"sep",label:e.getText("numberdef_sep"),datatype:"string",length:1},{name:"len",label:e.getText("numberdef_len"),datatype:"integer"}]},{rowtype:"field",name:"description",label:e.getText("numberdef_description"),datatype:"text"}]};return t},offer:function(t,r){var n={options:{title:e.getText("title_offer"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("offer_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"offer"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("offer_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("offer_transdate"),datatype:"date"},{name:"duedate",label:e.getText("offer_duedate"),datatype:"date"}]},{rowtype:"field",name:"customer_id",label:e.getText("customer_custname"),datatype:"selector",empty:!1,map:{seltype:"customer",table:"trans",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("offer_acrate"),datatype:"float",default:0},{name:"paid",label:e.getText("offer_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(n=a()(n,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}),r.dataset.translink.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}})))),n},order:function(t,r){var n={options:{title:e.getText("title_order"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}},transitem_invoice:{type:"list",data:"transitem_invoice",icon:i.F,title:e.getText("invoice_view"),audit_type:"trans",audit_transtype:"invoice",actions:{new:null,edit:{action:"loadEditor",ntype:"trans",ttype:"invoice"},delete:null}},transitem_shipping:{type:"table",data:"transitem_shipping",icon:i.wb,title:e.getText("shipping_view"),new_icon:i.wb,new_label:e.getText("title_shipping"),actions:{new:{action:"loadShipping"},edit:null,delete:null},fields:{item_product:{fieldtype:"string",label:e.getText("shipping_item_product")},movement_product:{fieldtype:"string",label:e.getText("shipping_movement_product")},sqty:{fieldtype:"number",label:e.getText("shipping_sqty")}}},tool_movement:{type:"list",data:"tool_movement",icon:i.j,title:e.getText("toolmovement_view"),audit_type:"trans",audit_transtype:"waybill",actions:{new:{action:"loadEditor",ntype:"trans",ttype:"waybill"},edit:{action:"loadEditor",ntype:"trans",ttype:"waybill"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("order_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"order"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("order_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("order_transdate"),datatype:"date"},{name:"duedate",label:e.getText("order_duedate"),datatype:"date"}]},{rowtype:"field",name:"customer_id",label:e.getText("customer_custname"),datatype:"selector",empty:!1,map:{seltype:"customer",table:"trans",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("order_acrate"),datatype:"float",default:0},{name:"paid",label:e.getText("order_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(n=a()(n,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}),r.dataset.translink.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}})))),n},password:function(){return{options:{title:e.getText("title_password"),title_field:"",edited:!1,icon:i.U,panel:{delete:!1,new:!1}},view:{},rows:[{rowtype:"col3",columns:[{name:"username",label:e.getText("password_username"),datatype:"string",disabled:!0},{name:"password_1",label:e.getText("password_new"),datatype:"password"},{name:"password_2",label:e.getText("password_verify"),datatype:"password"}]}]}},payment_link:function(t){var r={options:{data:"link",title:e.getText("invoice_view"),title_field:"",icon:i.F,panel:{new:!1}},rows:[{rowtype:"field",name:"ref_id_2",label:e.getText("invoice_transnumber"),datatype:"selector",empty:!1,map:{seltype:"transitem_invoice",table:"payment_link",fieldname:"ref_id_2",lnktype:"trans",transtype:"invoice",lnkid:"trans_id",label_field:"transnumber"}},{rowtype:"col3",columns:[{name:"id",label:e.getText("payment_curr"),datatype:"string",map:{source:"payment_link",value:"id",text:"curr"}},{name:"link_qty",label:e.getText("payment_amount"),datatype:"float",map:{source:"payment_link_fieldvalue",value:"fieldname",text:"value"}},{name:"link_rate",label:e.getText("payment_rate"),datatype:"float",map:{source:"payment_link_fieldvalue",value:"fieldname",text:"value"}}]}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1}}}})),r},payment:function(t){var r={options:{title:e.getText("payment_view"),title_field:"",icon:i.Y,panel:{link:!0,link_type:"payment_link",link_field:"ref_id_1",link_label:e.getText("label_link_invoice")}},rows:[{rowtype:"col2",columns:[{name:"paiddate",label:e.getText("payment_paiddate"),datatype:"date"},{name:"amount",label:e.getText("payment_amount"),datatype:"float"}]},{rowtype:"field",name:"notes",label:e.getText("payment_description"),datatype:"text"}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,link:!1}}}})),r},place:function(t,r){var n,l={options:{title:e.getText("title_place"),title_field:"planumber",icon:i.X,extend:"address",fieldvalue:!0,panel:{more:!0,report:!1,bookmark:["editor","place","description","planumber"],help:"place"}},view:{setting:{type:"table",actions:{new:{action:"editItem"},edit:{action:"editItem"},delete:{action:"deleteItem",tablename:"place"}},fields:{planumber:{fieldtype:"string",label:e.getText("place_planumber")},place_type:{fieldtype:"string",label:e.getText("place_placetype")},description:{fieldtype:"string",label:e.getText("place_description")}}},contact:{type:"list",data:"contact",icon:i.ab,title:e.getText("contact_view")}},rows:[{rowtype:"field",name:"description",label:e.getText("place_description"),datatype:"string"},{rowtype:"col2",columns:[{name:"placetype",label:e.getText("place_placetype"),datatype:"select",empty:!0,map:{source:"placetype",value:"id",text:"groupvalue"}},{name:"inactive",label:e.getText("place_inactive"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"id",label:e.getText("address_zipcode"),datatype:"string",map:{source:"address",value:"ref_id",text:"zipcode",extend:!0}},{name:"id",label:e.getText("address_city"),datatype:"string",map:{source:"address",value:"ref_id",text:"city",extend:!0}}]},{rowtype:"field",name:"id",label:e.getText("address_street"),datatype:"string",map:{source:"address",value:"ref_id",text:"street",extend:!0}},{rowtype:"field",name:"notes",label:e.getText("place_notes"),datatype:"text"}]};"undefined"!==typeof t&&(null===t.id?l=a()(l,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1}}}}):(l=a()(l,{rows:{1:{columns:{0:{$merge:{disabled:!0}}}}}}),n=r.dataset.placetype?r.dataset.placetype.filter((function(e){return"warehouse"===e.groupvalue}))[0]:r.dataset.groups.filter((function(e){return"placetype"===e.groupname&&"warehouse"===e.groupvalue}))[0],t.placetype!==n.id&&(l=a()(l,{rows:{1:{$merge:{rowtype:"col3"}}}}),l=a()(l,{rows:{1:{columns:{$push:[{name:"curr",label:e.getText("place_curr"),datatype:"select",empty:!1,map:{source:"currency",value:"curr",text:"curr"}}]}}}}))));return l},price:function(t){var r={options:{title:e.getText("price_view"),title_field:"",icon:i.z,panel:{}},rows:[{rowtype:"col3",columns:[{name:"validfrom",label:e.getText("price_validfrom"),datatype:"date"},{name:"validto",label:e.getText("price_validto"),datatype:"date",empty:!0},{name:"vendor",label:e.getText("price_vendor"),datatype:"flip"}]},{rowtype:"col3",columns:[{name:"curr",label:e.getText("price_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"qty",label:e.getText("price_qty"),datatype:"float"},{name:"pricevalue",label:e.getText("price_pricevalue"),datatype:"float"}]},{rowtype:"field",name:"id",label:e.getText("customer_custname"),datatype:"selector",empty:!0,map:{seltype:"customer",table:"price",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}}]};return"undefined"!==typeof t&&null===t.id&&(r=a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1}}}})),r},printqueue:function(t,r,n){var a={options:{search_form:!0,title:e.getText("title_printqueue"),title_field:e.getText("printqueue_head_title"),icon:i.G,panel:{save:!1,new:!1,delete:!1,more:!0,report:!1,search:!0,export_all:!0,print:!1,bookmark:!1,help:"printqueue"}},view:{items:{type:"list",data:"items",icon:i.cb,edit_icon:i.n,title:e.getText("printqueue_selected_items"),actions:{new:null,edit:{action:"exportQueueItem"},delete:{action:"deleteEditorItem",fkey:"items",table:"ui_printqueue"}}}},rows:[{rowtype:"col3",columns:[{name:"nervatype",label:e.getText("printqueue_type"),datatype:"select",empty:!0,options:n.printqueue_type},{name:"startdate",label:e.getText("printqueue_startdate"),datatype:"date",empty:!0},{name:"enddate",label:e.getText("printqueue_enddate"),datatype:"date",empty:!0}]},{rowtype:"col2",columns:[{name:"transnumber",label:e.getText("printqueue_transnumber"),datatype:"string"},{name:"username",label:e.getText("printqueue_username"),datatype:"string"}]},{rowtype:"col3",columns:[{name:"mode",label:e.getText("printqueue_mode"),datatype:"select",empty:!1,options:n.printqueue_mode},{name:"orientation",label:e.getText("report_orientation"),datatype:"select",empty:!1,options:n.report_orientation,default:n.page_orient},{name:"size",label:e.getText("report_size"),datatype:"select",empty:!1,options:n.report_size,default:n.page_size}]}]};return a},product:function(t){var r={options:{title:e.getText("title_product"),title_field:"partnumber",icon:i.ib,fieldvalue:!0,panel:{more:!0,bookmark:["editor","product","description","partnumber"],help:"product"}},view:{barcode:{type:"list",data:"barcode",icon:i.e,title:e.getText("barcode_view")},price:{type:"table",icon:i.z,title:e.getText("price_view"),data:"price",fields:{validfrom:{fieldtype:"date",label:e.getText("price_validfrom")},curr:{fieldtype:"string",label:e.getText("price_curr")},qty:{fieldtype:"number",label:e.getText("price_qty")},pricevalue:{fieldtype:"number",label:e.getText("price_pricevalue")}}},event:{type:"list",data:"event",icon:i.k,title:e.getText("event_view"),actions:{new:{action:"loadEditor",ntype:"event",ttype:null},edit:{action:"loadEditor",ntype:"event",ttype:null},delete:{action:"deleteEditorItem",fkey:"event",table:"event"}}}},rows:[{rowtype:"field",name:"description",label:e.getText("product_description"),datatype:"string"},{rowtype:"col3",columns:[{name:"partnumber",label:e.getText("product_partnumber"),datatype:"string"},{name:"protype",label:e.getText("product_protype"),datatype:"select",map:{source:"protype",value:"id",text:"groupvalue"}},{name:"unit",label:e.getText("product_unit"),datatype:"string"}]},{rowtype:"col3",columns:[{name:"tax_id",label:e.getText("product_tax"),datatype:"select",empty:!1,map:{source:"tax",value:"id",text:"taxcode"}},{name:"webitem",label:e.getText("product_webitem"),datatype:"flip"},{name:"inactive",label:e.getText("product_inactive"),datatype:"flip"}]},{rowtype:"field",name:"notes",label:e.getText("product_notes"),datatype:"text"}]};return"undefined"!==typeof t&&(r=null===t.id?a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1}}}}):a()(r,{rows:{1:{columns:{0:{$merge:{disabled:!0}},1:{$merge:{disabled:!0}}}}}})),r},production:function(t,r){var n={options:{title:e.getText("title_production"),title_field:"transnumber",icon:i.H,fieldvalue:!0,pattern:!0,extend:"movement_head",panel:{arrow:!0,more:!0,trans:!0,create:!1,formula:!0,bookmark:["editor","trans","transnumber"],help:"production"}},view:{movement:{type:"table",icon:i.S,title:e.getText("item_view"),data:"movement",fields:{product:{fieldtype:"string",label:e.getText("product_description")},unit:{fieldtype:"string",label:e.getText("product_unit")},notes:{fieldtype:"string",label:e.getText("movement_batchnumber")},opposite_qty:{fieldtype:"number",label:e.getText("movement_qty")}}}},rows:[{rowtype:"col3",columns:[{name:"crdate",label:e.getText("invoice_crdate"),datatype:"date",disabled:!0},{name:"closed",label:e.getText("document_closed"),datatype:"flip"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col2",columns:[{name:"transdate",label:e.getText("production_transdate"),datatype:"date"},{name:"duedate",label:e.getText("production_duedate"),datatype:"datetime",empty:!1}]},{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"movement_head",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product",extend:!0}},{rowtype:"col2",columns:[{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"place_id",label:e.getText("delivery_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"trans",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}}]},{rowtype:"col2",columns:[{name:"batchnumber",label:e.getText("movement_batchnumber"),datatype:"string",map:{text:"notes",extend:!0}},{name:"qty",label:e.getText("movement_qty"),datatype:"float",map:{text:"qty",extend:!0}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):r.dataset.translink.length>0&&(n=a()(n,{rows:{3:{columns:{0:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}))),n},project:function(t){var r={options:{title:e.getText("title_project"),title_field:"pronumber",icon:i.q,fieldvalue:!0,panel:{more:!0,bookmark:["editor","project","description","pronumber"],help:"project"}},view:{address:{type:"list",data:"address",icon:i.L,title:e.getText("address_view")},contact:{type:"list",data:"contact",icon:i.ab,title:e.getText("contact_view")},event:{type:"list",data:"event",icon:i.k,title:e.getText("event_view"),actions:{new:{action:"loadEditor",ntype:"event",ttype:null},edit:{action:"loadEditor",ntype:"event",ttype:null},delete:{action:"deleteEditorItem",fkey:"event",table:"event"}}}},rows:[{rowtype:"col3",columns:[{name:"startdate",label:e.getText("project_startdate"),datatype:"date",empty:!0},{name:"enddate",label:e.getText("project_enddate"),datatype:"date",empty:!0},{name:"inactive",label:e.getText("project_inactive"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"pronumber",label:e.getText("project_pronumber"),datatype:"string"},{name:"description",label:e.getText("project_description"),datatype:"string"}]},{rowtype:"field",name:"customer_id",label:e.getText("project_customer"),datatype:"selector",empty:!0,map:{seltype:"customer",table:"project",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"field",name:"notes",label:e.getText("project_notes"),datatype:"text"}]};return"undefined"!==typeof t&&(r=null===t.id?a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1}}}}):a()(r,{rows:{1:{$set:{rowtype:"field",name:"description",label:e.getText("project_description"),datatype:"string"}}}})),r},rate:function(t,r){var n={options:{title:e.getText("title_rate"),icon:i.mb,fieldvalue:!0,panel:{more:!0,report:!1,bookmark:!1,help:"rate"}},view:{},rows:[{rowtype:"col2",columns:[{name:"ratetype",label:e.getText("rate_ratetype"),datatype:"select",empty:!1,map:{source:"ratetype",value:"id",text:"groupvalue"}},{name:"ratedate",label:e.getText("rate_ratedate"),datatype:"date"}]},{rowtype:"col2",columns:[{name:"curr",label:e.getText("rate_curr"),datatype:"select",empty:!1,map:{source:"currency",value:"curr",text:"curr"}},{name:"ratevalue",label:e.getText("rate_ratevalue"),datatype:"float"}]},{rowtype:"col2",columns:[{name:"rategroup",label:e.getText("rate_rategroup"),datatype:"select",empty:!0,map:{source:"rategroup",value:"id",text:"groupvalue"}},{name:"place_id",label:e.getText("rate_planumber"),datatype:"selector",empty:!0,map:{seltype:"place_bank",table:"rate",fieldname:"place_id",lnktype:"place",transtype:"",label_field:"planumber"}}]}]};if("undefined"!==typeof t&&null===t.id){n=a()(n,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1}}}}),t.ratetype=r.dataset.ratetype.filter((function(e){return"rate"===e.groupvalue}))[0].id;var l=r.dataset.settings.filter((function(e){return"default_currency"===e.fieldname}))[0];"undefined"!==typeof l&&(t.curr=l.value)}return n},program:function(){return{options:{title:e.getText("title_program"),title_field:"",edited:!1,icon:i.Q,panel:{}},view:{},rows:[{rowtype:"col3",columns:[{name:"paginationPage",label:e.getText("program_page"),datatype:"integer"},{name:"history",label:e.getText("program_history"),datatype:"integer"},{name:"export_sep",label:e.getText("program_export_sep"),datatype:"string",length:1}]},{rowtype:"col3",columns:[{name:"page_size",label:e.getText("program_page_size"),datatype:"select",empty:!1,options:e.getSetting("report_size")},{name:"dateFormat",label:e.getText("program_date_format"),datatype:"select",empty:!1,options:e.getSetting("dateStyle")},{name:"calendar",label:e.getText("program_calendar"),datatype:"select",empty:!1,options:e.getSetting("calendarLocales")}]}]}},receipt:function(t,r){var n={options:{title:e.getText("title_receipt"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,panel:{arrow:!0,more:!0,trans:!0,create:!1,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}},tool_movement:{type:"list",data:"tool_movement",icon:i.j,title:e.getText("toolmovement_view"),audit_type:"trans",audit_transtype:"waybill",actions:{new:{action:"loadEditor",ntype:"trans",ttype:"waybill"},edit:{action:"loadEditor",ntype:"trans",ttype:"waybill"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("invoce_direction"),datatype:"select",empty:!1,disabled:!0,map:{source:"direction",value:"id",text:"groupvalue",label:"receipt"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("receipt_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("receipt_transdate"),datatype:"date"},{name:"duedate",label:e.getText("receipt_duedate"),datatype:"date"}]},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("document_acrate"),datatype:"float",default:0},{name:"paid",label:e.getText("receipt_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(r.dataset.translink.length>0?n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}):r.dataset.cancel_link.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"cancel_link",value:"ref_id_2",text:"ref_id_1",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.cancel_link[0].transtype}}}}}}})),"out"===r.dataset.groups.filter((function(e){return e.id===t.direction}))[0].groupvalue&&"normal"===t.transcast&&(n=0===t.deleted?a()(n,{options:{panel:{$merge:{corrective:!0}}}}):a()(n,{options:{panel:{$merge:{cancellation:!0}}}}))));return n},rent:function(t,r){var n={options:{title:e.getText("title_rent"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,edited:!1,panel:{arrow:!0,more:!0,trans:!0,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}},transitem_invoice:{type:"list",data:"transitem_invoice",icon:i.F,title:e.getText("invoice_view"),audit_type:"trans",audit_transtype:"invoice",actions:{new:null,edit:{action:"loadEditor",ntype:"trans",ttype:"invoice"},delete:null}},transitem_shipping:{type:"table",data:"transitem_shipping",icon:i.wb,title:e.getText("shipping_view"),actions:{new:{action:"loadShipping"},edit:null,delete:null},fields:{item_product:{fieldtype:"string",label:e.getText("shipping_item_product")},movement_product:{fieldtype:"string",label:e.getText("shipping_movement_product")},sqty:{fieldtype:"number",label:e.getText("shipping_sqty")}}},tool_movement:{type:"list",data:"tool_movement",icon:i.j,title:e.getText("toolmovement_view"),audit_type:"trans",audit_transtype:"waybill",actions:{new:{action:"loadEditor",ntype:"trans",ttype:"waybill"},edit:{action:"loadEditor",ntype:"trans",ttype:"waybill"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("rental_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"rent"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("rental_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("rental_transdate"),datatype:"date"},{name:"duedate",label:e.getText("rental_duedate"),datatype:"date"}]},{rowtype:"field",name:"customer_id",label:e.getText("customer_custname"),datatype:"selector",empty:!1,map:{seltype:"customer",table:"trans",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"col3",columns:[{name:"trans_reholiday",label:e.getText("trans_reholiday"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{name:"trans_rebadtool",label:e.getText("trans_rebadtool"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{name:"trans_reother",label:e.getText("trans_reother"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}}]},{rowtype:"field",name:"trans_rentnote",label:e.getText("trans_rentnote"),datatype:"string",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("rental_acrate"),datatype:"float"},{name:"paid",label:e.getText("rental_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(n=a()(n,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}),r.dataset.translink.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}})))),n},report:function(t,r,n){var l={options:{title:e.getText("title_report"),title_field:"repname",icon:i.m,panel:{save:!1,new:!1,delete:!1,more:!0,report:!1,print:!0,export_pdf:!0,export_xml:!0,bookmark:!1,help:"report"}},view:{},rows:[{rowtype:"label",name:"description"},{rowtype:"col3",columns:[{name:"oslabel",label:e.getText("report_orientation")+" / "+e.getText("report_size"),datatype:"label"},{name:"orientation",label:"",datatype:"select",empty:!1,options:n.report_orientation,default:n.page_orient},{name:"size",label:"",datatype:"select",empty:!1,options:n.report_size,default:n.page_size}]}]};return"undefined"!==typeof t&&"csv"===t.ftype&&(l=a()(l,{rows:{$set:[{rowtype:"label",name:"description"}]},options:{panel:{$merge:{print:!1,export_pdf:!1,export_xml:!1,export_csv:!0}}}})),l},setting:function(){var t={options:{icon:i.t,data:"fieldvalue",title:e.getText("title_dbsettings"),panel:{page:"setting",delete:!1,new:!1,more:!1,help:"setting"}},view:{setting:{type:"list",actions:{new:null,edit:{action:"editItem"},delete:null}}},rows:[{rowtype:"field",name:"fieldname",label:e.getText("fields_fieldname"),datatype:"string",disabled:!0},{rowtype:"field",name:"label",label:e.getText("fields_fielddef"),datatype:"string",disabled:!0},{rowtype:"field",name:"fieldvalue_value",label:e.getText("fields_value"),datatype:"fieldvalue"},{rowtype:"field",name:"fieldvalue_notes",label:e.getText("fields_notes"),datatype:"text"}]};return t},shipping:function(t){var r={options:{title:e.getText("title_shipping"),title_field:"transnumber",icon:i.wb,panel:{back:!0,save:!1,delete:!1,new:!1,shipping:!0,help:"shipping"}},view:{shipping_items:{type:"table",data:"shipping_items_",icon:i.S,edit_icon:i.bb,delete_icon:i.i,title:e.getText("shipping_items"),actions:{new:null,edit:{action:"addShippingRow"},delete:{action:"showShippingStock"}},fields:{product:{fieldtype:"string",label:e.getText("shipping_movement_product")},qty:{fieldtype:"number",label:e.getText("shipping_qty")},tqty:{fieldtype:"number",label:e.getText("shipping_turnover")},diff:{fieldtype:"number",label:e.getText("shipping_diff"),format:!0}}},shiptemp_items:{type:"table",data:"shiptemp",title:e.getText("shipping_create"),icon:i.bb,actions:{new:null,edit:{action:"editShippingRow"},delete:{action:"deleteShippingRow"}},fields:{product:{fieldtype:"string",label:e.getText("shipping_product")},batch_no:{fieldtype:"string",label:e.getText("movement_batchnumber")},qty:{fieldtype:"number",label:e.getText("movement_qty")},diff:{fieldtype:"number",label:e.getText("shipping_diff"),format:!0}}},shipping_delivery:{type:"list",data:"shipping_delivery",title:e.getText("shipping_delivery"),icon:i.wb,actions:{new:null,edit:{action:"loadEditor",ntype:"trans",ttype:"delivery"},delete:null}}},rows:[{rowtype:"col2",columns:[{name:"delivery_type",label:e.getText("delivery_direction"),datatype:"string",disabled:!0},{name:"id",label:e.getText("customer_custname"),datatype:"link",map:{source:"trans",value:"id",text:"customer_id",label_field:"custname",lnktype:"customer",transtype:""}}]},{rowtype:"col2",columns:[{name:"shippingdate",label:e.getText("movement_shippingdate"),datatype:"datetime",empty:!1},{name:"shipping_place_id",label:e.getText("movement_place"),datatype:"selector",empty:!1,map:{seltype:"place_warehouse",table:"trans",fieldname:"shipping_place_id",lnktype:"place",transtype:"",label_field:"planumber"}}]}]};return r},tax:function(t){var r={options:{icon:i.sb,data:"tax",title:e.getText("title_tax"),panel:{page:"setting",more:!1}},view:{setting:{type:"table",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}},fields:{taxcode:{fieldtype:"string",label:e.getText("tax_taxcode")},description:{fieldtype:"string",label:e.getText("tax_description")},rate:{fieldtype:"number",label:e.getText("tax_rate")},inact:{fieldtype:"string",label:e.getText("tax_inactive"),align:"center"}}}},rows:[{rowtype:"col3",columns:[{name:"taxcode",label:e.getText("tax_taxcode"),datatype:"string"},{name:"rate",label:e.getText("tax_rate"),datatype:"float"},{name:"inactive",label:e.getText("tax_inactive"),datatype:"flip"}]},{rowtype:"field",name:"description",label:e.getText("tax_description"),datatype:"string"}]};return"undefined"!==typeof t&&(r=null!==t.id?a()(r,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}):a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},template:function(t){var r={options:{icon:i.qb,data:"template",title:e.getText("title_report_editor"),panel:{}},view:{setting:{type:"list",actions:{new:null,edit:{action:"editItem"},delete:{action:"deleteTemplate"}}}},rows:[]};return r},tool:function(t){var r={options:{title:e.getText("title_tool"),title_field:"serial",icon:i.Bb,fieldvalue:!0,panel:{more:!0,bookmark:["editor","tool","description","serial"],help:"tool"}},view:{event:{type:"list",data:"event",icon:i.k,title:e.getText("event_view"),actions:{new:{action:"loadEditor",ntype:"event",ttype:null},edit:{action:"loadEditor",ntype:"event",ttype:null},delete:{action:"deleteEditorItem",fkey:"event",table:"event"}}}},rows:[{rowtype:"col3",columns:[{name:"serial",label:e.getText("tool_serial"),datatype:"string"},{name:"toolgroup",label:e.getText("tool_toolgroup"),datatype:"select",empty:!0,map:{source:"toolgroup",value:"id",text:"groupvalue"}},{name:"inactive",label:e.getText("tool_inactive"),datatype:"flip"}]},{rowtype:"field",name:"description",label:e.getText("tool_description"),datatype:"string"},{rowtype:"field",name:"product_id",label:e.getText("product_partnumber"),datatype:"selector",empty:!1,barcode:!0,map:{seltype:"product_item",table:"tool",fieldname:"product_id",lnktype:"product",transtype:"",label_field:"product"}},{rowtype:"field",name:"notes",label:e.getText("tool_notes"),datatype:"text"}]};return"undefined"!==typeof t&&(r=null===t.id?a()(r,{view:{$set:{}},options:{panel:{$merge:{new:!1,delete:!1,report:!1,bookmark:!1}}}}):a()(r,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}})),r},ui_menu:function(t){var r={options:{icon:i.hb,data:"ui_menu",title:e.getText("title_menucmd"),panel:{page:"setting",more:!1,help:"menu"}},view:{setting:{type:"list",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}}},items:{type:"table",data:"ui_menufields",actions:{new:{action:"editMenuField"},edit:{action:"editMenuField"},delete:{action:"deleteItemRow",table:"ui_menufields"}},fields:{fieldname:{fieldtype:"string",label:e.getText("menufields_fieldname")},description:{fieldtype:"string",label:e.getText("menufields_description")},fieldtype_name:{fieldtype:"string",label:e.getText("menufields_fieldtype")},orderby:{fieldtype:"number",label:e.getText("menufields_orderby")}}}},rows:[{rowtype:"col2",columns:[{name:"menukey",label:e.getText("menucmd_menukey"),datatype:"string"},{name:"description",label:e.getText("menucmd_description"),datatype:"string"}]},{rowtype:"col3",columns:[{name:"method",label:e.getText("menucmd_method"),datatype:"select",map:{source:"method",value:"id",text:"groupvalue"}},{name:"modul",label:e.getText("menucmd_modul"),datatype:"string"},{name:"icon",label:e.getText("menucmd_icon"),datatype:"string"}]},{rowtype:"col2",columns:[{name:"funcname",label:e.getText("menucmd_funcname"),datatype:"string"},{name:"address",label:e.getText("menucmd_address"),datatype:"string"}]}]};return"undefined"!==typeof t&&null!==t.id&&(r=a()(r,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}})),r},usergroup:function(t){var r={options:{icon:i.P,data:"groups",title:e.getText("title_usergroup"),panel:{page:"setting",more:!1,help:"usergroup"}},view:{setting:{type:"list",actions:{new:{action:"newItem"},edit:{action:"editItem"},delete:{action:"deleteItem"}}},items:{type:"table",data:"audit",actions:{new:{action:"editAudit"},edit:{action:"editAudit"},delete:{action:"deleteItemRow",table:"ui_audit"}},fields:{nervatype_name:{fieldtype:"string",label:e.getText("audit_nervatype")},subtype_name:{fieldtype:"string",label:e.getText("audit_subtype")},inputfilter_name:{fieldtype:"string",label:e.getText("audit_inputfilter")},supervisor_name:{fieldtype:"string",label:e.getText("audit_supervisor")}}}},rows:[{rowtype:"col3",columns:[{name:"groupvalue",label:e.getText("groups_groupvalue"),datatype:"string"},{name:"transfilter",label:e.getText("groups_transfilter"),datatype:"select",empty:!0,map:{source:"transfilter",value:"id",text:"groupvalue"}},{name:"inactive",label:e.getText("groups_inactive"),datatype:"flip"}]},{rowtype:"field",name:"description",label:e.getText("groups_description"),datatype:"text"}]};return"undefined"!==typeof t&&(null!==t.id?null!==t.id&&(r=a()(r,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}})):r=a()(r,{options:{panel:{$merge:{new:!1,delete:!1}}}})),r},waybill:function(t,r){var n={options:{title:e.getText("title_waybill"),title_field:"transnumber",icon:i.j,fieldvalue:!0,pattern:!0,extend:"refvalue",panel:{arrow:!0,more:!0,trans:!0,create:!1,bookmark:["editor","trans","transnumber"],help:"waybill"}},view:{movement:{type:"table",icon:i.S,title:e.getText("item_view"),data:"movement",fields:{shippingdate:{fieldtype:"date",label:e.getText("movement_shippingdate2")},serial:{fieldtype:"string",label:e.getText("tool_serial")},tooldesc:{fieldtype:"string",label:e.getText("tool_description")}}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("document_direction"),datatype:"select",empty:!1,map:{source:"direction",value:"id",text:"groupvalue",label:"waybill"}},{name:"crdate",label:e.getText("waybill_crdate"),datatype:"date",disabled:!0},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col2",columns:[{name:"seltype",label:e.getText("waybill_seltype"),datatype:"select",empty:!1,olabel:"waybill",extend:!0,options:[["transitem","transitem"],["customer","customer"],["employee","employee"]]},{name:"ref_id",label:e.getText("waybill_reference"),datatype:"selector",empty:!1,map:{seltype:"transitem",table:"extend",fieldname:"ref_id",lnktype:"trans",transtype:"",label_field:"refnumber",extend:!0}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):(n=a()(n,{rows:{0:{columns:{0:{$merge:{disabled:!0}}}}}}),null!==t.customer_id?n=a()(n,{rows:{1:{columns:{1:{map:{$merge:{seltype:"customer",lnktype:"customer"}}}}}}}):null!==t.employee_id?n=a()(n,{rows:{1:{columns:{1:{map:{$merge:{seltype:"employee",lnktype:"employee"}}}}}}}):(n=a()(n,{rows:{1:{columns:{1:{map:{$merge:{seltype:"transitem",lnktype:"trans"}}}}}}}),r.dataset.translink.length>0&&(n=a()(n,{rows:{1:{columns:{1:{map:{$merge:{transtype:r.dataset.translink[0].transtype}}}}}}}))))),n},worksheet:function(t,r){var n={options:{title:e.getText("title_worksheet"),title_field:"transnumber",icon:i.F,fieldvalue:!0,pattern:!0,edited:!1,panel:{arrow:!0,more:!0,trans:!0,bookmark:["editor","trans","transnumber"],help:"document"}},view:{item:{type:"table",data:"item",icon:i.S,title:e.getText("item_view"),total:{netamount:e.getText("item_netamount"),vatamount:e.getText("item_vatamount"),amount:e.getText("item_amount")},fields:{description:{fieldtype:"string",label:e.getText("item_description")},unit:{fieldtype:"string",label:e.getText("item_unit")},qty:{fieldtype:"number",label:e.getText("item_qty")},amount:{fieldtype:"number",label:e.getText("item_amount")}}},transitem_invoice:{type:"list",data:"transitem_invoice",icon:i.F,title:e.getText("invoice_view"),audit_type:"trans",audit_transtype:"invoice",actions:{new:null,edit:{action:"loadEditor",ntype:"trans",ttype:"invoice"},delete:null}},transitem_shipping:{type:"table",data:"transitem_shipping",icon:i.wb,title:e.getText("shipping_view"),actions:{new:{action:"loadShipping"},edit:null,delete:null},fields:{item_product:{fieldtype:"string",label:e.getText("shipping_item_product")},movement_product:{fieldtype:"string",label:e.getText("shipping_movement_product")},sqty:{fieldtype:"number",label:e.getText("shipping_sqty")}}},tool_movement:{type:"list",data:"tool_movement",icon:i.j,title:e.getText("toolmovement_view"),audit_type:"trans",audit_transtype:"waybill",actions:{new:{action:"loadEditor",ntype:"trans",ttype:"waybill"},edit:{action:"loadEditor",ntype:"trans",ttype:"waybill"},delete:null}}},rows:[{rowtype:"col3",columns:[{name:"direction",label:e.getText("worksheet_direction"),datatype:"select",empty:!1,disabled:!0,map:{source:"direction",value:"id",text:"groupvalue",label:"worksheet"}},{name:"ref_transnumber",label:e.getText("document_ref_transnumber"),datatype:"string"},{name:"transtate",label:e.getText("document_transtate"),datatype:"select",empty:!1,map:{source:"transtate",value:"id",text:"groupvalue",label:"state"}}]},{rowtype:"col3",columns:[{name:"crdate",label:e.getText("worksheet_crdate"),datatype:"date",disabled:!0},{name:"transdate",label:e.getText("worksheet_transdate"),datatype:"date"},{name:"duedate",label:e.getText("worksheet_duedate"),datatype:"date"}]},{rowtype:"field",name:"customer_id",label:e.getText("customer_custname"),datatype:"selector",empty:!1,map:{seltype:"customer",table:"trans",fieldname:"customer_id",lnktype:"customer",transtype:"",label_field:"custname"}},{rowtype:"col3",columns:[{name:"trans_wsdistance",label:e.getText("trans_wsdistance"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{name:"trans_wsrepair",label:e.getText("trans_wsrepair"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{name:"trans_wstotal",label:e.getText("trans_wstotal"),datatype:"float",map:{source:"fieldvalue",value:"fieldname",text:"value"}}]},{rowtype:"field",name:"trans_wsnote",label:e.getText("trans_wsnote"),datatype:"string",map:{source:"fieldvalue",value:"fieldname",text:"value"}},{rowtype:"col4",columns:[{name:"curr",label:e.getText("document_curr"),datatype:"select",empty:!0,map:{source:"currency",value:"curr",text:"curr"}},{name:"acrate",label:e.getText("worksheet_acrate"),datatype:"float",default:0},{name:"paid",label:e.getText("worksheet_paid"),datatype:"flip"},{name:"closed",label:e.getText("document_closed"),datatype:"flip"}]},{rowtype:"col2",columns:[{name:"paidtype",label:e.getText("document_paidtype"),datatype:"select",empty:!1,map:{source:"paidtype",value:"id",text:"groupvalue",label:"paidtype"}},{name:"department",label:e.getText("document_department"),datatype:"select",empty:!0,map:{source:"department",value:"id",text:"groupvalue"}}]},{rowtype:"col2",columns:[{name:"employee_id",label:e.getText("employee_empnumber"),datatype:"selector",empty:!0,map:{seltype:"employee",table:"trans",fieldname:"employee_id",lnktype:"employee",transtype:"",label_field:"empnumber"}},{name:"project_id",label:e.getText("project_pronumber"),datatype:"selector",empty:!0,map:{seltype:"project",table:"trans",fieldname:"project_id",lnktype:"project",transtype:"",label_field:"pronumber"}}]},{rowtype:"field",name:"notes",label:e.getText("document_notes"),datatype:"text"},{rowtype:"field",name:"intnotes",label:e.getText("document_intnotes"),datatype:"text"}]};return"undefined"!==typeof t&&(null===t.id?n=a()(n,{view:{$set:{}},options:{panel:{$merge:{arrow:!1,new:!1,delete:!1,report:!1,bookmark:!1,trans:!1}}}}):r.dataset.translink.length>0&&(n=a()(n,{rows:{0:{columns:{1:{$set:{name:"id",label:e.getText("document_ref_transnumber"),datatype:"link",map:{source:"translink",value:"ref_id_1",text:"ref_id_2",label_field:"transnumber",lnktype:"trans",transtype:r.dataset.translink[0].transtype}}}}}}}))),n}}}},81:function(e,t,r){"use strict";r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return f}));var n=r(11),a=r.n(n),l=r(17),i=r(6),o=r(1),s=r.n(o),d=r(28),c=r(64),u=r(24),p=r(18),m=function(){var e=Object(p.e)(),t=Object(i.useContext)(u.b).data;return function(){var r=Object(l.a)(a.a.mark((function r(n,i){var o,s,d,c,u,m;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=function(){var r=Object(l.a)(a.a.mark((function r(l,i){var o,s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={method:"POST",data:[{key:"check",text:Object(p.a)(t.login.data.engine,{select:["count(*) as recnum"],from:n,where:[l]}).sql,values:i}]},r.next=3,e.requestData("/view",o);case 3:if(!(s=r.sent).error){r.next=6;break}return r.abrupt("return",s.error.message||e.getText("error_internal"));case 6:if(!(s.check[0].recnum>0)){r.next=8;break}return r.abrupt("return",e.getText("msg_value_exists"));case 8:return r.abrupt("return","");case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),s=function(){var t=Object(l.a)(a.a.mark((function t(r,n){var l,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l={method:"POST",data:{key:"nextNumber",values:{numberkey:r,step:!0}}},t.next=3,e.requestData("/function",l);case 3:if(!(o=t.sent).error){t.next=6;break}return t.abrupt("return",o.error.message||e.getText("error_internal"));case 6:return i[n]=o,t.abrupt("return","");case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),d="","undefined"===typeof i.id&&(i.id=null),r.t0=n,r.next="address"===r.t0?7:"barcode"===r.t0?8:"contact"===r.t0?21:"currency"===r.t0?22:"customer"===r.t0?35:"deffield"===r.t0?54:"employee"===r.t0?56:"event"===r.t0?75:"fieldvalue"===r.t0?80:"formula"===r.t0?81:"groups"===r.t0?82:"item"===r.t0?103:"link"===r.t0?105:"log"===r.t0?107:"movement"===r.t0?108:"numberdef"===r.t0?124:"pattern"===r.t0?125:"payment"===r.t0?126:"place"===r.t0?127:"price"===r.t0?141:"product"===r.t0?143:"project"===r.t0?170:"rate"===r.t0?185:"tax"===r.t0?187:"tool"===r.t0?200:"trans"===r.t0?219:"ui_menu"===r.t0?260:277;break;case 7:return r.abrupt("break",278);case 8:if(null!==i.code&&""!==i.code){r.next=12;break}d=e.getText("msg_required")+" "+e.getText("barcode_code"),r.next=20;break;case 12:if(null!==i.barcodetype&&""!==i.barcodetype){r.next=16;break}d=e.getText("msg_required")+" "+e.getText("barcode_barcodetype"),r.next=20;break;case 16:if(null!==i.id){r.next=20;break}return r.next=19,o(["code","=","?"],[i.code]);case 19:d=r.sent;case 20:case 21:return r.abrupt("break",278);case 22:if(null!==i.curr&&""!==i.curr){r.next=26;break}d=e.getText("msg_required")+" "+e.getText("currency_curr"),r.next=34;break;case 26:if(null!==i.description&&""!==i.description){r.next=30;break}d=e.getText("msg_required")+" "+e.getText("currency_description"),r.next=34;break;case 30:if(null!==i.id){r.next=34;break}return r.next=33,o(["curr","=","?"],[i.curr]);case 33:d=r.sent;case 34:return r.abrupt("break",278);case 35:if(null!==i.custname&&""!==i.custname){r.next=39;break}d=e.getText("msg_required")+" "+e.getText("customer_custname"),r.next=53;break;case 39:if(null!==i.custtype&&""!==i.custtype){r.next=43;break}d=e.getText("msg_required")+" "+e.getText("customer_custtype"),r.next=53;break;case 43:if(null!==i.id||null===i.custnumber||""===i.custnumber){r.next=49;break}return r.next=46,o(["custnumber","=","?"],[i.custnumber]);case 46:d=r.sent,r.next=53;break;case 49:if(null!==i.custnumber){r.next=53;break}return r.next=52,s("custnumber","custnumber");case 52:d=r.sent;case 53:return r.abrupt("break",278);case 54:return null===i.nervatype||""===i.nervatype?d=e.getText("msg_required")+" "+e.getText("deffield_nervatype"):null===i.fieldtype||""===i.fieldtype?d=e.getText("msg_required")+" "+e.getText("deffield_fieldtype"):null!==i.description&&""!==i.description||(d=e.getText("msg_required")+" "+e.getText("deffield_description")),r.abrupt("break",278);case 56:if(null!==t.edit.current.extend.surname&&""!==t.edit.current.extend.surname){r.next=60;break}d=e.getText("msg_required")+" "+e.getText("contact_surname"),r.next=74;break;case 60:if(null!==i.usergroup&&""!==i.usergroup){r.next=64;break}d=e.getText("msg_required")+" "+e.getText("employee_usergroup"),r.next=74;break;case 64:if(null!==i.id||null===i.empnumber||""===i.empnumber){r.next=70;break}return r.next=67,o(["empnumber","=","?"],[i.empnumber]);case 67:d=r.sent,r.next=74;break;case 70:if(null!==i.empnumber){r.next=74;break}return r.next=73,s("empnumber","empnumber");case 73:d=r.sent;case 74:return r.abrupt("break",278);case 75:if(null!==i.calnumber){r.next=79;break}return r.next=78,s("calnumber","calnumber");case 78:d=r.sent;case 79:case 80:case 81:return r.abrupt("break",278);case 82:if(null!==i.groupvalue&&""!==i.groupvalue){r.next=86;break}d=e.getText("msg_required")+" "+e.getText("groups_groupvalue"),r.next=102;break;case 86:if(null!==i.groupname&&""!==i.groupname){r.next=90;break}d=e.getText("msg_required")+" "+e.getText("groups_groupname"),r.next=102;break;case 90:if("usergroup"!==i.groupname||""!==i.description&&null!==i.description){r.next=94;break}d=e.getText("msg_required")+" "+e.getText("groups_description"),r.next=102;break;case 94:if("usergroup"!==i.groupname||""!==i.transfilter&&null!==i.transfilter){r.next=98;break}d=e.getText("msg_required")+" "+e.getText("groups_transfilter"),r.next=102;break;case 98:if(null!==i.id){r.next=102;break}return r.next=101,o([["groupname","=","?"],["and","groupvalue","=","?"]],[i.groupname,i.groupvalue]);case 101:d=r.sent;case 102:return r.abrupt("break",278);case 103:return null===i.product_id||""===i.product_id?d=e.getText("msg_required")+" "+e.getText("product_partnumber"):null===i.description||""===i.description?d=e.getText("msg_required")+" "+e.getText("item_description"):null!==i.tax_id&&""!==i.tax_id||(d=e.getText("msg_required")+" "+e.getText("item_taxcode")),r.abrupt("break",278);case 105:return null!==i.ref_id_1&&""!==i.ref_id_1&&null!==i.ref_id_2&&""!==i.ref_id_2||(d=e.getText("msg_required")+" "+e.getText("document_ref_transnumber")),r.abrupt("break",278);case 107:return r.abrupt("break",278);case 108:r.t1=t.edit.current.transtype,r.next="delivery"===r.t1?111:"inventory"===r.t1?114:"production"===r.t1?116:"formula"===r.t1?118:"waybill"===r.t1?120:122;break;case 111:return c=t.edit.dataset.groups.filter((function(e){return e.id===t.edit.current.item.direction}))[0].groupvalue,null===i.place_id||""===i.place_id?d="transfer"===c?e.getText("msg_required")+" "+e.getText("movement_target"):e.getText("msg_required")+" "+e.getText("movement_place"):"transfer"===c&&t.edit.current.item.place_id===i.place_id?d=e.getText("msg_required")+" "+e.getText("ms_diff_warehouse_err"):null!==i.product_id&&""!==i.product_id||(d=e.getText("msg_required")+" "+e.getText("product_description")),r.abrupt("break",123);case 114:return null!==i.product_id&&""!==i.product_id||(d=e.getText("msg_required")+" "+e.getText("product_description")),r.abrupt("break",123);case 116:return null===i.product_id||""===i.product_id?d=e.getText("msg_required")+" "+e.getText("product_description"):null!==i.place_id&&""!==i.place_id||(d=e.getText("msg_required")+" "+e.getText("movement_place")),r.abrupt("break",123);case 118:return null!==i.product_id&&""!==i.product_id||(d=e.getText("msg_required")+" "+e.getText("product_description")),r.abrupt("break",123);case 120:return null!==i.tool_id&&""!==i.tool_id||(d=e.getText("msg_required")+" "+e.getText("tool_serial")),r.abrupt("break",123);case 122:return r.abrupt("break",123);case 123:case 124:case 125:case 126:return r.abrupt("break",278);case 127:if(null===i.id&&parseInt(i.placetype,10)!==t.edit.dataset.placetype.filter((function(e){return"warehouse"===e.groupvalue}))[0].id&&(i.curr=t.edit.dataset.currency[0].curr),null!==i.description&&""!==i.description){r.next=132;break}d=e.getText("msg_required")+" "+e.getText("place_description"),r.next=140;break;case 132:if(null!==i.placetype&&""!==i.placetype){r.next=136;break}d=e.getText("msg_required")+" "+e.getText("place_placetype"),r.next=140;break;case 136:if(null!==i.planumber){r.next=140;break}return r.next=139,s("planumber","planumber");case 139:d=r.sent;case 140:return r.abrupt("break",278);case 141:return null===i.validfrom||""===i.validfrom?d=e.getText("msg_required")+" "+e.getText("price_validfrom"):null===i.curr||""===i.curr?d=e.getText("msg_required")+" "+e.getText("price_curr"):null!==i.calcmode&&""!==i.calcmode||null===i.discount||(d=e.getText("msg_required")+" "+e.getText("price_calcmode")),r.abrupt("break",278);case 143:if(null!==i.description&&""!==i.description){r.next=147;break}d=e.getText("msg_required")+" "+e.getText("product_description"),r.next=169;break;case 147:if(null!==i.protype&&""!==i.protype){r.next=151;break}d=e.getText("msg_required")+" "+e.getText("product_protype"),r.next=169;break;case 151:if(null!==i.unit&&""!==i.unit){r.next=155;break}d=e.getText("msg_required")+" "+e.getText("product_unit"),r.next=169;break;case 155:if(null!==i.tax&&""!==i.tax){r.next=159;break}d=e.getText("msg_required")+" "+e.getText("product_tax"),r.next=169;break;case 159:if(null!==i.id||null===i.partnumber||""===i.partnumber){r.next=165;break}return r.next=162,o(["partnumber","=","?"],[i.partnumber]);case 162:d=r.sent,r.next=169;break;case 165:if(null!==i.partnumber){r.next=169;break}return r.next=168,s("partnumber","partnumber");case 168:d=r.sent;case 169:return r.abrupt("break",278);case 170:if(null!==i.description&&""!==i.description){r.next=174;break}d=e.getText("msg_required")+" "+e.getText("project_description"),r.next=184;break;case 174:if(null!==i.id||null===i.pronumber||""===i.pronumber){r.next=180;break}return r.next=177,o(["pronumber","=","?"],[i.pronumber]);case 177:d=r.sent,r.next=184;break;case 180:if(null!==i.pronumber){r.next=184;break}return r.next=183,s("pronumber","pronumber");case 183:d=r.sent;case 184:return r.abrupt("break",278);case 185:return null===i.ratetype||""===i.ratetype?d=e.getText("msg_required")+" "+e.getText("rate_ratetype"):null===i.ratedate||""===i.ratedate?d=e.getText("msg_required")+" "+e.getText("rate_ratedate"):null!==i.curr&&""!==i.curr||(d=e.getText("rate_curr")+" "+e.getText("rate_ratedate")),r.abrupt("break",278);case 187:if(null!==i.taxcode&&""!==i.taxcode){r.next=191;break}d=e.getText("msg_required")+" "+e.getText("tax_taxcode"),r.next=199;break;case 191:if(null!==i.description&&""!==i.description){r.next=195;break}d=e.getText("msg_required")+" "+e.getText("tax_description"),r.next=199;break;case 195:if(null!==i.id){r.next=199;break}return r.next=198,o(["taxcode","=","?"],[i.taxcode]);case 198:d=r.sent;case 199:return r.abrupt("break",278);case 200:if(null!==i.product_id&&""!==i.product_id){r.next=204;break}d=e.getText("msg_required")+" "+e.getText("product_partnumber"),r.next=218;break;case 204:if(null!==i.description&&""!==i.description){r.next=208;break}d=e.getText("msg_required")+" "+e.getText("tool_description"),r.next=218;break;case 208:if(null!==i.id||null===i.serial||""===i.serial){r.next=214;break}return r.next=211,o(["serial","=","?"],[i.serial]);case 211:d=r.sent,r.next=218;break;case 214:if(null!==i.serial){r.next=218;break}return r.next=217,s("serial","serial");case 217:d=r.sent;case 218:return r.abrupt("break",278);case 219:if(u=t.edit.dataset.groups.filter((function(e){return e.id===parseInt(i.transtype,10)}))[0].groupvalue,m=t.edit.dataset.groups.filter((function(e){return e.id===parseInt(i.direction,10)}))[0].groupvalue,"offer"!==u&&"order"!==u&&"worksheet"!==u&&"rent"!==u&&"invoice"!==u||null!==i.customer_id&&""!==i.customer_id){r.next=225;break}d=e.getText("msg_required")+" "+e.getText("customer_custname"),r.next=259;break;case 225:if("cash"!==u||null!==i.place_id&&""!==i.place_id){r.next=229;break}d=e.getText("msg_required")+" "+e.getText("payment_place_cash"),r.next=259;break;case 229:if("bank"!==u||null!==i.place_id&&""!==i.place_id){r.next=233;break}d=e.getText("msg_required")+" "+e.getText("payment_place_bank"),r.next=259;break;case 233:if("inventory"!==u&&"production"!==u&&("delivery"!==u||"transfer"!==m)||null!==i.place_id&&""!==i.place_id){r.next=237;break}d=e.getText("msg_required")+" "+e.getText("movement_place"),r.next=259;break;case 237:if("production"!==u||null!==i.duedate&&""!==i.duedate){r.next=241;break}d=e.getText("msg_required")+" "+e.getText("production_duedate"),r.next=259;break;case 241:if("production"!==u&&"formula"!==u||null!==t.edit.current.extend.product_id&&""!==t.edit.current.extend.product_id){r.next=245;break}d=e.getText("msg_required")+" "+e.getText("product_partnumber"),r.next=259;break;case 245:if("waybill"!==u||null!==t.edit.current.extend.ref_id&&""!==t.edit.current.extend.ref_id){r.next=249;break}d=e.getText("msg_required")+" "+e.getText("waybill_reference"),r.next=259;break;case 249:if(null!==i.transnumber){r.next=259;break}if("waybill"!==u&&"cash"!==u){r.next=256;break}return r.next=253,s(u,"transnumber");case 253:d=r.sent,r.next=259;break;case 256:return r.next=258,s(u+"_"+m,"transnumber");case 258:d=r.sent;case 259:return r.abrupt("break",278);case 260:if(null!==i.menukey&&""!==i.menukey){r.next=264;break}d=e.getText("msg_required")+" "+e.getText("menucmd_menukey"),r.next=276;break;case 264:if(null!==i.description&&""!==i.description){r.next=268;break}d=e.getText("msg_required")+" "+e.getText("menucmd_description"),r.next=276;break;case 268:if(null!==i.method&&""!==i.method){r.next=272;break}d=e.getText("msg_required")+" "+e.getText("menucmd_method"),r.next=276;break;case 272:if(null!==i.id){r.next=276;break}return r.next=275,o(["menukey","=","?"],[i.menukey]);case 275:d=r.sent;case 276:case 277:return r.abrupt("break",278);case 278:if(""===d){r.next=280;break}return r.abrupt("return",{error:{message:d}});case 280:return r.abrupt("return",i);case 281:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},f=function(){var e=Object(i.useContext)(u.b).data,t=Object(p.e)();return function(r){var n=r.dataset||e.edit.dataset,a=r.current||e.edit.current,l=e.login.data,i=t.getSetting("ui");switch(r.tablename){case"address":return s()({},{$set:{id:null,nervatype:l.groups.filter((function(e){return"nervatype"===e.groupname&&e.groupvalue===a.type}))[0].id,ref_id:a.item.id,country:null,state:null,zipcode:null,city:null,street:null,notes:null,deleted:0}});case"audit":return s()({},{$set:{id:null,usergroup:null,nervatype:null,subtype:null,inputfilter:null,supervisor:1}});case"barcode":return s()({},{$set:{id:null,code:null,product_id:a.item.id,description:null,barcodetype:n.barcodetype.filter((function(e){return"barcodetype"===e.groupname&&"CODE_39"===e.groupvalue}))[0].id,qty:0,defcode:0}});case"contact":return s()({},{$set:{id:null,nervatype:l.groups.filter((function(e){return"nervatype"===e.groupname&&e.groupvalue===a.type}))[0].id,ref_id:a.item.id,firstname:null,surname:null,status:null,phone:null,fax:null,mobil:null,email:null,notes:null,deleted:0}});case"currency":return s()({},{$set:{id:null,curr:null,description:null,digit:0,defrate:0,cround:0}});case"customer":return"undefined"!==typeof n.custtype?s()({},{$set:{id:null,custtype:n.custtype.filter((function(e){return"company"===e.groupvalue}))[0].id,custnumber:null,custname:null,taxnumber:null,account:null,notax:0,terms:0,creditlimit:0,discount:0,notes:null,inactive:0,deleted:0}}):null;case"deffield":return s()({},{$set:{id:null,fieldname:Object(p.b)(),nervatype:null,subtype:null,fieldtype:null,description:null,valuelist:null,addnew:0,visible:1,readonly:0,deleted:0}});case"employee":return n.usergroup?s()({},{$set:{id:null,empnumber:null,username:null,usergroup:n.usergroup.filter((function(e){return"admin"===e.groupvalue}))[0].id,startdate:Object(d.a)(new Date,{representation:"date"}),enddate:null,department:null,password:null,registration_key:null,inactive:0,deleted:0}}):null;case"event":var o=s()({},{$set:{id:null,calnumber:null,nervatype:null,ref_id:null,uid:null,eventgroup:null,fromdate:null,todate:null,subject:null,place:null,description:null,deleted:0}});return"undefined"!==typeof a.item&&(o="event"===a.type?s()(o,{$merge:{nervatype:a.item.nervatype,ref_id:a.item.ref_id}}):s()(o,{$merge:{nervatype:l.groups.filter((function(e){return"nervatype"===e.groupname&&e.groupvalue===a.type}))[0].id,ref_id:a.item.id}})),o;case"fieldvalue":var u=s()({},{$set:{id:null,fieldname:null,ref_id:null,value:null,notes:null,deleted:0}});return"undefined"!==typeof a.item&&(u=s()(u,{$merge:{ref_id:a.item.id}})),u;case"groups":return s()({},{$set:{id:null,groupname:null,groupvalue:null,description:null,inactive:0,deleted:0}});case"usergroup":return s()({},{$set:{id:null,groupname:"usergroup",groupvalue:null,description:null,transfilter:null,inactive:0,deleted:0}});case"item":return s()({},{$set:{id:null,trans_id:a.item.id,product_id:null,unit:null,qty:0,fxprice:0,netamount:0,discount:0,tax_id:null,vatamount:0,amount:0,description:null,deposit:0,ownstock:0,actionprice:0,deleted:0}});case"link":var m=s()({},{$set:{id:null,nervatype_1:null,ref_id_1:null,nervatype_2:null,ref_id_2:null,deleted:0}});switch(a.form_type){case"invoice_link":m=s()(m,{$merge:{nervatype_1:l.groups.filter((function(e){return"nervatype"===e.groupname&&"payment"===e.groupvalue}))[0].id,nervatype_2:l.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id,ref_id_2:a.item.id}});break;case"payment_link":m=s()(m,{$merge:{nervatype_1:l.groups.filter((function(e){return"nervatype"===e.groupname&&"payment"===e.groupvalue}))[0].id,nervatype_2:l.groups.filter((function(e){return"nervatype"===e.groupname&&"trans"===e.groupvalue}))[0].id}})}return m;case"log":return s()({},{$set:{id:null,fromdate:Object(d.a)(new Date,{representation:"date"}),todate:"",empnumber:"",logstate:"update",nervatype:""}});case"ui_menu":return s()({},{$set:{id:null,menukey:null,description:null,modul:null,icon:null,funcname:null,method:n.method.filter((function(e){return"post"===e.groupvalue}))[0].id,address:null}});case"ui_menufields":return s()({},{$set:{id:null,menu_id:null,fieldname:null,description:null,fieldtype:null,orderby:0}});case"movement":var f=s()({},{$set:{id:null,trans_id:a.item.id,shippingdate:null,movetype:null,product_id:null,tool_id:null,qty:0,place_id:null,shared:0,notes:null,deleted:0}});switch(a.transtype){case"delivery":f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"inventory"===e.groupvalue}))[0].id,shippingdate:a.item.transdate+" 00:00:00"}}),n.movement_transfer.length>0&&(f=s()(f,{$merge:{place_id:n.movement_transfer[0].place_id}}));break;case"inventory":f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"inventory"===e.groupvalue}))[0].id,shippingdate:a.item.transdate+" 00:00:00",place_id:a.item.place_id}});break;case"production":f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"inventory"===e.groupvalue}))[0].id,shippingdate:a.item.duedate}});break;case"formula":f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"plan"===e.groupvalue}))[0].id,shippingdate:a.item.transdate+" 00:00:00"}});break;case"waybill":f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"tool"===e.groupvalue}))[0].id,shippingdate:a.item.transdate+" 00:00:00"}});break;default:f=s()(f,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"inventory"===e.groupvalue}))[0].id}})}return f;case"movement_head":var g=s()({},{$set:{id:null,trans_id:a.item.id,shippingdate:null,product_id:null,product:"",movetype:null,tool_id:null,qty:0,place_id:null,shared:0,notes:null,deleted:0}});switch(a.transtype){case"formula":g=s()(g,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"head"===e.groupvalue}))[0].id}});break;case"production":g=s()(g,{$merge:{movetype:n.groups.filter((function(e){return"movetype"===e.groupname&&"inventory"===e.groupvalue}))[0].id,shared:1}})}return g;case"numberdef":return s()({},{$set:{id:null,numberkey:null,prefix:null,curvalue:0,isyear:1,sep:"/",len:5,description:null,visible:0,readonly:0,orderby:0}});case"pattern":return s()({},{$set:{id:null,transtype:a.item.transtype,description:null,notes:"",defpattern:0,deleted:0}});case"payment":return s()({},{$set:{id:null,trans_id:a.item.id,paiddate:a.item.transdate,amount:0,notes:null,deleted:0}});case"place":return s()({},{$set:{id:null,planumber:null,placetype:null,description:null,curr:null,defplace:0,notes:null,inactive:0,deleted:0}});case"price":case"discount":var _=s()({},{$set:{id:null,product_id:a.item.id,validfrom:Object(d.a)(new Date,{representation:"date"}),validto:null,curr:null,qty:0,pricevalue:0,discount:null,calcmode:n.calcmode.filter((function(e){return"calcmode"===e.groupname&&"amo"===e.groupvalue}))[0].id,vendorprice:0,deleted:0}});"discount"===r.tablename&&(_=s()(_,{$merge:{discount:0}}));var b=n.settings.filter((function(e){return"default_currency"===e.fieldname}))[0];return"undefined"!==typeof b&&(_=s()(_,{$merge:{curr:b.value}})),_;case"product":if(n.protype){var y=s()({},{$set:{id:null,protype:n.protype.filter((function(e){return"item"===e.groupvalue}))[0].id,partnumber:null,description:null,unit:null,tax_id:null,notes:null,inactive:0,webitem:0,deleted:0}}),v=n.settings.filter((function(e){return"default_unit"===e.fieldname}))[0];"undefined"!==typeof v&&(y=s()(y,{$merge:{unit:v.value}}));var h=n.settings.filter((function(e){return"default_taxcode"===e.fieldname}))[0];return y="undefined"!==typeof h?s()(y,{$merge:{tax_id:n.tax.filter((function(e){return e.taxcode===h.value}))[0].id}}):s()(y,{$merge:{tax_id:n.tax.filter((function(e){return"0%"===e.taxcode}))[0].id}})}return null;case"project":return s()({},{$set:{id:null,pronumber:null,description:null,customer_id:null,startdate:null,enddate:null,notes:null,inactive:0,deleted:0}});case"printqueue":return"printqueue"===a.type&&a.item?s()({},{$set:{id:null,nervatype:a.item.nervatype,startdate:a.item.startdate,enddate:a.item.enddate,transnumber:a.item.transnumber,username:a.item.username,server:a.item.server,mode:a.item.mode,orientation:a.item.orientation,size:a.item.size}}):s()({},{$set:{id:null,nervatype:null,startdate:null,enddate:null,transnumber:null,username:null,server:null,mode:"pdf",orientation:i.page_orient,size:i.page_size}});case"rate":return s()({},{$set:{id:null,ratetype:null,ratedate:Object(d.a)(new Date,{representation:"date"}),curr:null,place_id:null,rategroup:null,ratevalue:0,deleted:0}});case"refvalue":var x=s()({},{$set:{seltype:"transitem",ref_id:null,refnumber:"",transtype:""}});if("waybill"===a.transtype){var w=n.trans[0];null!==w.customer_id?x=s()(x,{$merge:{seltype:"customer",ref_id:w.customer_id,refnumber:w.custname}}):null!==w.employee_id?x=s()(x,{$merge:{seltype:"employee",ref_id:w.employee_id,refnumber:w.empnumber}}):(x=s()(x,{$merge:{seltype:"transitem"}}),n.translink&&n.translink.length>0&&(x=s()(x,{$merge:{ref_id:n.translink[0].ref_id_2,transtype:n.translink[0].transtype,refnumber:n.translink[0].transnumber}})))}return x;case"report":return s()({},{$set:{id:null,reportkey:null,nervatype:null,transtype:null,direction:null,repname:null,description:null,label:null,filetype:null,report:null,orientation:i.page_orient,size:i.page_size}});case"tax":return s()({},{$set:{id:null,taxcode:null,description:null,rate:0,inactive:0}});case"tool":return s()({},{$set:{id:null,serial:null,description:null,product_id:null,toolgroup:null,notes:null,inactive:0,deleted:0}});case"trans":var j=r.transtype||a.transtype;if("undefined"!==typeof n.pattern){var T=s()({},{$set:{id:null,transtype:n.groups.filter((function(e){return"transtype"===e.groupname&&e.groupvalue===j}))[0].id,direction:n.groups.filter((function(e){return"direction"===e.groupname&&"out"===e.groupvalue}))[0].id,transnumber:null,ref_transnumber:null,crdate:Object(d.a)(new Date,{representation:"date"}),transdate:Object(d.a)(new Date,{representation:"date"}),duedate:null,customer_id:null,employee_id:null,department:null,project_id:null,place_id:null,paidtype:null,curr:null,notax:0,paid:0,acrate:0,notes:null,intnotes:null,fnote:null,transtate:n.transtate.filter((function(e){return"transtate"===e.groupname&&"ok"===e.groupvalue}))[0].id,cruser_id:l.employee.id,closed:0,deleted:0}}),E=n.pattern.filter((function(e){return 1===e.defpattern}))[0];switch("undefined"!==typeof E&&(T=s()(T,{$merge:{fnote:E.notes}})),j){case"offer":case"order":case"worksheet":case"rent":case"invoice":case"receipt":T=s()(T,{$merge:{duedate:Object(d.a)(new Date,{representation:"date"})+"T00:00:00"}});var C=n.settings.filter((function(e){return"default_currency"===e.fieldname}))[0];"undefined"!==typeof C&&(T=s()(T,{$merge:{curr:C.value}}));var O=n.settings.filter((function(e){return"default_paidtype"===e.fieldname}))[0];"undefined"!==typeof O&&(T=s()(T,{$merge:{paidtype:n.paidtype.filter((function(e){return e.groupvalue===O.value}))[0].id}}));break;case"bank":case"inventory":case"formula":T=s()(T,{$merge:{direction:n.groups.filter((function(e){return"direction"===e.groupname&&"transfer"===e.groupvalue}))[0].id}});break;case"production":T=s()(T,{$merge:{direction:n.groups.filter((function(e){return"direction"===e.groupname&&"transfer"===e.groupvalue}))[0].id,duedate:Object(d.a)(new Date,{representation:"date"})+"T00:00:00"}})}if("invoice"===j){var k=n.settings.filter((function(e){return"default_deadline"===e.fieldname}))[0];"undefined"!==typeof k&&(T=s()(T,{$merge:{duedate:Object(d.a)(Object(c.default)(new Date,parseInt(k.value,10)),{representation:"date"})+"T00:00:00"}}))}return T}return null}return!1}}},86:function(e,t,r){"use strict";t.a={currency:function(){return[{infoName:"currency_view",infoType:"view"}]},customer:function(){return[{infoName:"customer",infoType:"table",classAlias:"customer",where:[["deleted","=","0"],["and","id","=","?"]]},{infoName:"custtype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'custtype'"]],["and","groupvalue","<>","'own'"]],order:"groupname, groupvalue"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'","'custtype'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_customer_report'","'transyear'","'log_update'","'log_deleted'","'log_customer_update'","'log_customer_deleted'"]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:["fieldname"],from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'customer'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"address",infoType:"view"},{infoName:"contact",infoType:"view"},{infoName:"event",infoType:"view"}]},deffield:function(){return[{infoName:"deffield_view",infoType:"view"},{infoName:"fieldtype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'fieldtype'"],["and","groupvalue","not in",[[],"'filter'","'checkbox'","'trans'"]]],order:"groupname, groupvalue"},{infoName:"nervatype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'nervatype'"],["and","groupvalue","in",[[],"'customer'","'employee'","'event'","'formula'","'place'","'product'","'project'","'tool'","'trans'"]]],order:"groupname, groupvalue"}]},employee:function(){return[{infoName:"employee",infoType:"view"},{infoName:"usergroup",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'usergroup'"]]],order:"groupname, groupvalue"},{infoName:"department",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'department'"]]],order:"groupname, groupvalue"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_employee_report'","'transyear'","'log_update'","'log_deleted'","'log_employee_update'","'log_employee_deleted'"]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:["fieldname"],from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'employee'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"address",infoType:"view"},{infoName:"contact",infoType:"view"},{infoName:"event",infoType:"view"}]},event:function(){return[{infoName:"event",infoType:"view"},{infoName:"eventgroup",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'eventgroup'"]]],order:"groupname, groupvalue"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'event'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:[["fieldname","in",[[],"'default_event_report'","'transyear'","'log_update'","'log_deleted'","'log_event_update'","'log_event_deleted'"]]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:["fieldname"],from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'event'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"}]},groups:function(){return[{infoName:"groups_view",infoType:"view"}]},numberdef:function(){return[{infoName:"numberdef_view",infoType:"view"}]},place:function(){return[{infoName:"place",infoType:"table",classAlias:"place",where:[["deleted","=","0"],["and","id","=","?"]]},{infoName:"address",infoType:"table",classAlias:"address",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'place'"]]}]],["and","ref_id","=","?"]]},{infoName:"placetype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'placetype'"]]],order:"groupname, groupvalue"},{infoName:"currency",infoType:"table",classAlias:"currency",where:""},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_place_report'","'transyear'","'log_update'","'log_deleted'","'log_place_update'","'log_place_deleted'"]]},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'","'placetype'"]]],order:"groupname, groupvalue"},{infoName:"contact",infoType:"view"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'place'"]]}]]],order:"description"},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:"fieldname",from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'place'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"place_view",infoType:"view"}]},printqueue:function(){return[{infoName:"server_printers",infoType:"view"},{infoName:"items",infoType:"view"}]},product:function(){return[{infoName:"product",infoType:"table",classAlias:"product",where:[["deleted","=","0"],["and","id","=","?"]]},{infoName:"protype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'protype'"]]],order:"groupname, groupvalue"},{infoName:"barcodetype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'barcodetype'"]]],order:"groupname, groupvalue"},{infoName:"calcmode",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'calcmode'"]]],order:"groupname, groupvalue"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'","'protype'","'calcmode'","'barcodetype'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_product_report'","'transyear'","'log_update'","'log_deleted'","'log_product_update'","'log_product_deleted'","'default_currency'","'default_unit'","'default_taxcode'"]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:"fieldname",from:"deffield",where:["nervatype","=",[{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'product'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"currency",infoType:"table",classAlias:"currency",where:""},{infoName:"tax",infoType:"table",classAlias:"tax",where:""},{infoName:"event",infoType:"view"},{infoName:"barcode",infoType:"view"},{infoName:"price",infoType:"view"},{infoName:"discount",infoType:"view"}]},project:function(){return[{infoName:"project",infoType:"view"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_project_report'","'transyear'","'log_update'","'log_deleted'","'log_project_update'","'log_project_deleted'"]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:["fieldname"],from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'project'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"address",infoType:"view"},{infoName:"contact",infoType:"view"},{infoName:"event",infoType:"view"}]},rate:function(){return[{infoName:"rate",infoType:"view"},{infoName:"currency",infoType:"table",classAlias:"currency",where:""},{infoName:"ratetype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'ratetype'"]]],order:"groupname, groupvalue"},{infoName:"rategroup",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'rategroup'"]]],order:"groupname, groupvalue"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_rate_report'","'transyear'","'log_update'","'log_deleted'","'log_rate_update'","'log_rate_deleted'","'default_currency'"]]}]},report:function(){return[{infoName:"report",infoType:"view"}]},setting:function(){return[{infoName:"setting_view",infoType:"view"}]},tax:function(){return[{infoName:"tax_view",infoType:"view"}]},template:function(){return[{infoName:"template",infoType:"view"},{infoName:"template_view",infoType:"view"}]},tool:function(){return[{infoName:"tool",infoType:"view"},{infoName:"toolgroup",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'toolgroup'"]]],order:"groupname, groupvalue"},{infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'nervatype'","'fieldtype'","'logstate'"]]],order:"groupname, groupvalue"},{infoName:"deffield",infoType:"table",classAlias:"deffield",where:[["deleted","=","0"],["and","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]]],order:"description"},{infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_tool_report'","'transyear'","'log_update'","'log_deleted'","'log_tool_update'","'log_tool_deleted'"]]},{infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:"fieldname",from:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'tool'"]]}]]}]],["and","ref_id","=","?"]]},{infoName:"deffield_prop",infoType:"view"},{infoName:"event",infoType:"view"}]},trans:function(e){var t=[];switch(t.push({infoName:"groups",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","in",[[],"'transtype'","'direction'","'trans'","'nervatype'","'fieldtype'","'logstate'","'placetype'","'movetype'"]]],order:"groupname, groupvalue"}),t.push({infoName:"transtate",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'transtate'"]],order:"groupname, groupvalue"}),t.push({infoName:"department",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'department'"]],order:"groupname, groupvalue"}),t.push({infoName:"paidtype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'paidtype'"]],order:"groupname, groupvalue"}),t.push({infoName:"deffield",infoType:"table",classAlias:"deffield",where:["nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}],["or","nervatype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'link'"]]}]]],order:"description"}),t.push({infoName:"settings",infoType:"table",classAlias:"fieldvalue",where:["fieldname","in",[[],"'default_currency'","'show_partnumber'","'show_partcustomer'","'invoice_from_inventory'","'log_trans_update'","'log_trans_deleted'","'log_trans_closed'","'default_trans_"+e+"_out_report'","'default_trans_"+e+"_in_report'","'trans_closed_policy_"+e+"_out'","'trans_closed_policy_"+e+"_in'","'invoice_copy'","'default_deadline'","'default_paidtype'","'default_bank'","'default_chest'","'default_warehouse'"]]}),t.push({infoName:"fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],{select:"fieldname",from:"deffield df",inner_join:["groups g","on",[["df.nervatype","=","g.id"],["and","g.groupvalue","=","'trans'"]]]}]],["and","ref_id","=","?"]]}),t.push({infoName:"deffield_prop",infoType:"view"}),t.push({infoName:"translink",infoType:"view"}),t.push({infoName:"cancel_link",infoType:"view"}),t.push({infoName:"currency",infoType:"table",classAlias:"currency",where:""}),t.push({infoName:"tax",infoType:"table",classAlias:"tax",where:""}),t.push({infoName:"pattern",infoType:"table",classAlias:"pattern",where:[["deleted","=","0"],["and","transtype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'transtype'"],["and","groupvalue","=","'"+e+"'"]]}]]]}),t.push({infoName:"delivery_pattern",infoType:"table",classAlias:"pattern",where:[["deleted","=","0"],["and","transtype","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'transtype'"],["and","groupvalue","=","'delivery'"]]}]]]}),t.push({infoName:"place",infoType:"table",classAlias:"place",where:["deleted","=","0"]}),t.push({infoName:"direction",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'direction'"],["and","groupvalue","in",[[],"'out'","'in'"]]],order:"groupname, groupvalue"}),t.push({infoName:"trans",infoType:"view"}),t.push({infoName:"item",infoType:"view"}),t.push({infoName:"tool_movement",infoType:"view"}),t.push({infoName:"element_count",infoType:"view"}),t.push({infoName:"payment",infoType:"view"}),e){case"bank":case"cash":t.push({infoName:"payment_link",infoType:"view"}),t.push({infoName:"payment_link_fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],"'link_qty'","'link_rate'"]],["and","ref_id","in",[[],{select:["id"],from:"link",where:[["deleted","=","0"],["and","nervatype_1","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'payment'"]]}]],["and","ref_id_1","in",[[],{select:["id"],from:"payment",where:[["deleted","=","0"],["and","trans_id","=","?"]]}]]]}]]]});break;case"invoice":t.push({infoName:"invoice_link",infoType:"view"}),t.push({infoName:"invoice_link_fieldvalue",infoType:"table",classAlias:"fieldvalue",where:[["deleted","=","0"],["and","fieldname","in",[[],"'link_qty'","'link_rate'"]],["and","ref_id","in",[[],{select:["id"],from:"link",where:[["deleted","=","0"],["and","nervatype_2","=",[[],{select:["id"],from:"groups",where:[["groupname","=","'nervatype'"],["and","groupvalue","=","'trans'"]]}]],["and","ref_id_2","=","?"]]}]]]});break;case"formula":t.push({infoName:"movement_head",infoType:"view",sqlKey:"movement_formula_head"}),t.push({infoName:"movement",infoType:"view",sqlKey:"movement_formula"});break;case"production":t.push({infoName:"formula_head",infoType:"view",sqlKey:"formula_head"}),t.push({infoName:"movement_head",infoType:"view",sqlKey:"movement_production_head"}),t.push({infoName:"movement",infoType:"view",sqlKey:"movement_production"});break;case"delivery":t.push({infoName:"place",infoType:"table",classAlias:"place",where:"deleted=0"}),t.push({infoName:"movement",infoType:"view",sqlKey:"movement_delivery"}),t.push({infoName:"movement_transfer",infoType:"view"});break;case"inventory":t.push({infoName:"movement",infoType:"view",sqlKey:"movement_inventory"});break;case"waybill":t.push({infoName:"movement",infoType:"view",sqlKey:"movement_waybill"});break;case"order":case"worksheet":case"rent":t.push({infoName:"transitem_invoice",infoType:"view"}),t.push({infoName:"transitem_shipping",infoType:"view"}),t.push({infoName:"shipping_items",infoType:"view"}),t.push({infoName:"shipping_delivery",infoType:"view"})}return t},ui_menu:function(){return[{infoName:"fieldtype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'fieldtype'"],["and","groupvalue","in",[[],"'bool'","'date'","'integer'","'float'","'string'"]]],order:"groupname, groupvalue"},{infoName:"method",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'method'"]],order:"groupname, groupvalue"},{infoName:"ui_menu_view",infoType:"view"}]},usergroup:function(){return[{infoName:"nervatype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'nervatype'"],["and","groupvalue","in",[[],"'audit'","'customer'","'product'","'price'","'employee'","'tool'","'project'","'event'","'setting'","'trans'","'menu'","'report'"]]],order:"groupname, groupvalue"},{infoName:"transtype",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'transtype'"],["and","groupvalue","in",[[],"'offer'","'order'","'worksheet'","'rent'","'invoice'","'delivery'","'inventory'","'waybill'","'production'","'formula'","'bank'","'cash'"]]],order:"groupname, groupvalue"},{infoName:"inputfilter",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'inputfilter'"]],order:"groupname, groupvalue"},{infoName:"transfilter",infoType:"table",classAlias:"groups",where:[["deleted","=","0"],["and","groupname","=","'transfilter'"]],order:"groupname, groupvalue"},{infoName:"reportkey",infoType:"view"},{infoName:"menukey",infoType:"view"},{infoName:"usergroup_view",infoType:"view"}]}}}},[[617,1,2]]]);